/*! For license information please see main.d0f77ef4.js.LICENSE.txt */
!function(){var e={715:function(e,t){var n;!function(){"use strict";var r={}.hasOwnProperty;function i(){for(var e=[],t=0;t<arguments.length;t++){var n=arguments[t];if(n){var a=typeof n;if("string"===a||"number"===a)e.push(n);else if(Array.isArray(n)){if(n.length){var o=i.apply(null,n);o&&e.push(o)}}else if("object"===a){if(n.toString!==Object.prototype.toString&&!n.toString.toString().includes("[native code]")){e.push(n.toString());continue}for(var s in n)r.call(n,s)&&n[s]&&e.push(s)}}}return e.join(" ")}e.exports?(i.default=i,e.exports=i):void 0===(n=function(){return i}.apply(t,[]))||(e.exports=n)}()},977:function(e,t,n){"use strict";function r(e){var t,n,i="";if("string"==typeof e||"number"==typeof e)i+=e;else if("object"==typeof e)if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=r(e[t]))&&(i&&(i+=" "),i+=n);else for(t in e)e[t]&&(i&&(i+=" "),i+=t);return i}function i(){for(var e,t,n=0,i="";n<arguments.length;)(e=arguments[n++])&&(t=r(e))&&(i&&(i+=" "),i+=t);return i}n.r(t),n.d(t,{clsx:function(){return i}}),t.default=i},394:function(e,t,n){var r=n(984),i=n(155).each;function a(e,t){this.query=e,this.isUnconditional=t,this.handlers=[],this.mql=window.matchMedia(e);var n=this;this.listener=function(e){n.mql=e.currentTarget||e,n.assess()},this.mql.addListener(this.listener)}a.prototype={constuctor:a,addHandler:function(e){var t=new r(e);this.handlers.push(t),this.matches()&&t.on()},removeHandler:function(e){var t=this.handlers;i(t,(function(n,r){if(n.equals(e))return n.destroy(),!t.splice(r,1)}))},matches:function(){return this.mql.matches||this.isUnconditional},clear:function(){i(this.handlers,(function(e){e.destroy()})),this.mql.removeListener(this.listener),this.handlers.length=0},assess:function(){var e=this.matches()?"on":"off";i(this.handlers,(function(t){t[e]()}))}},e.exports=a},761:function(e,t,n){var r=n(394),i=n(155),a=i.each,o=i.isFunction,s=i.isArray;function u(){if(!window.matchMedia)throw new Error("matchMedia not present, legacy browsers require a polyfill");this.queries={},this.browserIsIncapable=!window.matchMedia("only all").matches}u.prototype={constructor:u,register:function(e,t,n){var i=this.queries,u=n&&this.browserIsIncapable;return i[e]||(i[e]=new r(e,u)),o(t)&&(t={match:t}),s(t)||(t=[t]),a(t,(function(t){o(t)&&(t={match:t}),i[e].addHandler(t)})),this},unregister:function(e,t){var n=this.queries[e];return n&&(t?n.removeHandler(t):(n.clear(),delete this.queries[e])),this}},e.exports=u},984:function(e){function t(e){this.options=e,!e.deferSetup&&this.setup()}t.prototype={constructor:t,setup:function(){this.options.setup&&this.options.setup(),this.initialised=!0},on:function(){!this.initialised&&this.setup(),this.options.match&&this.options.match()},off:function(){this.options.unmatch&&this.options.unmatch()},destroy:function(){this.options.destroy?this.options.destroy():this.off()},equals:function(e){return this.options===e||this.options.match===e}},e.exports=t},155:function(e){e.exports={isFunction:function(e){return"function"===typeof e},isArray:function(e){return"[object Array]"===Object.prototype.toString.apply(e)},each:function(e,t){for(var n=0,r=e.length;n<r&&!1!==t(e[n],n);n++);}}},18:function(e,t,n){var r=n(761);e.exports=new r},727:function(e,t,n){var r=n(660),i=function(e){var t="",n=Object.keys(e);return n.forEach((function(i,a){var o=e[i];(function(e){return/[height|width]$/.test(e)})(i=r(i))&&"number"===typeof o&&(o+="px"),t+=!0===o?i:!1===o?"not "+i:"("+i+": "+o+")",a<n.length-1&&(t+=" and ")})),t};e.exports=function(e){var t="";return"string"===typeof e?e:e instanceof Array?(e.forEach((function(n,r){t+=i(n),r<e.length-1&&(t+=", ")})),t):i(e)}},869:function(e,t,n){var r=NaN,i="[object Symbol]",a=/^\s+|\s+$/g,o=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,u=/^0o[0-7]+$/i,c=parseInt,l="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g,f="object"==typeof self&&self&&self.Object===Object&&self,d=l||f||Function("return this")(),h=Object.prototype.toString,p=Math.max,v=Math.min,m=function(){return d.Date.now()};function g(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function y(e){if("number"==typeof e)return e;if(function(e){return"symbol"==typeof e||function(e){return!!e&&"object"==typeof e}(e)&&h.call(e)==i}(e))return r;if(g(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=g(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(a,"");var n=s.test(e);return n||u.test(e)?c(e.slice(2),n?2:8):o.test(e)?r:+e}e.exports=function(e,t,n){var r,i,a,o,s,u,c=0,l=!1,f=!1,d=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function h(t){var n=r,a=i;return r=i=void 0,c=t,o=e.apply(a,n)}function b(e){var n=e-u;return void 0===u||n>=t||n<0||f&&e-c>=a}function k(){var e=m();if(b(e))return w(e);s=setTimeout(k,function(e){var n=t-(e-u);return f?v(n,a-(e-c)):n}(e))}function w(e){return s=void 0,d&&r?h(e):(r=i=void 0,o)}function x(){var e=m(),n=b(e);if(r=arguments,i=this,u=e,n){if(void 0===s)return function(e){return c=e,s=setTimeout(k,t),l?h(e):o}(u);if(f)return s=setTimeout(k,t),h(u)}return void 0===s&&(s=setTimeout(k,t)),o}return t=y(t)||0,g(n)&&(l=!!n.leading,a=(f="maxWait"in n)?p(y(n.maxWait)||0,t):a,d="trailing"in n?!!n.trailing:d),x.cancel=function(){void 0!==s&&clearTimeout(s),c=0,r=u=i=s=void 0},x.flush=function(){return void 0===s?o:w(m())},x}},392:function(e,t,n){"use strict";var r=n(780);function i(){}function a(){}a.resetWarningCache=i,e.exports=function(){function e(e,t,n,i,a,o){if(o!==r){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:a,resetWarningCache:i};return n.PropTypes=n,n}},188:function(e,t,n){e.exports=n(392)()},780:function(e){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},470:function(e,t,n){"use strict";var r=n(390),i=n(124);function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,s={};function u(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(s[e]=t,e=0;e<t.length;e++)o.add(t[e])}var l=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),f=Object.prototype.hasOwnProperty,d=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,h={},p={};function v(e,t,n,r,i,a,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var m={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){m[e]=new v(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];m[t]=new v(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){m[e]=new v(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){m[e]=new v(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){m[e]=new v(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){m[e]=new v(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){m[e]=new v(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){m[e]=new v(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){m[e]=new v(e,5,!1,e.toLowerCase(),null,!1,!1)}));var g=/[\-:]([a-z])/g;function y(e){return e[1].toUpperCase()}function b(e,t,n,r){var i=m.hasOwnProperty(t)?m[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!f.call(p,e)||!f.call(h,e)&&(d.test(e)?p[e]=!0:(h[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(g,y);m[t]=new v(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(g,y);m[t]=new v(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(g,y);m[t]=new v(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){m[e]=new v(e,1,!1,e.toLowerCase(),null,!1,!1)})),m.xlinkHref=new v("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){m[e]=new v(e,1,!1,e.toLowerCase(),null,!0,!0)}));var k=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,w=Symbol.for("react.element"),x=Symbol.for("react.portal"),_=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),E=Symbol.for("react.profiler"),I=Symbol.for("react.provider"),T=Symbol.for("react.context"),C=Symbol.for("react.forward_ref"),N=Symbol.for("react.suspense"),O=Symbol.for("react.suspense_list"),P=Symbol.for("react.memo"),A=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var R=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var j=Symbol.iterator;function D(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=j&&e[j]||e["@@iterator"])?e:null}var L,M=Object.assign;function U(e){if(void 0===L)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);L=t&&t[1]||""}return"\n"+L+e}var F=!1;function z(e,t){if(!e||F)return"";F=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&"string"===typeof c.stack){for(var i=c.stack.split("\n"),a=r.stack.split("\n"),o=i.length-1,s=a.length-1;1<=o&&0<=s&&i[o]!==a[s];)s--;for(;1<=o&&0<=s;o--,s--)if(i[o]!==a[s]){if(1!==o||1!==s)do{if(o--,0>--s||i[o]!==a[s]){var u="\n"+i[o].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}}while(1<=o&&0<=s);break}}}finally{F=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?U(e):""}function V(e){switch(e.tag){case 5:return U(e.type);case 16:return U("Lazy");case 13:return U("Suspense");case 19:return U("SuspenseList");case 0:case 2:case 15:return e=z(e.type,!1);case 11:return e=z(e.type.render,!1);case 1:return e=z(e.type,!0);default:return""}}function B(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case _:return"Fragment";case x:return"Portal";case E:return"Profiler";case S:return"StrictMode";case N:return"Suspense";case O:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case T:return(e.displayName||"Context")+".Consumer";case I:return(e._context.displayName||"Context")+".Provider";case C:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case P:return null!==(t=e.displayName||null)?t:B(e.type)||"Memo";case A:t=e._payload,e=e._init;try{return B(e(t))}catch(n){}}return null}function q(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return B(t);case 8:return t===S?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function H(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function W(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function G(e){e._valueTracker||(e._valueTracker=function(e){var t=W(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function K(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=W(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function Q(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Y(e,t){var n=t.checked;return M({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function X(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=H(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function $(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function J(e,t){$(e,t);var n=H(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,H(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&Q(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+H(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(a(91));return M({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(a(92));if(te(n)){if(1<n.length)throw Error(a(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:H(n)}}function ae(e,t){var n=H(t.value),r=H(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function oe(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function se(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ue(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?se(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,le=function(e){return"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction((function(){return e(t,n)}))}:e}((function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}}));function fe(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var de={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},he=["Webkit","ms","Moz","O"];function pe(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||de.hasOwnProperty(e)&&de[e]?(""+t).trim():t+"px"}function ve(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=pe(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(de).forEach((function(e){he.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),de[t]=de[e]}))}));var me=M({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ge(e,t){if(t){if(me[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(a(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(a(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(a(62))}}function ye(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var be=null;function ke(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var we=null,xe=null,_e=null;function Se(e){if(e=vi(e)){if("function"!==typeof we)throw Error(a(280));var t=e.stateNode;t&&(t=gi(t),we(e.stateNode,e.type,t))}}function Ee(e){xe?_e?_e.push(e):_e=[e]:xe=e}function Ie(){if(xe){var e=xe,t=_e;if(_e=xe=null,Se(e),t)for(e=0;e<t.length;e++)Se(t[e])}}function Te(e,t){return e(t)}function Ce(){}var Ne=!1;function Oe(e,t,n){if(Ne)return e(t,n);Ne=!0;try{return Te(e,t,n)}finally{Ne=!1,(null!==xe||null!==_e)&&(Ce(),Ie())}}function Pe(e,t){var n=e.stateNode;if(null===n)return null;var r=gi(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(a(231,t,typeof n));return n}var Ae=!1;if(l)try{var Re={};Object.defineProperty(Re,"passive",{get:function(){Ae=!0}}),window.addEventListener("test",Re,Re),window.removeEventListener("test",Re,Re)}catch(tl){Ae=!1}function je(e,t,n,r,i,a,o,s,u){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(l){this.onError(l)}}var De=!1,Le=null,Me=!1,Ue=null,Fe={onError:function(e){De=!0,Le=e}};function ze(e,t,n,r,i,a,o,s,u){De=!1,Le=null,je.apply(Fe,arguments)}function Ve(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function Be(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function qe(e){if(Ve(e)!==e)throw Error(a(188))}function He(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=Ve(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return qe(i),e;if(o===r)return qe(i),t;o=o.sibling}throw Error(a(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,u=i.child;u;){if(u===n){s=!0,n=i,r=o;break}if(u===r){s=!0,r=i,n=o;break}u=u.sibling}if(!s){for(u=o.child;u;){if(u===n){s=!0,n=o,r=i;break}if(u===r){s=!0,r=o,n=i;break}u=u.sibling}if(!s)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}(e))?We(e):null}function We(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=We(e);if(null!==t)return t;e=e.sibling}return null}var Ge=i.unstable_scheduleCallback,Ke=i.unstable_cancelCallback,Qe=i.unstable_shouldYield,Ye=i.unstable_requestPaint,Xe=i.unstable_now,$e=i.unstable_getCurrentPriorityLevel,Je=i.unstable_ImmediatePriority,Ze=i.unstable_UserBlockingPriority,et=i.unstable_NormalPriority,tt=i.unstable_LowPriority,nt=i.unstable_IdlePriority,rt=null,it=null;var at=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(ot(e)/st|0)|0},ot=Math.log,st=Math.LN2;var ut=64,ct=4194304;function lt(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ft(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,a=e.pingedLanes,o=268435455&n;if(0!==o){var s=o&~i;0!==s?r=lt(s):0!==(a&=o)&&(r=lt(a))}else 0!==(o=n&~i)?r=lt(o):0!==a&&(r=lt(a));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(a=t&-t)||16===i&&0!==(4194240&a)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-at(t)),r|=e[n],t&=~i;return r}function dt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function ht(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function pt(){var e=ut;return 0===(4194240&(ut<<=1))&&(ut=64),e}function vt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function mt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-at(t)]=n}function gt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-at(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var yt=0;function bt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var kt,wt,xt,_t,St,Et=!1,It=[],Tt=null,Ct=null,Nt=null,Ot=new Map,Pt=new Map,At=[],Rt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function jt(e,t){switch(e){case"focusin":case"focusout":Tt=null;break;case"dragenter":case"dragleave":Ct=null;break;case"mouseover":case"mouseout":Nt=null;break;case"pointerover":case"pointerout":Ot.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pt.delete(t.pointerId)}}function Dt(e,t,n,r,i,a){return null===e||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},null!==t&&(null!==(t=vi(t))&&wt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Lt(e){var t=pi(e.target);if(null!==t){var n=Ve(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=Be(n)))return e.blockedOn=t,void St(e.priority,(function(){xt(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Mt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Qt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=vi(n))&&wt(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);be=r,n.target.dispatchEvent(r),be=null,t.shift()}return!0}function Ut(e,t,n){Mt(e)&&n.delete(t)}function Ft(){Et=!1,null!==Tt&&Mt(Tt)&&(Tt=null),null!==Ct&&Mt(Ct)&&(Ct=null),null!==Nt&&Mt(Nt)&&(Nt=null),Ot.forEach(Ut),Pt.forEach(Ut)}function zt(e,t){e.blockedOn===t&&(e.blockedOn=null,Et||(Et=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Ft)))}function Vt(e){function t(t){return zt(t,e)}if(0<It.length){zt(It[0],e);for(var n=1;n<It.length;n++){var r=It[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Tt&&zt(Tt,e),null!==Ct&&zt(Ct,e),null!==Nt&&zt(Nt,e),Ot.forEach(t),Pt.forEach(t),n=0;n<At.length;n++)(r=At[n]).blockedOn===e&&(r.blockedOn=null);for(;0<At.length&&null===(n=At[0]).blockedOn;)Lt(n),null===n.blockedOn&&At.shift()}var Bt=k.ReactCurrentBatchConfig,qt=!0;function Ht(e,t,n,r){var i=yt,a=Bt.transition;Bt.transition=null;try{yt=1,Gt(e,t,n,r)}finally{yt=i,Bt.transition=a}}function Wt(e,t,n,r){var i=yt,a=Bt.transition;Bt.transition=null;try{yt=4,Gt(e,t,n,r)}finally{yt=i,Bt.transition=a}}function Gt(e,t,n,r){if(qt){var i=Qt(e,t,n,r);if(null===i)zr(e,t,r,Kt,n),jt(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return Tt=Dt(Tt,e,t,n,r,i),!0;case"dragenter":return Ct=Dt(Ct,e,t,n,r,i),!0;case"mouseover":return Nt=Dt(Nt,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return Ot.set(a,Dt(Ot.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,Pt.set(a,Dt(Pt.get(a)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(jt(e,r),4&t&&-1<Rt.indexOf(e)){for(;null!==i;){var a=vi(i);if(null!==a&&kt(a),null===(a=Qt(e,t,n,r))&&zr(e,t,r,Kt,n),a===i)break;i=a}null!==i&&r.stopPropagation()}else zr(e,t,r,null,n)}}var Kt=null;function Qt(e,t,n,r){if(Kt=null,null!==(e=pi(e=ke(r))))if(null===(t=Ve(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=Be(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Kt=e,null}function Yt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch($e()){case Je:return 1;case Ze:return 4;case et:case tt:return 16;case nt:return 536870912;default:return 16}default:return 16}}var Xt=null,$t=null,Jt=null;function Zt(){if(Jt)return Jt;var e,t,n=$t,r=n.length,i="value"in Xt?Xt.value:Xt.textContent,a=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[a-t];t++);return Jt=i.slice(e,1<t?1-t:void 0)}function en(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function tn(){return!0}function nn(){return!1}function rn(e){function t(t,n,r,i,a){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?tn:nn,this.isPropagationStopped=nn,this}return M(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=tn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=tn)},persist:function(){},isPersistent:tn}),t}var an,on,sn,un={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},cn=rn(un),ln=M({},un,{view:0,detail:0}),fn=rn(ln),dn=M({},ln,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:_n,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==sn&&(sn&&"mousemove"===e.type?(an=e.screenX-sn.screenX,on=e.screenY-sn.screenY):on=an=0,sn=e),an)},movementY:function(e){return"movementY"in e?e.movementY:on}}),hn=rn(dn),pn=rn(M({},dn,{dataTransfer:0})),vn=rn(M({},ln,{relatedTarget:0})),mn=rn(M({},un,{animationName:0,elapsedTime:0,pseudoElement:0})),gn=rn(M({},un,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}})),yn=rn(M({},un,{data:0})),bn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},kn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},wn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function xn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=wn[e])&&!!t[e]}function _n(){return xn}var Sn=rn(M({},ln,{key:function(e){if(e.key){var t=bn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=en(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?kn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:_n,charCode:function(e){return"keypress"===e.type?en(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?en(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}})),En=rn(M({},dn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),In=rn(M({},ln,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:_n})),Tn=rn(M({},un,{propertyName:0,elapsedTime:0,pseudoElement:0})),Cn=rn(M({},dn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0})),Nn=[9,13,27,32],On=l&&"CompositionEvent"in window,Pn=null;l&&"documentMode"in document&&(Pn=document.documentMode);var An=l&&"TextEvent"in window&&!Pn,Rn=l&&(!On||Pn&&8<Pn&&11>=Pn),jn=String.fromCharCode(32),Dn=!1;function Ln(e,t){switch(e){case"keyup":return-1!==Nn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Mn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Un=!1;var Fn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function zn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Fn[e.type]:"textarea"===t}function Vn(e,t,n,r){Ee(r),0<(t=Br(t,"onChange")).length&&(n=new cn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Bn=null,qn=null;function Hn(e){jr(e,0)}function Wn(e){if(K(mi(e)))return e}function Gn(e,t){if("change"===e)return t}var Kn=!1;if(l){var Qn;if(l){var Yn="oninput"in document;if(!Yn){var Xn=document.createElement("div");Xn.setAttribute("oninput","return;"),Yn="function"===typeof Xn.oninput}Qn=Yn}else Qn=!1;Kn=Qn&&(!document.documentMode||9<document.documentMode)}function $n(){Bn&&(Bn.detachEvent("onpropertychange",Jn),qn=Bn=null)}function Jn(e){if("value"===e.propertyName&&Wn(qn)){var t=[];Vn(t,qn,e,ke(e)),Oe(Hn,t)}}function Zn(e,t,n){"focusin"===e?($n(),qn=n,(Bn=t).attachEvent("onpropertychange",Jn)):"focusout"===e&&$n()}function er(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Wn(qn)}function tr(e,t){if("click"===e)return Wn(t)}function nr(e,t){if("input"===e||"change"===e)return Wn(t)}var rr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function ir(e,t){if(rr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!f.call(t,i)||!rr(e[i],t[i]))return!1}return!0}function ar(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function or(e,t){var n,r=ar(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=ar(r)}}function sr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?sr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function ur(){for(var e=window,t=Q();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=Q((e=t.contentWindow).document)}return t}function cr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function lr(e){var t=ur(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&sr(n.ownerDocument.documentElement,n)){if(null!==r&&cr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,a=Math.min(r.start,i);r=void 0===r.end?a:Math.min(r.end,i),!e.extend&&a>r&&(i=r,r=a,a=i),i=or(n,a);var o=or(n,r);i&&o&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),a>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var fr=l&&"documentMode"in document&&11>=document.documentMode,dr=null,hr=null,pr=null,vr=!1;function mr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;vr||null==dr||dr!==Q(r)||("selectionStart"in(r=dr)&&cr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},pr&&ir(pr,r)||(pr=r,0<(r=Br(hr,"onSelect")).length&&(t=new cn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=dr)))}function gr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var yr={animationend:gr("Animation","AnimationEnd"),animationiteration:gr("Animation","AnimationIteration"),animationstart:gr("Animation","AnimationStart"),transitionend:gr("Transition","TransitionEnd")},br={},kr={};function wr(e){if(br[e])return br[e];if(!yr[e])return e;var t,n=yr[e];for(t in n)if(n.hasOwnProperty(t)&&t in kr)return br[e]=n[t];return e}l&&(kr=document.createElement("div").style,"AnimationEvent"in window||(delete yr.animationend.animation,delete yr.animationiteration.animation,delete yr.animationstart.animation),"TransitionEvent"in window||delete yr.transitionend.transition);var xr=wr("animationend"),_r=wr("animationiteration"),Sr=wr("animationstart"),Er=wr("transitionend"),Ir=new Map,Tr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Cr(e,t){Ir.set(e,t),u(t,[e])}for(var Nr=0;Nr<Tr.length;Nr++){var Or=Tr[Nr];Cr(Or.toLowerCase(),"on"+(Or[0].toUpperCase()+Or.slice(1)))}Cr(xr,"onAnimationEnd"),Cr(_r,"onAnimationIteration"),Cr(Sr,"onAnimationStart"),Cr("dblclick","onDoubleClick"),Cr("focusin","onFocus"),Cr("focusout","onBlur"),Cr(Er,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),u("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),u("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),u("onBeforeInput",["compositionend","keypress","textInput","paste"]),u("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Pr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ar=new Set("cancel close invalid load scroll toggle".split(" ").concat(Pr));function Rr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,o,s,u,c){if(ze.apply(this,arguments),De){if(!De)throw Error(a(198));var l=Le;De=!1,Le=null,Me||(Me=!0,Ue=l)}}(r,t,void 0,e),e.currentTarget=null}function jr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var o=r.length-1;0<=o;o--){var s=r[o],u=s.instance,c=s.currentTarget;if(s=s.listener,u!==a&&i.isPropagationStopped())break e;Rr(i,s,c),a=u}else for(o=0;o<r.length;o++){if(u=(s=r[o]).instance,c=s.currentTarget,s=s.listener,u!==a&&i.isPropagationStopped())break e;Rr(i,s,c),a=u}}}if(Me)throw e=Ue,Me=!1,Ue=null,e}function Dr(e,t){var n=t[fi];void 0===n&&(n=t[fi]=new Set);var r=e+"__bubble";n.has(r)||(Fr(t,e,2,!1),n.add(r))}function Lr(e,t,n){var r=0;t&&(r|=4),Fr(n,e,r,t)}var Mr="_reactListening"+Math.random().toString(36).slice(2);function Ur(e){if(!e[Mr]){e[Mr]=!0,o.forEach((function(t){"selectionchange"!==t&&(Ar.has(t)||Lr(t,!1,e),Lr(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Mr]||(t[Mr]=!0,Lr("selectionchange",!1,t))}}function Fr(e,t,n,r){switch(Yt(t)){case 1:var i=Ht;break;case 4:i=Wt;break;default:i=Gt}n=i.bind(null,t,n,e),i=void 0,!Ae||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function zr(e,t,n,r,i){var a=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var s=r.stateNode.containerInfo;if(s===i||8===s.nodeType&&s.parentNode===i)break;if(4===o)for(o=r.return;null!==o;){var u=o.tag;if((3===u||4===u)&&((u=o.stateNode.containerInfo)===i||8===u.nodeType&&u.parentNode===i))return;o=o.return}for(;null!==s;){if(null===(o=pi(s)))return;if(5===(u=o.tag)||6===u){r=a=o;continue e}s=s.parentNode}}r=r.return}Oe((function(){var r=a,i=ke(n),o=[];e:{var s=Ir.get(e);if(void 0!==s){var u=cn,c=e;switch(e){case"keypress":if(0===en(n))break e;case"keydown":case"keyup":u=Sn;break;case"focusin":c="focus",u=vn;break;case"focusout":c="blur",u=vn;break;case"beforeblur":case"afterblur":u=vn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":u=hn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":u=pn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":u=In;break;case xr:case _r:case Sr:u=mn;break;case Er:u=Tn;break;case"scroll":u=fn;break;case"wheel":u=Cn;break;case"copy":case"cut":case"paste":u=gn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":u=En}var l=0!==(4&t),f=!l&&"scroll"===e,d=l?null!==s?s+"Capture":null:s;l=[];for(var h,p=r;null!==p;){var v=(h=p).stateNode;if(5===h.tag&&null!==v&&(h=v,null!==d&&(null!=(v=Pe(p,d))&&l.push(Vr(p,v,h)))),f)break;p=p.return}0<l.length&&(s=new u(s,c,null,n,i),o.push({event:s,listeners:l}))}}if(0===(7&t)){if(u="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||n===be||!(c=n.relatedTarget||n.fromElement)||!pi(c)&&!c[li])&&(u||s)&&(s=i.window===i?i:(s=i.ownerDocument)?s.defaultView||s.parentWindow:window,u?(u=r,null!==(c=(c=n.relatedTarget||n.toElement)?pi(c):null)&&(c!==(f=Ve(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(u=null,c=r),u!==c)){if(l=hn,v="onMouseLeave",d="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(l=En,v="onPointerLeave",d="onPointerEnter",p="pointer"),f=null==u?s:mi(u),h=null==c?s:mi(c),(s=new l(v,p+"leave",u,n,i)).target=f,s.relatedTarget=h,v=null,pi(i)===r&&((l=new l(d,p+"enter",c,n,i)).target=h,l.relatedTarget=f,v=l),f=v,u&&c)e:{for(d=c,p=0,h=l=u;h;h=qr(h))p++;for(h=0,v=d;v;v=qr(v))h++;for(;0<p-h;)l=qr(l),p--;for(;0<h-p;)d=qr(d),h--;for(;p--;){if(l===d||null!==d&&l===d.alternate)break e;l=qr(l),d=qr(d)}l=null}else l=null;null!==u&&Hr(o,s,u,l,!1),null!==c&&null!==f&&Hr(o,f,c,l,!0)}if("select"===(u=(s=r?mi(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===u&&"file"===s.type)var m=Gn;else if(zn(s))if(Kn)m=nr;else{m=er;var g=Zn}else(u=s.nodeName)&&"input"===u.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(m=tr);switch(m&&(m=m(e,r))?Vn(o,m,n,i):(g&&g(e,s,r),"focusout"===e&&(g=s._wrapperState)&&g.controlled&&"number"===s.type&&ee(s,"number",s.value)),g=r?mi(r):window,e){case"focusin":(zn(g)||"true"===g.contentEditable)&&(dr=g,hr=r,pr=null);break;case"focusout":pr=hr=dr=null;break;case"mousedown":vr=!0;break;case"contextmenu":case"mouseup":case"dragend":vr=!1,mr(o,n,i);break;case"selectionchange":if(fr)break;case"keydown":case"keyup":mr(o,n,i)}var y;if(On)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Un?Ln(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(Rn&&"ko"!==n.locale&&(Un||"onCompositionStart"!==b?"onCompositionEnd"===b&&Un&&(y=Zt()):($t="value"in(Xt=i)?Xt.value:Xt.textContent,Un=!0)),0<(g=Br(r,b)).length&&(b=new yn(b,e,null,n,i),o.push({event:b,listeners:g}),y?b.data=y:null!==(y=Mn(n))&&(b.data=y))),(y=An?function(e,t){switch(e){case"compositionend":return Mn(t);case"keypress":return 32!==t.which?null:(Dn=!0,jn);case"textInput":return(e=t.data)===jn&&Dn?null:e;default:return null}}(e,n):function(e,t){if(Un)return"compositionend"===e||!On&&Ln(e,t)?(e=Zt(),Jt=$t=Xt=null,Un=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Rn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Br(r,"onBeforeInput")).length&&(i=new yn("onBeforeInput","beforeinput",null,n,i),o.push({event:i,listeners:r}),i.data=y))}jr(o,t)}))}function Vr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Br(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,a=i.stateNode;5===i.tag&&null!==a&&(i=a,null!=(a=Pe(e,n))&&r.unshift(Vr(e,a,i)),null!=(a=Pe(e,t))&&r.push(Vr(e,a,i))),e=e.return}return r}function qr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Hr(e,t,n,r,i){for(var a=t._reactName,o=[];null!==n&&n!==r;){var s=n,u=s.alternate,c=s.stateNode;if(null!==u&&u===r)break;5===s.tag&&null!==c&&(s=c,i?null!=(u=Pe(n,a))&&o.unshift(Vr(n,u,s)):i||null!=(u=Pe(n,a))&&o.push(Vr(n,u,s))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}var Wr=/\r\n?/g,Gr=/\u0000|\uFFFD/g;function Kr(e){return("string"===typeof e?e:""+e).replace(Wr,"\n").replace(Gr,"")}function Qr(e,t,n){if(t=Kr(t),Kr(e)!==t&&n)throw Error(a(425))}function Yr(){}var Xr=null,$r=null;function Jr(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var Zr="function"===typeof setTimeout?setTimeout:void 0,ei="function"===typeof clearTimeout?clearTimeout:void 0,ti="function"===typeof Promise?Promise:void 0,ni="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof ti?function(e){return ti.resolve(null).then(e).catch(ri)}:Zr;function ri(e){setTimeout((function(){throw e}))}function ii(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void Vt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);Vt(t)}function ai(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function oi(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var si=Math.random().toString(36).slice(2),ui="__reactFiber$"+si,ci="__reactProps$"+si,li="__reactContainer$"+si,fi="__reactEvents$"+si,di="__reactListeners$"+si,hi="__reactHandles$"+si;function pi(e){var t=e[ui];if(t)return t;for(var n=e.parentNode;n;){if(t=n[li]||n[ui]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=oi(e);null!==e;){if(n=e[ui])return n;e=oi(e)}return t}n=(e=n).parentNode}return null}function vi(e){return!(e=e[ui]||e[li])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function mi(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(a(33))}function gi(e){return e[ci]||null}var yi=[],bi=-1;function ki(e){return{current:e}}function wi(e){0>bi||(e.current=yi[bi],yi[bi]=null,bi--)}function xi(e,t){bi++,yi[bi]=e.current,e.current=t}var _i={},Si=ki(_i),Ei=ki(!1),Ii=_i;function Ti(e,t){var n=e.type.contextTypes;if(!n)return _i;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,a={};for(i in n)a[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Ci(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Ni(){wi(Ei),wi(Si)}function Oi(e,t,n){if(Si.current!==_i)throw Error(a(168));xi(Si,t),xi(Ei,n)}function Pi(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(a(108,q(e)||"Unknown",i));return M({},n,r)}function Ai(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||_i,Ii=Si.current,xi(Si,e),xi(Ei,Ei.current),!0}function Ri(e,t,n){var r=e.stateNode;if(!r)throw Error(a(169));n?(e=Pi(e,t,Ii),r.__reactInternalMemoizedMergedChildContext=e,wi(Ei),wi(Si),xi(Si,e)):wi(Ei),xi(Ei,n)}var ji=null,Di=!1,Li=!1;function Mi(e){null===ji?ji=[e]:ji.push(e)}function Ui(){if(!Li&&null!==ji){Li=!0;var e=0,t=yt;try{var n=ji;for(yt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}ji=null,Di=!1}catch(i){throw null!==ji&&(ji=ji.slice(e+1)),Ge(Je,Ui),i}finally{yt=t,Li=!1}}return null}var Fi=[],zi=0,Vi=null,Bi=0,qi=[],Hi=0,Wi=null,Gi=1,Ki="";function Qi(e,t){Fi[zi++]=Bi,Fi[zi++]=Vi,Vi=e,Bi=t}function Yi(e,t,n){qi[Hi++]=Gi,qi[Hi++]=Ki,qi[Hi++]=Wi,Wi=e;var r=Gi;e=Ki;var i=32-at(r)-1;r&=~(1<<i),n+=1;var a=32-at(t)+i;if(30<a){var o=i-i%5;a=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Gi=1<<32-at(t)+i|n<<i|r,Ki=a+e}else Gi=1<<a|n<<i|r,Ki=e}function Xi(e){null!==e.return&&(Qi(e,1),Yi(e,1,0))}function $i(e){for(;e===Vi;)Vi=Fi[--zi],Fi[zi]=null,Bi=Fi[--zi],Fi[zi]=null;for(;e===Wi;)Wi=qi[--Hi],qi[Hi]=null,Ki=qi[--Hi],qi[Hi]=null,Gi=qi[--Hi],qi[Hi]=null}var Ji=null,Zi=null,ea=!1,ta=null;function na(e,t){var n=Cc(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function ra(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,Ji=e,Zi=ai(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,Ji=e,Zi=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Wi?{id:Gi,overflow:Ki}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Cc(18,null,null,0)).stateNode=t,n.return=e,e.child=n,Ji=e,Zi=null,!0);default:return!1}}function ia(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function aa(e){if(ea){var t=Zi;if(t){var n=t;if(!ra(e,t)){if(ia(e))throw Error(a(418));t=ai(n.nextSibling);var r=Ji;t&&ra(e,t)?na(r,n):(e.flags=-4097&e.flags|2,ea=!1,Ji=e)}}else{if(ia(e))throw Error(a(418));e.flags=-4097&e.flags|2,ea=!1,Ji=e}}}function oa(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;Ji=e}function sa(e){if(e!==Ji)return!1;if(!ea)return oa(e),ea=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!Jr(e.type,e.memoizedProps)),t&&(t=Zi)){if(ia(e))throw ua(),Error(a(418));for(;t;)na(e,t),t=ai(t.nextSibling)}if(oa(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){Zi=ai(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}Zi=null}}else Zi=Ji?ai(e.stateNode.nextSibling):null;return!0}function ua(){for(var e=Zi;e;)e=ai(e.nextSibling)}function ca(){Zi=Ji=null,ea=!1}function la(e){null===ta?ta=[e]:ta.push(e)}var fa=k.ReactCurrentBatchConfig;function da(e,t){if(e&&e.defaultProps){for(var n in t=M({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var ha=ki(null),pa=null,va=null,ma=null;function ga(){ma=va=pa=null}function ya(e){var t=ha.current;wi(ha),e._currentValue=t}function ba(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function ka(e,t){pa=e,ma=va=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(ms=!0),e.firstContext=null)}function wa(e){var t=e._currentValue;if(ma!==e)if(e={context:e,memoizedValue:t,next:null},null===va){if(null===pa)throw Error(a(308));va=e,pa.dependencies={lanes:0,firstContext:e}}else va=va.next=e;return t}var xa=null;function _a(e){null===xa?xa=[e]:xa.push(e)}function Sa(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,_a(t)):(n.next=i.next,i.next=n),t.interleaved=n,Ea(e,r)}function Ea(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Ia=!1;function Ta(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ca(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Na(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Oa(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Eu)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Ea(e,n)}return null===(i=r.interleaved)?(t.next=t,_a(r)):(t.next=i.next,i.next=t),r.interleaved=t,Ea(e,n)}function Pa(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,gt(e,n)}}function Aa(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===a?i=a=o:a=a.next=o,n=n.next}while(null!==n);null===a?i=a=t:a=a.next=t}else i=a=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Ra(e,t,n,r){var i=e.updateQueue;Ia=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,s=i.shared.pending;if(null!==s){i.shared.pending=null;var u=s,c=u.next;u.next=null,null===o?a=c:o.next=c,o=u;var l=e.alternate;null!==l&&((s=(l=l.updateQueue).lastBaseUpdate)!==o&&(null===s?l.firstBaseUpdate=c:s.next=c,l.lastBaseUpdate=u))}if(null!==a){var f=i.baseState;for(o=0,l=c=u=null,s=a;;){var d=s.lane,h=s.eventTime;if((r&d)===d){null!==l&&(l=l.next={eventTime:h,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var p=e,v=s;switch(d=t,h=n,v.tag){case 1:if("function"===typeof(p=v.payload)){f=p.call(h,f,d);break e}f=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(d="function"===typeof(p=v.payload)?p.call(h,f,d):p)||void 0===d)break e;f=M({},f,d);break e;case 2:Ia=!0}}null!==s.callback&&0!==s.lane&&(e.flags|=64,null===(d=i.effects)?i.effects=[s]:d.push(s))}else h={eventTime:h,lane:d,tag:s.tag,payload:s.payload,callback:s.callback,next:null},null===l?(c=l=h,u=f):l=l.next=h,o|=d;if(null===(s=s.next)){if(null===(s=i.shared.pending))break;s=(d=s).next,d.next=null,i.lastBaseUpdate=d,i.shared.pending=null}}if(null===l&&(u=f),i.baseState=u,i.firstBaseUpdate=c,i.lastBaseUpdate=l,null!==(t=i.shared.interleaved)){i=t;do{o|=i.lane,i=i.next}while(i!==t)}else null===a&&(i.shared.lanes=0);Ru|=o,e.lanes=o,e.memoizedState=f}}function ja(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(a(191,i));i.call(r)}}}var Da=(new r.Component).refs;function La(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:M({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var Ma={isMounted:function(e){return!!(e=e._reactInternals)&&Ve(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=$u(),i=Ju(e),a=Na(r,i);a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=Oa(e,a,i))&&(Zu(t,e,i,r),Pa(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=$u(),i=Ju(e),a=Na(r,i);a.tag=1,a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=Oa(e,a,i))&&(Zu(t,e,i,r),Pa(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=$u(),r=Ju(e),i=Na(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=Oa(e,i,r))&&(Zu(t,e,r,n),Pa(t,e,r))}};function Ua(e,t,n,r,i,a,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,o):!t.prototype||!t.prototype.isPureReactComponent||(!ir(n,r)||!ir(i,a))}function Fa(e,t,n){var r=!1,i=_i,a=t.contextType;return"object"===typeof a&&null!==a?a=wa(a):(i=Ci(t)?Ii:Si.current,a=(r=null!==(r=t.contextTypes)&&void 0!==r)?Ti(e,i):_i),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=Ma,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function za(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Ma.enqueueReplaceState(t,t.state,null)}function Va(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=Da,Ta(e);var a=t.contextType;"object"===typeof a&&null!==a?i.context=wa(a):(a=Ci(t)?Ii:Si.current,i.context=Ti(e,a)),i.state=e.memoizedState,"function"===typeof(a=t.getDerivedStateFromProps)&&(La(e,t,a,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&Ma.enqueueReplaceState(i,i.state,null),Ra(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}function Ba(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(a(309));var r=n.stateNode}if(!r)throw Error(a(147,e));var i=r,o=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===o?t.ref:(t=function(e){var t=i.refs;t===Da&&(t=i.refs={}),null===e?delete t[o]:t[o]=e},t._stringRef=o,t)}if("string"!==typeof e)throw Error(a(284));if(!n._owner)throw Error(a(290,e))}return e}function qa(e,t){throw e=Object.prototype.toString.call(t),Error(a(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Ha(e){return(0,e._init)(e._payload)}function Wa(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Oc(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function s(t){return e&&null===t.alternate&&(t.flags|=2),t}function u(e,t,n,r){return null===t||6!==t.tag?((t=jc(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){var a=n.type;return a===_?f(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===a||"object"===typeof a&&null!==a&&a.$$typeof===A&&Ha(a)===t.type)?((r=i(t,n.props)).ref=Ba(e,t,n),r.return=e,r):((r=Pc(n.type,n.key,n.props,null,e.mode,r)).ref=Ba(e,t,n),r.return=e,r)}function l(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Dc(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function f(e,t,n,r,a){return null===t||7!==t.tag?((t=Ac(n,e.mode,r,a)).return=e,t):((t=i(t,n)).return=e,t)}function d(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=jc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case w:return(n=Pc(t.type,t.key,t.props,null,e.mode,n)).ref=Ba(e,null,t),n.return=e,n;case x:return(t=Dc(t,e.mode,n)).return=e,t;case A:return d(e,(0,t._init)(t._payload),n)}if(te(t)||D(t))return(t=Ac(t,e.mode,n,null)).return=e,t;qa(e,t)}return null}function h(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:u(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case w:return n.key===i?c(e,t,n,r):null;case x:return n.key===i?l(e,t,n,r):null;case A:return h(e,t,(i=n._init)(n._payload),r)}if(te(n)||D(n))return null!==i?null:f(e,t,n,r,null);qa(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return u(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case w:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case x:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i);case A:return p(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||D(r))return f(t,e=e.get(n)||null,r,i,null);qa(t,r)}return null}function v(i,a,s,u){for(var c=null,l=null,f=a,v=a=0,m=null;null!==f&&v<s.length;v++){f.index>v?(m=f,f=null):m=f.sibling;var g=h(i,f,s[v],u);if(null===g){null===f&&(f=m);break}e&&f&&null===g.alternate&&t(i,f),a=o(g,a,v),null===l?c=g:l.sibling=g,l=g,f=m}if(v===s.length)return n(i,f),ea&&Qi(i,v),c;if(null===f){for(;v<s.length;v++)null!==(f=d(i,s[v],u))&&(a=o(f,a,v),null===l?c=f:l.sibling=f,l=f);return ea&&Qi(i,v),c}for(f=r(i,f);v<s.length;v++)null!==(m=p(f,i,v,s[v],u))&&(e&&null!==m.alternate&&f.delete(null===m.key?v:m.key),a=o(m,a,v),null===l?c=m:l.sibling=m,l=m);return e&&f.forEach((function(e){return t(i,e)})),ea&&Qi(i,v),c}function m(i,s,u,c){var l=D(u);if("function"!==typeof l)throw Error(a(150));if(null==(u=l.call(u)))throw Error(a(151));for(var f=l=null,v=s,m=s=0,g=null,y=u.next();null!==v&&!y.done;m++,y=u.next()){v.index>m?(g=v,v=null):g=v.sibling;var b=h(i,v,y.value,c);if(null===b){null===v&&(v=g);break}e&&v&&null===b.alternate&&t(i,v),s=o(b,s,m),null===f?l=b:f.sibling=b,f=b,v=g}if(y.done)return n(i,v),ea&&Qi(i,m),l;if(null===v){for(;!y.done;m++,y=u.next())null!==(y=d(i,y.value,c))&&(s=o(y,s,m),null===f?l=y:f.sibling=y,f=y);return ea&&Qi(i,m),l}for(v=r(i,v);!y.done;m++,y=u.next())null!==(y=p(v,i,m,y.value,c))&&(e&&null!==y.alternate&&v.delete(null===y.key?m:y.key),s=o(y,s,m),null===f?l=y:f.sibling=y,f=y);return e&&v.forEach((function(e){return t(i,e)})),ea&&Qi(i,m),l}return function e(r,a,o,u){if("object"===typeof o&&null!==o&&o.type===_&&null===o.key&&(o=o.props.children),"object"===typeof o&&null!==o){switch(o.$$typeof){case w:e:{for(var c=o.key,l=a;null!==l;){if(l.key===c){if((c=o.type)===_){if(7===l.tag){n(r,l.sibling),(a=i(l,o.props.children)).return=r,r=a;break e}}else if(l.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===A&&Ha(c)===l.type){n(r,l.sibling),(a=i(l,o.props)).ref=Ba(r,l,o),a.return=r,r=a;break e}n(r,l);break}t(r,l),l=l.sibling}o.type===_?((a=Ac(o.props.children,r.mode,u,o.key)).return=r,r=a):((u=Pc(o.type,o.key,o.props,null,r.mode,u)).ref=Ba(r,a,o),u.return=r,r=u)}return s(r);case x:e:{for(l=o.key;null!==a;){if(a.key===l){if(4===a.tag&&a.stateNode.containerInfo===o.containerInfo&&a.stateNode.implementation===o.implementation){n(r,a.sibling),(a=i(a,o.children||[])).return=r,r=a;break e}n(r,a);break}t(r,a),a=a.sibling}(a=Dc(o,r.mode,u)).return=r,r=a}return s(r);case A:return e(r,a,(l=o._init)(o._payload),u)}if(te(o))return v(r,a,o,u);if(D(o))return m(r,a,o,u);qa(r,o)}return"string"===typeof o&&""!==o||"number"===typeof o?(o=""+o,null!==a&&6===a.tag?(n(r,a.sibling),(a=i(a,o)).return=r,r=a):(n(r,a),(a=jc(o,r.mode,u)).return=r,r=a),s(r)):n(r,a)}}var Ga=Wa(!0),Ka=Wa(!1),Qa={},Ya=ki(Qa),Xa=ki(Qa),$a=ki(Qa);function Ja(e){if(e===Qa)throw Error(a(174));return e}function Za(e,t){switch(xi($a,t),xi(Xa,e),xi(Ya,Qa),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:ue(null,"");break;default:t=ue(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}wi(Ya),xi(Ya,t)}function eo(){wi(Ya),wi(Xa),wi($a)}function to(e){Ja($a.current);var t=Ja(Ya.current),n=ue(t,e.type);t!==n&&(xi(Xa,e),xi(Ya,n))}function no(e){Xa.current===e&&(wi(Ya),wi(Xa))}var ro=ki(0);function io(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ao=[];function oo(){for(var e=0;e<ao.length;e++)ao[e]._workInProgressVersionPrimary=null;ao.length=0}var so=k.ReactCurrentDispatcher,uo=k.ReactCurrentBatchConfig,co=0,lo=null,fo=null,ho=null,po=!1,vo=!1,mo=0,go=0;function yo(){throw Error(a(321))}function bo(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!rr(e[n],t[n]))return!1;return!0}function ko(e,t,n,r,i,o){if(co=o,lo=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,so.current=null===e||null===e.memoizedState?rs:is,e=n(r,i),vo){o=0;do{if(vo=!1,mo=0,25<=o)throw Error(a(301));o+=1,ho=fo=null,t.updateQueue=null,so.current=as,e=n(r,i)}while(vo)}if(so.current=ns,t=null!==fo&&null!==fo.next,co=0,ho=fo=lo=null,po=!1,t)throw Error(a(300));return e}function wo(){var e=0!==mo;return mo=0,e}function xo(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===ho?lo.memoizedState=ho=e:ho=ho.next=e,ho}function _o(){if(null===fo){var e=lo.alternate;e=null!==e?e.memoizedState:null}else e=fo.next;var t=null===ho?lo.memoizedState:ho.next;if(null!==t)ho=t,fo=e;else{if(null===e)throw Error(a(310));e={memoizedState:(fo=e).memoizedState,baseState:fo.baseState,baseQueue:fo.baseQueue,queue:fo.queue,next:null},null===ho?lo.memoizedState=ho=e:ho=ho.next=e}return ho}function So(e,t){return"function"===typeof t?t(e):t}function Eo(e){var t=_o(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=fo,i=r.baseQueue,o=n.pending;if(null!==o){if(null!==i){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(null!==i){o=i.next,r=r.baseState;var u=s=null,c=null,l=o;do{var f=l.lane;if((co&f)===f)null!==c&&(c=c.next={lane:0,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null}),r=l.hasEagerState?l.eagerState:e(r,l.action);else{var d={lane:f,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null};null===c?(u=c=d,s=r):c=c.next=d,lo.lanes|=f,Ru|=f}l=l.next}while(null!==l&&l!==o);null===c?s=r:c.next=u,rr(r,t.memoizedState)||(ms=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{o=i.lane,lo.lanes|=o,Ru|=o,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Io(e){var t=_o(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(null!==i){n.pending=null;var s=i=i.next;do{o=e(o,s.action),s=s.next}while(s!==i);rr(o,t.memoizedState)||(ms=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function To(){}function Co(e,t){var n=lo,r=_o(),i=t(),o=!rr(r.memoizedState,i);if(o&&(r.memoizedState=i,ms=!0),r=r.queue,zo(Po.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||null!==ho&&1&ho.memoizedState.tag){if(n.flags|=2048,Do(9,Oo.bind(null,n,r,i,t),void 0,null),null===Iu)throw Error(a(349));0!==(30&co)||No(n,t,i)}return i}function No(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=lo.updateQueue)?(t={lastEffect:null,stores:null},lo.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Oo(e,t,n,r){t.value=n,t.getSnapshot=r,Ao(t)&&Ro(e)}function Po(e,t,n){return n((function(){Ao(t)&&Ro(e)}))}function Ao(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!rr(e,n)}catch(r){return!0}}function Ro(e){var t=Ea(e,1);null!==t&&Zu(t,e,1,-1)}function jo(e){var t=xo();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:So,lastRenderedState:e},t.queue=e,e=e.dispatch=Jo.bind(null,lo,e),[t.memoizedState,e]}function Do(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=lo.updateQueue)?(t={lastEffect:null,stores:null},lo.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Lo(){return _o().memoizedState}function Mo(e,t,n,r){var i=xo();lo.flags|=e,i.memoizedState=Do(1|t,n,void 0,void 0===r?null:r)}function Uo(e,t,n,r){var i=_o();r=void 0===r?null:r;var a=void 0;if(null!==fo){var o=fo.memoizedState;if(a=o.destroy,null!==r&&bo(r,o.deps))return void(i.memoizedState=Do(t,n,a,r))}lo.flags|=e,i.memoizedState=Do(1|t,n,a,r)}function Fo(e,t){return Mo(8390656,8,e,t)}function zo(e,t){return Uo(2048,8,e,t)}function Vo(e,t){return Uo(4,2,e,t)}function Bo(e,t){return Uo(4,4,e,t)}function qo(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Ho(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Uo(4,4,qo.bind(null,t,e),n)}function Wo(){}function Go(e,t){var n=_o();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&bo(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Ko(e,t){var n=_o();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&bo(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Qo(e,t,n){return 0===(21&co)?(e.baseState&&(e.baseState=!1,ms=!0),e.memoizedState=n):(rr(n,t)||(n=pt(),lo.lanes|=n,Ru|=n,e.baseState=!0),t)}function Yo(e,t){var n=yt;yt=0!==n&&4>n?n:4,e(!0);var r=uo.transition;uo.transition={};try{e(!1),t()}finally{yt=n,uo.transition=r}}function Xo(){return _o().memoizedState}function $o(e,t,n){var r=Ju(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Zo(e))es(t,n);else if(null!==(n=Sa(e,t,n,r))){Zu(n,e,r,$u()),ts(n,t,r)}}function Jo(e,t,n){var r=Ju(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Zo(e))es(t,i);else{var a=e.alternate;if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var o=t.lastRenderedState,s=a(o,n);if(i.hasEagerState=!0,i.eagerState=s,rr(s,o)){var u=t.interleaved;return null===u?(i.next=i,_a(t)):(i.next=u.next,u.next=i),void(t.interleaved=i)}}catch(c){}null!==(n=Sa(e,t,i,r))&&(Zu(n,e,r,i=$u()),ts(n,t,r))}}function Zo(e){var t=e.alternate;return e===lo||null!==t&&t===lo}function es(e,t){vo=po=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function ts(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,gt(e,n)}}var ns={readContext:wa,useCallback:yo,useContext:yo,useEffect:yo,useImperativeHandle:yo,useInsertionEffect:yo,useLayoutEffect:yo,useMemo:yo,useReducer:yo,useRef:yo,useState:yo,useDebugValue:yo,useDeferredValue:yo,useTransition:yo,useMutableSource:yo,useSyncExternalStore:yo,useId:yo,unstable_isNewReconciler:!1},rs={readContext:wa,useCallback:function(e,t){return xo().memoizedState=[e,void 0===t?null:t],e},useContext:wa,useEffect:Fo,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Mo(4194308,4,qo.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Mo(4194308,4,e,t)},useInsertionEffect:function(e,t){return Mo(4,2,e,t)},useMemo:function(e,t){var n=xo();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=xo();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=$o.bind(null,lo,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},xo().memoizedState=e},useState:jo,useDebugValue:Wo,useDeferredValue:function(e){return xo().memoizedState=e},useTransition:function(){var e=jo(!1),t=e[0];return e=Yo.bind(null,e[1]),xo().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=lo,i=xo();if(ea){if(void 0===n)throw Error(a(407));n=n()}else{if(n=t(),null===Iu)throw Error(a(349));0!==(30&co)||No(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,Fo(Po.bind(null,r,o,e),[e]),r.flags|=2048,Do(9,Oo.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=xo(),t=Iu.identifierPrefix;if(ea){var n=Ki;t=":"+t+"R"+(n=(Gi&~(1<<32-at(Gi)-1)).toString(32)+n),0<(n=mo++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=go++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},is={readContext:wa,useCallback:Go,useContext:wa,useEffect:zo,useImperativeHandle:Ho,useInsertionEffect:Vo,useLayoutEffect:Bo,useMemo:Ko,useReducer:Eo,useRef:Lo,useState:function(){return Eo(So)},useDebugValue:Wo,useDeferredValue:function(e){return Qo(_o(),fo.memoizedState,e)},useTransition:function(){return[Eo(So)[0],_o().memoizedState]},useMutableSource:To,useSyncExternalStore:Co,useId:Xo,unstable_isNewReconciler:!1},as={readContext:wa,useCallback:Go,useContext:wa,useEffect:zo,useImperativeHandle:Ho,useInsertionEffect:Vo,useLayoutEffect:Bo,useMemo:Ko,useReducer:Io,useRef:Lo,useState:function(){return Io(So)},useDebugValue:Wo,useDeferredValue:function(e){var t=_o();return null===fo?t.memoizedState=e:Qo(t,fo.memoizedState,e)},useTransition:function(){return[Io(So)[0],_o().memoizedState]},useMutableSource:To,useSyncExternalStore:Co,useId:Xo,unstable_isNewReconciler:!1};function os(e,t){try{var n="",r=t;do{n+=V(r),r=r.return}while(r);var i=n}catch(a){i="\nError generating stack: "+a.message+"\n"+a.stack}return{value:e,source:t,stack:i,digest:null}}function ss(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function us(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var cs="function"===typeof WeakMap?WeakMap:Map;function ls(e,t,n){(n=Na(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Vu||(Vu=!0,Bu=r),us(0,t)},n}function fs(e,t,n){(n=Na(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){us(0,t)}}var a=e.stateNode;return null!==a&&"function"===typeof a.componentDidCatch&&(n.callback=function(){us(0,t),"function"!==typeof r&&(null===qu?qu=new Set([this]):qu.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function ds(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new cs;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=xc.bind(null,e,t,n),t.then(e,e))}function hs(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function ps(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Na(-1,1)).tag=2,Oa(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var vs=k.ReactCurrentOwner,ms=!1;function gs(e,t,n,r){t.child=null===e?Ka(t,null,n,r):Ga(t,e.child,n,r)}function ys(e,t,n,r,i){n=n.render;var a=t.ref;return ka(t,i),r=ko(e,t,n,r,a,i),n=wo(),null===e||ms?(ea&&n&&Xi(t),t.flags|=1,gs(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Vs(e,t,i))}function bs(e,t,n,r,i){if(null===e){var a=n.type;return"function"!==typeof a||Nc(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Pc(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,ks(e,t,a,r,i))}if(a=e.child,0===(e.lanes&i)){var o=a.memoizedProps;if((n=null!==(n=n.compare)?n:ir)(o,r)&&e.ref===t.ref)return Vs(e,t,i)}return t.flags|=1,(e=Oc(a,r)).ref=t.ref,e.return=t,t.child=e}function ks(e,t,n,r,i){if(null!==e){var a=e.memoizedProps;if(ir(a,r)&&e.ref===t.ref){if(ms=!1,t.pendingProps=r=a,0===(e.lanes&i))return t.lanes=e.lanes,Vs(e,t,i);0!==(131072&e.flags)&&(ms=!0)}}return _s(e,t,n,r,i)}function ws(e,t,n){var r=t.pendingProps,i=r.children,a=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},xi(Ou,Nu),Nu|=n;else{if(0===(1073741824&n))return e=null!==a?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,xi(Ou,Nu),Nu|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==a?a.baseLanes:n,xi(Ou,Nu),Nu|=r}else null!==a?(r=a.baseLanes|n,t.memoizedState=null):r=n,xi(Ou,Nu),Nu|=r;return gs(e,t,i,n),t.child}function xs(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function _s(e,t,n,r,i){var a=Ci(n)?Ii:Si.current;return a=Ti(t,a),ka(t,i),n=ko(e,t,n,r,a,i),r=wo(),null===e||ms?(ea&&r&&Xi(t),t.flags|=1,gs(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Vs(e,t,i))}function Ss(e,t,n,r,i){if(Ci(n)){var a=!0;Ai(t)}else a=!1;if(ka(t,i),null===t.stateNode)zs(e,t),Fa(t,n,r),Va(t,n,r,i),r=!0;else if(null===e){var o=t.stateNode,s=t.memoizedProps;o.props=s;var u=o.context,c=n.contextType;"object"===typeof c&&null!==c?c=wa(c):c=Ti(t,c=Ci(n)?Ii:Si.current);var l=n.getDerivedStateFromProps,f="function"===typeof l||"function"===typeof o.getSnapshotBeforeUpdate;f||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==r||u!==c)&&za(t,o,r,c),Ia=!1;var d=t.memoizedState;o.state=d,Ra(t,r,o,i),u=t.memoizedState,s!==r||d!==u||Ei.current||Ia?("function"===typeof l&&(La(t,n,l,r),u=t.memoizedState),(s=Ia||Ua(t,n,s,r,d,u,c))?(f||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4194308)):("function"===typeof o.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=u),o.props=r,o.state=u,o.context=c,r=s):("function"===typeof o.componentDidMount&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,Ca(e,t),s=t.memoizedProps,c=t.type===t.elementType?s:da(t.type,s),o.props=c,f=t.pendingProps,d=o.context,"object"===typeof(u=n.contextType)&&null!==u?u=wa(u):u=Ti(t,u=Ci(n)?Ii:Si.current);var h=n.getDerivedStateFromProps;(l="function"===typeof h||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==f||d!==u)&&za(t,o,r,u),Ia=!1,d=t.memoizedState,o.state=d,Ra(t,r,o,i);var p=t.memoizedState;s!==f||d!==p||Ei.current||Ia?("function"===typeof h&&(La(t,n,h,r),p=t.memoizedState),(c=Ia||Ua(t,n,c,r,d,p,u)||!1)?(l||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,p,u),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,p,u)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=u,r=c):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),r=!1)}return Es(e,t,n,r,a,i)}function Es(e,t,n,r,i,a){xs(e,t);var o=0!==(128&t.flags);if(!r&&!o)return i&&Ri(t,n,!1),Vs(e,t,a);r=t.stateNode,vs.current=t;var s=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=Ga(t,e.child,null,a),t.child=Ga(t,null,s,a)):gs(e,t,s,a),t.memoizedState=r.state,i&&Ri(t,n,!0),t.child}function Is(e){var t=e.stateNode;t.pendingContext?Oi(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Oi(0,t.context,!1),Za(e,t.containerInfo)}function Ts(e,t,n,r,i){return ca(),la(i),t.flags|=256,gs(e,t,n,r),t.child}var Cs,Ns,Os,Ps,As={dehydrated:null,treeContext:null,retryLane:0};function Rs(e){return{baseLanes:e,cachePool:null,transitions:null}}function js(e,t,n){var r,i=t.pendingProps,o=ro.current,s=!1,u=0!==(128&t.flags);if((r=u)||(r=(null===e||null!==e.memoizedState)&&0!==(2&o)),r?(s=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(o|=1),xi(ro,1&o),null===e)return aa(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(u=i.children,e=i.fallback,s?(i=t.mode,s=t.child,u={mode:"hidden",children:u},0===(1&i)&&null!==s?(s.childLanes=0,s.pendingProps=u):s=Rc(u,i,0,null),e=Ac(e,i,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=Rs(n),t.memoizedState=As,e):Ds(t,u));if(null!==(o=e.memoizedState)&&null!==(r=o.dehydrated))return function(e,t,n,r,i,o,s){if(n)return 256&t.flags?(t.flags&=-257,Ls(e,t,s,r=ss(Error(a(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(o=r.fallback,i=t.mode,r=Rc({mode:"visible",children:r.children},i,0,null),(o=Ac(o,i,s,null)).flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,0!==(1&t.mode)&&Ga(t,e.child,null,s),t.child.memoizedState=Rs(s),t.memoizedState=As,o);if(0===(1&t.mode))return Ls(e,t,s,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var u=r.dgst;return r=u,Ls(e,t,s,r=ss(o=Error(a(419)),r,void 0))}if(u=0!==(s&e.childLanes),ms||u){if(null!==(r=Iu)){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(r.suspendedLanes|s))?0:i)&&i!==o.retryLane&&(o.retryLane=i,Ea(e,i),Zu(r,e,i,-1))}return dc(),Ls(e,t,s,r=ss(Error(a(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=Sc.bind(null,e),i._reactRetry=t,null):(e=o.treeContext,Zi=ai(i.nextSibling),Ji=t,ea=!0,ta=null,null!==e&&(qi[Hi++]=Gi,qi[Hi++]=Ki,qi[Hi++]=Wi,Gi=e.id,Ki=e.overflow,Wi=t),t=Ds(t,r.children),t.flags|=4096,t)}(e,t,u,i,r,o,n);if(s){s=i.fallback,u=t.mode,r=(o=e.child).sibling;var c={mode:"hidden",children:i.children};return 0===(1&u)&&t.child!==o?((i=t.child).childLanes=0,i.pendingProps=c,t.deletions=null):(i=Oc(o,c)).subtreeFlags=14680064&o.subtreeFlags,null!==r?s=Oc(r,s):(s=Ac(s,u,n,null)).flags|=2,s.return=t,i.return=t,i.sibling=s,t.child=i,i=s,s=t.child,u=null===(u=e.child.memoizedState)?Rs(n):{baseLanes:u.baseLanes|n,cachePool:null,transitions:u.transitions},s.memoizedState=u,s.childLanes=e.childLanes&~n,t.memoizedState=As,i}return e=(s=e.child).sibling,i=Oc(s,{mode:"visible",children:i.children}),0===(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function Ds(e,t){return(t=Rc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Ls(e,t,n,r){return null!==r&&la(r),Ga(t,e.child,null,n),(e=Ds(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Ms(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),ba(e.return,t,n)}function Us(e,t,n,r,i){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i)}function Fs(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(gs(e,t,r.children,n),0!==(2&(r=ro.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Ms(e,n,t);else if(19===e.tag)Ms(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(xi(ro,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===io(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Us(t,!1,i,n,a);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===io(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Us(t,!0,n,null,a);break;case"together":Us(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function zs(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Vs(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Ru|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=Oc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Oc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Bs(e,t){if(!ea)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function qs(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Hs(e,t,n){var r=t.pendingProps;switch($i(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return qs(t),null;case 1:case 17:return Ci(t.type)&&Ni(),qs(t),null;case 3:return r=t.stateNode,eo(),wi(Ei),wi(Si),oo(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(sa(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==ta&&(rc(ta),ta=null))),Ns(e,t),qs(t),null;case 5:no(t);var i=Ja($a.current);if(n=t.type,null!==e&&null!=t.stateNode)Os(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(a(166));return qs(t),null}if(e=Ja(Ya.current),sa(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[ui]=t,r[ci]=o,e=0!==(1&t.mode),n){case"dialog":Dr("cancel",r),Dr("close",r);break;case"iframe":case"object":case"embed":Dr("load",r);break;case"video":case"audio":for(i=0;i<Pr.length;i++)Dr(Pr[i],r);break;case"source":Dr("error",r);break;case"img":case"image":case"link":Dr("error",r),Dr("load",r);break;case"details":Dr("toggle",r);break;case"input":X(r,o),Dr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Dr("invalid",r);break;case"textarea":ie(r,o),Dr("invalid",r)}for(var u in ge(n,o),i=null,o)if(o.hasOwnProperty(u)){var c=o[u];"children"===u?"string"===typeof c?r.textContent!==c&&(!0!==o.suppressHydrationWarning&&Qr(r.textContent,c,e),i=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(!0!==o.suppressHydrationWarning&&Qr(r.textContent,c,e),i=["children",""+c]):s.hasOwnProperty(u)&&null!=c&&"onScroll"===u&&Dr("scroll",r)}switch(n){case"input":G(r),Z(r,o,!0);break;case"textarea":G(r),oe(r);break;case"select":case"option":break;default:"function"===typeof o.onClick&&(r.onclick=Yr)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{u=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=se(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=u.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=u.createElement(n,{is:r.is}):(e=u.createElement(n),"select"===n&&(u=e,r.multiple?u.multiple=!0:r.size&&(u.size=r.size))):e=u.createElementNS(e,n),e[ui]=t,e[ci]=r,Cs(e,t,!1,!1),t.stateNode=e;e:{switch(u=ye(n,r),n){case"dialog":Dr("cancel",e),Dr("close",e),i=r;break;case"iframe":case"object":case"embed":Dr("load",e),i=r;break;case"video":case"audio":for(i=0;i<Pr.length;i++)Dr(Pr[i],e);i=r;break;case"source":Dr("error",e),i=r;break;case"img":case"image":case"link":Dr("error",e),Dr("load",e),i=r;break;case"details":Dr("toggle",e),i=r;break;case"input":X(e,r),i=Y(e,r),Dr("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=M({},r,{value:void 0}),Dr("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),Dr("invalid",e)}for(o in ge(n,i),c=i)if(c.hasOwnProperty(o)){var l=c[o];"style"===o?ve(e,l):"dangerouslySetInnerHTML"===o?null!=(l=l?l.__html:void 0)&&le(e,l):"children"===o?"string"===typeof l?("textarea"!==n||""!==l)&&fe(e,l):"number"===typeof l&&fe(e,""+l):"suppressContentEditableWarning"!==o&&"suppressHydrationWarning"!==o&&"autoFocus"!==o&&(s.hasOwnProperty(o)?null!=l&&"onScroll"===o&&Dr("scroll",e):null!=l&&b(e,o,l,u))}switch(n){case"input":G(e),Z(e,r,!1);break;case"textarea":G(e),oe(e);break;case"option":null!=r.value&&e.setAttribute("value",""+H(r.value));break;case"select":e.multiple=!!r.multiple,null!=(o=r.value)?ne(e,!!r.multiple,o,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=Yr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return qs(t),null;case 6:if(e&&null!=t.stateNode)Ps(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(a(166));if(n=Ja($a.current),Ja(Ya.current),sa(t)){if(r=t.stateNode,n=t.memoizedProps,r[ui]=t,(o=r.nodeValue!==n)&&null!==(e=Ji))switch(e.tag){case 3:Qr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Qr(r.nodeValue,n,0!==(1&e.mode))}o&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[ui]=t,t.stateNode=r}return qs(t),null;case 13:if(wi(ro),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(ea&&null!==Zi&&0!==(1&t.mode)&&0===(128&t.flags))ua(),ca(),t.flags|=98560,o=!1;else if(o=sa(t),null!==r&&null!==r.dehydrated){if(null===e){if(!o)throw Error(a(318));if(!(o=null!==(o=t.memoizedState)?o.dehydrated:null))throw Error(a(317));o[ui]=t}else ca(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;qs(t),o=!1}else null!==ta&&(rc(ta),ta=null),o=!0;if(!o)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&ro.current)?0===Pu&&(Pu=3):dc())),null!==t.updateQueue&&(t.flags|=4),qs(t),null);case 4:return eo(),Ns(e,t),null===e&&Ur(t.stateNode.containerInfo),qs(t),null;case 10:return ya(t.type._context),qs(t),null;case 19:if(wi(ro),null===(o=t.memoizedState))return qs(t),null;if(r=0!==(128&t.flags),null===(u=o.rendering))if(r)Bs(o,!1);else{if(0!==Pu||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(u=io(e))){for(t.flags|=128,Bs(o,!1),null!==(r=u.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(o=n).flags&=14680066,null===(u=o.alternate)?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=u.childLanes,o.lanes=u.lanes,o.child=u.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=u.memoizedProps,o.memoizedState=u.memoizedState,o.updateQueue=u.updateQueue,o.type=u.type,e=u.dependencies,o.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return xi(ro,1&ro.current|2),t.child}e=e.sibling}null!==o.tail&&Xe()>Fu&&(t.flags|=128,r=!0,Bs(o,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=io(u))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Bs(o,!0),null===o.tail&&"hidden"===o.tailMode&&!u.alternate&&!ea)return qs(t),null}else 2*Xe()-o.renderingStartTime>Fu&&1073741824!==n&&(t.flags|=128,r=!0,Bs(o,!1),t.lanes=4194304);o.isBackwards?(u.sibling=t.child,t.child=u):(null!==(n=o.last)?n.sibling=u:t.child=u,o.last=u)}return null!==o.tail?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Xe(),t.sibling=null,n=ro.current,xi(ro,r?1&n|2:1&n),t):(qs(t),null);case 22:case 23:return uc(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Nu)&&(qs(t),6&t.subtreeFlags&&(t.flags|=8192)):qs(t),null;case 24:case 25:return null}throw Error(a(156,t.tag))}function Ws(e,t){switch($i(t),t.tag){case 1:return Ci(t.type)&&Ni(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return eo(),wi(Ei),wi(Si),oo(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return no(t),null;case 13:if(wi(ro),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(a(340));ca()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return wi(ro),null;case 4:return eo(),null;case 10:return ya(t.type._context),null;case 22:case 23:return uc(),null;default:return null}}Cs=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Ns=function(){},Os=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,Ja(Ya.current);var a,o=null;switch(n){case"input":i=Y(e,i),r=Y(e,r),o=[];break;case"select":i=M({},i,{value:void 0}),r=M({},r,{value:void 0}),o=[];break;case"textarea":i=re(e,i),r=re(e,r),o=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=Yr)}for(l in ge(n,r),n=null,i)if(!r.hasOwnProperty(l)&&i.hasOwnProperty(l)&&null!=i[l])if("style"===l){var u=i[l];for(a in u)u.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else"dangerouslySetInnerHTML"!==l&&"children"!==l&&"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&"autoFocus"!==l&&(s.hasOwnProperty(l)?o||(o=[]):(o=o||[]).push(l,null));for(l in r){var c=r[l];if(u=null!=i?i[l]:void 0,r.hasOwnProperty(l)&&c!==u&&(null!=c||null!=u))if("style"===l)if(u){for(a in u)!u.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in c)c.hasOwnProperty(a)&&u[a]!==c[a]&&(n||(n={}),n[a]=c[a])}else n||(o||(o=[]),o.push(l,n)),n=c;else"dangerouslySetInnerHTML"===l?(c=c?c.__html:void 0,u=u?u.__html:void 0,null!=c&&u!==c&&(o=o||[]).push(l,c)):"children"===l?"string"!==typeof c&&"number"!==typeof c||(o=o||[]).push(l,""+c):"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&(s.hasOwnProperty(l)?(null!=c&&"onScroll"===l&&Dr("scroll",e),o||u===c||(o=[])):(o=o||[]).push(l,c))}n&&(o=o||[]).push("style",n);var l=o;(t.updateQueue=l)&&(t.flags|=4)}},Ps=function(e,t,n,r){n!==r&&(t.flags|=4)};var Gs=!1,Ks=!1,Qs="function"===typeof WeakSet?WeakSet:Set,Ys=null;function Xs(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){wc(e,t,r)}else n.current=null}function $s(e,t,n){try{n()}catch(r){wc(e,t,r)}}var Js=!1;function Zs(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,void 0!==a&&$s(t,n,a)}i=i.next}while(i!==r)}}function eu(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function tu(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function nu(e){var t=e.alternate;null!==t&&(e.alternate=null,nu(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[ui],delete t[ci],delete t[fi],delete t[di],delete t[hi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function ru(e){return 5===e.tag||3===e.tag||4===e.tag}function iu(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||ru(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function au(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Yr));else if(4!==r&&null!==(e=e.child))for(au(e,t,n),e=e.sibling;null!==e;)au(e,t,n),e=e.sibling}function ou(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(ou(e,t,n),e=e.sibling;null!==e;)ou(e,t,n),e=e.sibling}var su=null,uu=!1;function cu(e,t,n){for(n=n.child;null!==n;)lu(e,t,n),n=n.sibling}function lu(e,t,n){if(it&&"function"===typeof it.onCommitFiberUnmount)try{it.onCommitFiberUnmount(rt,n)}catch(s){}switch(n.tag){case 5:Ks||Xs(n,t);case 6:var r=su,i=uu;su=null,cu(e,t,n),uu=i,null!==(su=r)&&(uu?(e=su,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):su.removeChild(n.stateNode));break;case 18:null!==su&&(uu?(e=su,n=n.stateNode,8===e.nodeType?ii(e.parentNode,n):1===e.nodeType&&ii(e,n),Vt(e)):ii(su,n.stateNode));break;case 4:r=su,i=uu,su=n.stateNode.containerInfo,uu=!0,cu(e,t,n),su=r,uu=i;break;case 0:case 11:case 14:case 15:if(!Ks&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var a=i,o=a.destroy;a=a.tag,void 0!==o&&(0!==(2&a)||0!==(4&a))&&$s(n,t,o),i=i.next}while(i!==r)}cu(e,t,n);break;case 1:if(!Ks&&(Xs(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(s){wc(n,t,s)}cu(e,t,n);break;case 21:cu(e,t,n);break;case 22:1&n.mode?(Ks=(r=Ks)||null!==n.memoizedState,cu(e,t,n),Ks=r):cu(e,t,n);break;default:cu(e,t,n)}}function fu(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Qs),t.forEach((function(t){var r=Ec.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function du(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var o=e,s=t,u=s;e:for(;null!==u;){switch(u.tag){case 5:su=u.stateNode,uu=!1;break e;case 3:case 4:su=u.stateNode.containerInfo,uu=!0;break e}u=u.return}if(null===su)throw Error(a(160));lu(o,s,i),su=null,uu=!1;var c=i.alternate;null!==c&&(c.return=null),i.return=null}catch(l){wc(i,t,l)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)hu(t,e),t=t.sibling}function hu(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(du(t,e),pu(e),4&r){try{Zs(3,e,e.return),eu(3,e)}catch(m){wc(e,e.return,m)}try{Zs(5,e,e.return)}catch(m){wc(e,e.return,m)}}break;case 1:du(t,e),pu(e),512&r&&null!==n&&Xs(n,n.return);break;case 5:if(du(t,e),pu(e),512&r&&null!==n&&Xs(n,n.return),32&e.flags){var i=e.stateNode;try{fe(i,"")}catch(m){wc(e,e.return,m)}}if(4&r&&null!=(i=e.stateNode)){var o=e.memoizedProps,s=null!==n?n.memoizedProps:o,u=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===u&&"radio"===o.type&&null!=o.name&&$(i,o),ye(u,s);var l=ye(u,o);for(s=0;s<c.length;s+=2){var f=c[s],d=c[s+1];"style"===f?ve(i,d):"dangerouslySetInnerHTML"===f?le(i,d):"children"===f?fe(i,d):b(i,f,d,l)}switch(u){case"input":J(i,o);break;case"textarea":ae(i,o);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var p=o.value;null!=p?ne(i,!!o.multiple,p,!1):h!==!!o.multiple&&(null!=o.defaultValue?ne(i,!!o.multiple,o.defaultValue,!0):ne(i,!!o.multiple,o.multiple?[]:"",!1))}i[ci]=o}catch(m){wc(e,e.return,m)}}break;case 6:if(du(t,e),pu(e),4&r){if(null===e.stateNode)throw Error(a(162));i=e.stateNode,o=e.memoizedProps;try{i.nodeValue=o}catch(m){wc(e,e.return,m)}}break;case 3:if(du(t,e),pu(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Vt(t.containerInfo)}catch(m){wc(e,e.return,m)}break;case 4:default:du(t,e),pu(e);break;case 13:du(t,e),pu(e),8192&(i=e.child).flags&&(o=null!==i.memoizedState,i.stateNode.isHidden=o,!o||null!==i.alternate&&null!==i.alternate.memoizedState||(Uu=Xe())),4&r&&fu(e);break;case 22:if(f=null!==n&&null!==n.memoizedState,1&e.mode?(Ks=(l=Ks)||f,du(t,e),Ks=l):du(t,e),pu(e),8192&r){if(l=null!==e.memoizedState,(e.stateNode.isHidden=l)&&!f&&0!==(1&e.mode))for(Ys=e,f=e.child;null!==f;){for(d=Ys=f;null!==Ys;){switch(p=(h=Ys).child,h.tag){case 0:case 11:case 14:case 15:Zs(4,h,h.return);break;case 1:Xs(h,h.return);var v=h.stateNode;if("function"===typeof v.componentWillUnmount){r=h,n=h.return;try{t=r,v.props=t.memoizedProps,v.state=t.memoizedState,v.componentWillUnmount()}catch(m){wc(r,n,m)}}break;case 5:Xs(h,h.return);break;case 22:if(null!==h.memoizedState){yu(d);continue}}null!==p?(p.return=h,Ys=p):yu(d)}f=f.sibling}e:for(f=null,d=e;;){if(5===d.tag){if(null===f){f=d;try{i=d.stateNode,l?"function"===typeof(o=i.style).setProperty?o.setProperty("display","none","important"):o.display="none":(u=d.stateNode,s=void 0!==(c=d.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,u.style.display=pe("display",s))}catch(m){wc(e,e.return,m)}}}else if(6===d.tag){if(null===f)try{d.stateNode.nodeValue=l?"":d.memoizedProps}catch(m){wc(e,e.return,m)}}else if((22!==d.tag&&23!==d.tag||null===d.memoizedState||d===e)&&null!==d.child){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;null===d.sibling;){if(null===d.return||d.return===e)break e;f===d&&(f=null),d=d.return}f===d&&(f=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:du(t,e),pu(e),4&r&&fu(e);case 21:}}function pu(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(ru(n)){var r=n;break e}n=n.return}throw Error(a(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(fe(i,""),r.flags&=-33),ou(e,iu(e),i);break;case 3:case 4:var o=r.stateNode.containerInfo;au(e,iu(e),o);break;default:throw Error(a(161))}}catch(s){wc(e,e.return,s)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function vu(e,t,n){Ys=e,mu(e,t,n)}function mu(e,t,n){for(var r=0!==(1&e.mode);null!==Ys;){var i=Ys,a=i.child;if(22===i.tag&&r){var o=null!==i.memoizedState||Gs;if(!o){var s=i.alternate,u=null!==s&&null!==s.memoizedState||Ks;s=Gs;var c=Ks;if(Gs=o,(Ks=u)&&!c)for(Ys=i;null!==Ys;)u=(o=Ys).child,22===o.tag&&null!==o.memoizedState?bu(i):null!==u?(u.return=o,Ys=u):bu(i);for(;null!==a;)Ys=a,mu(a,t,n),a=a.sibling;Ys=i,Gs=s,Ks=c}gu(e)}else 0!==(8772&i.subtreeFlags)&&null!==a?(a.return=i,Ys=a):gu(e)}}function gu(e){for(;null!==Ys;){var t=Ys;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Ks||eu(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Ks)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:da(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;null!==o&&ja(t,o,r);break;case 3:var s=t.updateQueue;if(null!==s){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}ja(t,s,n)}break;case 5:var u=t.stateNode;if(null===n&&4&t.flags){n=u;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var l=t.alternate;if(null!==l){var f=l.memoizedState;if(null!==f){var d=f.dehydrated;null!==d&&Vt(d)}}}break;default:throw Error(a(163))}Ks||512&t.flags&&tu(t)}catch(h){wc(t,t.return,h)}}if(t===e){Ys=null;break}if(null!==(n=t.sibling)){n.return=t.return,Ys=n;break}Ys=t.return}}function yu(e){for(;null!==Ys;){var t=Ys;if(t===e){Ys=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Ys=n;break}Ys=t.return}}function bu(e){for(;null!==Ys;){var t=Ys;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{eu(4,t)}catch(u){wc(t,n,u)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(u){wc(t,i,u)}}var a=t.return;try{tu(t)}catch(u){wc(t,a,u)}break;case 5:var o=t.return;try{tu(t)}catch(u){wc(t,o,u)}}}catch(u){wc(t,t.return,u)}if(t===e){Ys=null;break}var s=t.sibling;if(null!==s){s.return=t.return,Ys=s;break}Ys=t.return}}var ku,wu=Math.ceil,xu=k.ReactCurrentDispatcher,_u=k.ReactCurrentOwner,Su=k.ReactCurrentBatchConfig,Eu=0,Iu=null,Tu=null,Cu=0,Nu=0,Ou=ki(0),Pu=0,Au=null,Ru=0,ju=0,Du=0,Lu=null,Mu=null,Uu=0,Fu=1/0,zu=null,Vu=!1,Bu=null,qu=null,Hu=!1,Wu=null,Gu=0,Ku=0,Qu=null,Yu=-1,Xu=0;function $u(){return 0!==(6&Eu)?Xe():-1!==Yu?Yu:Yu=Xe()}function Ju(e){return 0===(1&e.mode)?1:0!==(2&Eu)&&0!==Cu?Cu&-Cu:null!==fa.transition?(0===Xu&&(Xu=pt()),Xu):0!==(e=yt)?e:e=void 0===(e=window.event)?16:Yt(e.type)}function Zu(e,t,n,r){if(50<Ku)throw Ku=0,Qu=null,Error(a(185));mt(e,n,r),0!==(2&Eu)&&e===Iu||(e===Iu&&(0===(2&Eu)&&(ju|=n),4===Pu&&ic(e,Cu)),ec(e,r),1===n&&0===Eu&&0===(1&t.mode)&&(Fu=Xe()+500,Di&&Ui()))}function ec(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var o=31-at(a),s=1<<o,u=i[o];-1===u?0!==(s&n)&&0===(s&r)||(i[o]=dt(s,t)):u<=t&&(e.expiredLanes|=s),a&=~s}}(e,t);var r=ft(e,e===Iu?Cu:0);if(0===r)null!==n&&Ke(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Ke(n),1===t)0===e.tag?function(e){Di=!0,Mi(e)}(ac.bind(null,e)):Mi(ac.bind(null,e)),ni((function(){0===(6&Eu)&&Ui()})),n=null;else{switch(bt(r)){case 1:n=Je;break;case 4:n=Ze;break;case 16:default:n=et;break;case 536870912:n=nt}n=Ic(n,tc.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function tc(e,t){if(Yu=-1,Xu=0,0!==(6&Eu))throw Error(a(327));var n=e.callbackNode;if(bc()&&e.callbackNode!==n)return null;var r=ft(e,e===Iu?Cu:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=hc(e,r);else{t=r;var i=Eu;Eu|=2;var o=fc();for(Iu===e&&Cu===t||(zu=null,Fu=Xe()+500,cc(e,t));;)try{vc();break}catch(u){lc(e,u)}ga(),xu.current=o,Eu=i,null!==Tu?t=0:(Iu=null,Cu=0,t=Pu)}if(0!==t){if(2===t&&(0!==(i=ht(e))&&(r=i,t=nc(e,i))),1===t)throw n=Au,cc(e,0),ic(e,r),ec(e,Xe()),n;if(6===t)ic(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!rr(a(),i))return!1}catch(s){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=hc(e,r))&&(0!==(o=ht(e))&&(r=o,t=nc(e,o))),1===t))throw n=Au,cc(e,0),ic(e,r),ec(e,Xe()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(a(345));case 2:case 5:yc(e,Mu,zu);break;case 3:if(ic(e,r),(130023424&r)===r&&10<(t=Uu+500-Xe())){if(0!==ft(e,0))break;if(((i=e.suspendedLanes)&r)!==r){$u(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=Zr(yc.bind(null,e,Mu,zu),t);break}yc(e,Mu,zu);break;case 4:if(ic(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var s=31-at(r);o=1<<s,(s=t[s])>i&&(i=s),r&=~o}if(r=i,10<(r=(120>(r=Xe()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*wu(r/1960))-r)){e.timeoutHandle=Zr(yc.bind(null,e,Mu,zu),r);break}yc(e,Mu,zu);break;default:throw Error(a(329))}}}return ec(e,Xe()),e.callbackNode===n?tc.bind(null,e):null}function nc(e,t){var n=Lu;return e.current.memoizedState.isDehydrated&&(cc(e,t).flags|=256),2!==(e=hc(e,t))&&(t=Mu,Mu=n,null!==t&&rc(t)),e}function rc(e){null===Mu?Mu=e:Mu.push.apply(Mu,e)}function ic(e,t){for(t&=~Du,t&=~ju,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-at(t),r=1<<n;e[n]=-1,t&=~r}}function ac(e){if(0!==(6&Eu))throw Error(a(327));bc();var t=ft(e,0);if(0===(1&t))return ec(e,Xe()),null;var n=hc(e,t);if(0!==e.tag&&2===n){var r=ht(e);0!==r&&(t=r,n=nc(e,r))}if(1===n)throw n=Au,cc(e,0),ic(e,t),ec(e,Xe()),n;if(6===n)throw Error(a(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,yc(e,Mu,zu),ec(e,Xe()),null}function oc(e,t){var n=Eu;Eu|=1;try{return e(t)}finally{0===(Eu=n)&&(Fu=Xe()+500,Di&&Ui())}}function sc(e){null!==Wu&&0===Wu.tag&&0===(6&Eu)&&bc();var t=Eu;Eu|=1;var n=Su.transition,r=yt;try{if(Su.transition=null,yt=1,e)return e()}finally{yt=r,Su.transition=n,0===(6&(Eu=t))&&Ui()}}function uc(){Nu=Ou.current,wi(Ou)}function cc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ei(n)),null!==Tu)for(n=Tu.return;null!==n;){var r=n;switch($i(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Ni();break;case 3:eo(),wi(Ei),wi(Si),oo();break;case 5:no(r);break;case 4:eo();break;case 13:case 19:wi(ro);break;case 10:ya(r.type._context);break;case 22:case 23:uc()}n=n.return}if(Iu=e,Tu=e=Oc(e.current,null),Cu=Nu=t,Pu=0,Au=null,Du=ju=Ru=0,Mu=Lu=null,null!==xa){for(t=0;t<xa.length;t++)if(null!==(r=(n=xa[t]).interleaved)){n.interleaved=null;var i=r.next,a=n.pending;if(null!==a){var o=a.next;a.next=i,r.next=o}n.pending=r}xa=null}return e}function lc(e,t){for(;;){var n=Tu;try{if(ga(),so.current=ns,po){for(var r=lo.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}po=!1}if(co=0,ho=fo=lo=null,vo=!1,mo=0,_u.current=null,null===n||null===n.return){Pu=1,Au=t,Tu=null;break}e:{var o=e,s=n.return,u=n,c=t;if(t=Cu,u.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var l=c,f=u,d=f.tag;if(0===(1&f.mode)&&(0===d||11===d||15===d)){var h=f.alternate;h?(f.updateQueue=h.updateQueue,f.memoizedState=h.memoizedState,f.lanes=h.lanes):(f.updateQueue=null,f.memoizedState=null)}var p=hs(s);if(null!==p){p.flags&=-257,ps(p,s,u,0,t),1&p.mode&&ds(o,l,t),c=l;var v=(t=p).updateQueue;if(null===v){var m=new Set;m.add(c),t.updateQueue=m}else v.add(c);break e}if(0===(1&t)){ds(o,l,t),dc();break e}c=Error(a(426))}else if(ea&&1&u.mode){var g=hs(s);if(null!==g){0===(65536&g.flags)&&(g.flags|=256),ps(g,s,u,0,t),la(os(c,u));break e}}o=c=os(c,u),4!==Pu&&(Pu=2),null===Lu?Lu=[o]:Lu.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t,Aa(o,ls(0,c,t));break e;case 1:u=c;var y=o.type,b=o.stateNode;if(0===(128&o.flags)&&("function"===typeof y.getDerivedStateFromError||null!==b&&"function"===typeof b.componentDidCatch&&(null===qu||!qu.has(b)))){o.flags|=65536,t&=-t,o.lanes|=t,Aa(o,fs(o,u,t));break e}}o=o.return}while(null!==o)}gc(n)}catch(k){t=k,Tu===n&&null!==n&&(Tu=n=n.return);continue}break}}function fc(){var e=xu.current;return xu.current=ns,null===e?ns:e}function dc(){0!==Pu&&3!==Pu&&2!==Pu||(Pu=4),null===Iu||0===(268435455&Ru)&&0===(268435455&ju)||ic(Iu,Cu)}function hc(e,t){var n=Eu;Eu|=2;var r=fc();for(Iu===e&&Cu===t||(zu=null,cc(e,t));;)try{pc();break}catch(i){lc(e,i)}if(ga(),Eu=n,xu.current=r,null!==Tu)throw Error(a(261));return Iu=null,Cu=0,Pu}function pc(){for(;null!==Tu;)mc(Tu)}function vc(){for(;null!==Tu&&!Qe();)mc(Tu)}function mc(e){var t=ku(e.alternate,e,Nu);e.memoizedProps=e.pendingProps,null===t?gc(e):Tu=t,_u.current=null}function gc(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Hs(n,t,Nu)))return void(Tu=n)}else{if(null!==(n=Ws(n,t)))return n.flags&=32767,void(Tu=n);if(null===e)return Pu=6,void(Tu=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Tu=t);Tu=t=e}while(null!==t);0===Pu&&(Pu=5)}function yc(e,t,n){var r=yt,i=Su.transition;try{Su.transition=null,yt=1,function(e,t,n,r){do{bc()}while(null!==Wu);if(0!==(6&Eu))throw Error(a(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(a(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-at(n),a=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~a}}(e,o),e===Iu&&(Tu=Iu=null,Cu=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Hu||(Hu=!0,Ic(et,(function(){return bc(),null}))),o=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||o){o=Su.transition,Su.transition=null;var s=yt;yt=1;var u=Eu;Eu|=4,_u.current=null,function(e,t){if(Xr=qt,cr(e=ur())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch(w){n=null;break e}var s=0,u=-1,c=-1,l=0,f=0,d=e,h=null;t:for(;;){for(var p;d!==n||0!==i&&3!==d.nodeType||(u=s+i),d!==o||0!==r&&3!==d.nodeType||(c=s+r),3===d.nodeType&&(s+=d.nodeValue.length),null!==(p=d.firstChild);)h=d,d=p;for(;;){if(d===e)break t;if(h===n&&++l===i&&(u=s),h===o&&++f===r&&(c=s),null!==(p=d.nextSibling))break;h=(d=h).parentNode}d=p}n=-1===u||-1===c?null:{start:u,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for($r={focusedElem:e,selectionRange:n},qt=!1,Ys=t;null!==Ys;)if(e=(t=Ys).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Ys=e;else for(;null!==Ys;){t=Ys;try{var v=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==v){var m=v.memoizedProps,g=v.memoizedState,y=t.stateNode,b=y.getSnapshotBeforeUpdate(t.elementType===t.type?m:da(t.type,m),g);y.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var k=t.stateNode.containerInfo;1===k.nodeType?k.textContent="":9===k.nodeType&&k.documentElement&&k.removeChild(k.documentElement);break;default:throw Error(a(163))}}catch(w){wc(t,t.return,w)}if(null!==(e=t.sibling)){e.return=t.return,Ys=e;break}Ys=t.return}v=Js,Js=!1}(e,n),hu(n,e),lr($r),qt=!!Xr,$r=Xr=null,e.current=n,vu(n,e,i),Ye(),Eu=u,yt=s,Su.transition=o}else e.current=n;if(Hu&&(Hu=!1,Wu=e,Gu=i),o=e.pendingLanes,0===o&&(qu=null),function(e){if(it&&"function"===typeof it.onCommitFiberRoot)try{it.onCommitFiberRoot(rt,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),ec(e,Xe()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Vu)throw Vu=!1,e=Bu,Bu=null,e;0!==(1&Gu)&&0!==e.tag&&bc(),o=e.pendingLanes,0!==(1&o)?e===Qu?Ku++:(Ku=0,Qu=e):Ku=0,Ui()}(e,t,n,r)}finally{Su.transition=i,yt=r}return null}function bc(){if(null!==Wu){var e=bt(Gu),t=Su.transition,n=yt;try{if(Su.transition=null,yt=16>e?16:e,null===Wu)var r=!1;else{if(e=Wu,Wu=null,Gu=0,0!==(6&Eu))throw Error(a(331));var i=Eu;for(Eu|=4,Ys=e.current;null!==Ys;){var o=Ys,s=o.child;if(0!==(16&Ys.flags)){var u=o.deletions;if(null!==u){for(var c=0;c<u.length;c++){var l=u[c];for(Ys=l;null!==Ys;){var f=Ys;switch(f.tag){case 0:case 11:case 15:Zs(8,f,o)}var d=f.child;if(null!==d)d.return=f,Ys=d;else for(;null!==Ys;){var h=(f=Ys).sibling,p=f.return;if(nu(f),f===l){Ys=null;break}if(null!==h){h.return=p,Ys=h;break}Ys=p}}}var v=o.alternate;if(null!==v){var m=v.child;if(null!==m){v.child=null;do{var g=m.sibling;m.sibling=null,m=g}while(null!==m)}}Ys=o}}if(0!==(2064&o.subtreeFlags)&&null!==s)s.return=o,Ys=s;else e:for(;null!==Ys;){if(0!==(2048&(o=Ys).flags))switch(o.tag){case 0:case 11:case 15:Zs(9,o,o.return)}var y=o.sibling;if(null!==y){y.return=o.return,Ys=y;break e}Ys=o.return}}var b=e.current;for(Ys=b;null!==Ys;){var k=(s=Ys).child;if(0!==(2064&s.subtreeFlags)&&null!==k)k.return=s,Ys=k;else e:for(s=b;null!==Ys;){if(0!==(2048&(u=Ys).flags))try{switch(u.tag){case 0:case 11:case 15:eu(9,u)}}catch(x){wc(u,u.return,x)}if(u===s){Ys=null;break e}var w=u.sibling;if(null!==w){w.return=u.return,Ys=w;break e}Ys=u.return}}if(Eu=i,Ui(),it&&"function"===typeof it.onPostCommitFiberRoot)try{it.onPostCommitFiberRoot(rt,e)}catch(x){}r=!0}return r}finally{yt=n,Su.transition=t}}return!1}function kc(e,t,n){e=Oa(e,t=ls(0,t=os(n,t),1),1),t=$u(),null!==e&&(mt(e,1,t),ec(e,t))}function wc(e,t,n){if(3===e.tag)kc(e,e,n);else for(;null!==t;){if(3===t.tag){kc(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===qu||!qu.has(r))){t=Oa(t,e=fs(t,e=os(n,e),1),1),e=$u(),null!==t&&(mt(t,1,e),ec(t,e));break}}t=t.return}}function xc(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=$u(),e.pingedLanes|=e.suspendedLanes&n,Iu===e&&(Cu&n)===n&&(4===Pu||3===Pu&&(130023424&Cu)===Cu&&500>Xe()-Uu?cc(e,0):Du|=n),ec(e,t)}function _c(e,t){0===t&&(0===(1&e.mode)?t=1:(t=ct,0===(130023424&(ct<<=1))&&(ct=4194304)));var n=$u();null!==(e=Ea(e,t))&&(mt(e,t,n),ec(e,n))}function Sc(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),_c(e,n)}function Ec(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(a(314))}null!==r&&r.delete(t),_c(e,n)}function Ic(e,t){return Ge(e,t)}function Tc(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Cc(e,t,n,r){return new Tc(e,t,n,r)}function Nc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Oc(e,t){var n=e.alternate;return null===n?((n=Cc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Pc(e,t,n,r,i,o){var s=2;if(r=e,"function"===typeof e)Nc(e)&&(s=1);else if("string"===typeof e)s=5;else e:switch(e){case _:return Ac(n.children,i,o,t);case S:s=8,i|=8;break;case E:return(e=Cc(12,n,t,2|i)).elementType=E,e.lanes=o,e;case N:return(e=Cc(13,n,t,i)).elementType=N,e.lanes=o,e;case O:return(e=Cc(19,n,t,i)).elementType=O,e.lanes=o,e;case R:return Rc(n,i,o,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case I:s=10;break e;case T:s=9;break e;case C:s=11;break e;case P:s=14;break e;case A:s=16,r=null;break e}throw Error(a(130,null==e?e:typeof e,""))}return(t=Cc(s,n,t,i)).elementType=e,t.type=r,t.lanes=o,t}function Ac(e,t,n,r){return(e=Cc(7,e,r,t)).lanes=n,e}function Rc(e,t,n,r){return(e=Cc(22,e,r,t)).elementType=R,e.lanes=n,e.stateNode={isHidden:!1},e}function jc(e,t,n){return(e=Cc(6,e,null,t)).lanes=n,e}function Dc(e,t,n){return(t=Cc(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Lc(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=vt(0),this.expirationTimes=vt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=vt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Mc(e,t,n,r,i,a,o,s,u){return e=new Lc(e,t,n,s,u),1===t?(t=1,!0===a&&(t|=8)):t=0,a=Cc(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ta(a),e}function Uc(e){if(!e)return _i;e:{if(Ve(e=e._reactInternals)!==e||1!==e.tag)throw Error(a(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ci(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(a(171))}if(1===e.tag){var n=e.type;if(Ci(n))return Pi(e,n,t)}return t}function Fc(e,t,n,r,i,a,o,s,u){return(e=Mc(n,r,!0,e,0,a,0,s,u)).context=Uc(null),n=e.current,(a=Na(r=$u(),i=Ju(n))).callback=void 0!==t&&null!==t?t:null,Oa(n,a,i),e.current.lanes=i,mt(e,i,r),ec(e,r),e}function zc(e,t,n,r){var i=t.current,a=$u(),o=Ju(i);return n=Uc(n),null===t.context?t.context=n:t.pendingContext=n,(t=Na(a,o)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Oa(i,t,o))&&(Zu(e,i,o,a),Pa(e,i,o)),o}function Vc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Bc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function qc(e,t){Bc(e,t),(e=e.alternate)&&Bc(e,t)}ku=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ei.current)ms=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return ms=!1,function(e,t,n){switch(t.tag){case 3:Is(t),ca();break;case 5:to(t);break;case 1:Ci(t.type)&&Ai(t);break;case 4:Za(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;xi(ha,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(xi(ro,1&ro.current),t.flags|=128,null):0!==(n&t.child.childLanes)?js(e,t,n):(xi(ro,1&ro.current),null!==(e=Vs(e,t,n))?e.sibling:null);xi(ro,1&ro.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return Fs(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),xi(ro,ro.current),r)break;return null;case 22:case 23:return t.lanes=0,ws(e,t,n)}return Vs(e,t,n)}(e,t,n);ms=0!==(131072&e.flags)}else ms=!1,ea&&0!==(1048576&t.flags)&&Yi(t,Bi,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;zs(e,t),e=t.pendingProps;var i=Ti(t,Si.current);ka(t,n),i=ko(null,t,r,e,i,n);var o=wo();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ci(r)?(o=!0,Ai(t)):o=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Ta(t),i.updater=Ma,t.stateNode=i,i._reactInternals=t,Va(t,r,e,n),t=Es(null,t,r,!0,o,n)):(t.tag=0,ea&&o&&Xi(t),gs(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(zs(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return Nc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===C)return 11;if(e===P)return 14}return 2}(r),e=da(r,e),i){case 0:t=_s(null,t,r,e,n);break e;case 1:t=Ss(null,t,r,e,n);break e;case 11:t=ys(null,t,r,e,n);break e;case 14:t=bs(null,t,r,da(r.type,e),n);break e}throw Error(a(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,_s(e,t,r,i=t.elementType===r?i:da(r,i),n);case 1:return r=t.type,i=t.pendingProps,Ss(e,t,r,i=t.elementType===r?i:da(r,i),n);case 3:e:{if(Is(t),null===e)throw Error(a(387));r=t.pendingProps,i=(o=t.memoizedState).element,Ca(e,t),Ra(t,r,null,n);var s=t.memoizedState;if(r=s.element,o.isDehydrated){if(o={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=o,t.memoizedState=o,256&t.flags){t=Ts(e,t,r,n,i=os(Error(a(423)),t));break e}if(r!==i){t=Ts(e,t,r,n,i=os(Error(a(424)),t));break e}for(Zi=ai(t.stateNode.containerInfo.firstChild),Ji=t,ea=!0,ta=null,n=Ka(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(ca(),r===i){t=Vs(e,t,n);break e}gs(e,t,r,n)}t=t.child}return t;case 5:return to(t),null===e&&aa(t),r=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,s=i.children,Jr(r,i)?s=null:null!==o&&Jr(r,o)&&(t.flags|=32),xs(e,t),gs(e,t,s,n),t.child;case 6:return null===e&&aa(t),null;case 13:return js(e,t,n);case 4:return Za(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Ga(t,null,r,n):gs(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,ys(e,t,r,i=t.elementType===r?i:da(r,i),n);case 7:return gs(e,t,t.pendingProps,n),t.child;case 8:case 12:return gs(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,o=t.memoizedProps,s=i.value,xi(ha,r._currentValue),r._currentValue=s,null!==o)if(rr(o.value,s)){if(o.children===i.children&&!Ei.current){t=Vs(e,t,n);break e}}else for(null!==(o=t.child)&&(o.return=t);null!==o;){var u=o.dependencies;if(null!==u){s=o.child;for(var c=u.firstContext;null!==c;){if(c.context===r){if(1===o.tag){(c=Na(-1,n&-n)).tag=2;var l=o.updateQueue;if(null!==l){var f=(l=l.shared).pending;null===f?c.next=c:(c.next=f.next,f.next=c),l.pending=c}}o.lanes|=n,null!==(c=o.alternate)&&(c.lanes|=n),ba(o.return,n,t),u.lanes|=n;break}c=c.next}}else if(10===o.tag)s=o.type===t.type?null:o.child;else if(18===o.tag){if(null===(s=o.return))throw Error(a(341));s.lanes|=n,null!==(u=s.alternate)&&(u.lanes|=n),ba(s,n,t),s=o.sibling}else s=o.child;if(null!==s)s.return=o;else for(s=o;null!==s;){if(s===t){s=null;break}if(null!==(o=s.sibling)){o.return=s.return,s=o;break}s=s.return}o=s}gs(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,ka(t,n),r=r(i=wa(i)),t.flags|=1,gs(e,t,r,n),t.child;case 14:return i=da(r=t.type,t.pendingProps),bs(e,t,r,i=da(r.type,i),n);case 15:return ks(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:da(r,i),zs(e,t),t.tag=1,Ci(r)?(e=!0,Ai(t)):e=!1,ka(t,n),Fa(t,r,i),Va(t,r,i,n),Es(null,t,r,!0,e,n);case 19:return Fs(e,t,n);case 22:return ws(e,t,n)}throw Error(a(156,t.tag))};var Hc="function"===typeof reportError?reportError:function(e){console.error(e)};function Wc(e){this._internalRoot=e}function Gc(e){this._internalRoot=e}function Kc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Qc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Yc(){}function Xc(e,t,n,r,i){var a=n._reactRootContainer;if(a){var o=a;if("function"===typeof i){var s=i;i=function(){var e=Vc(o);s.call(e)}}zc(t,o,e,i)}else o=function(e,t,n,r,i){if(i){if("function"===typeof r){var a=r;r=function(){var e=Vc(o);a.call(e)}}var o=Fc(t,r,e,0,null,!1,0,"",Yc);return e._reactRootContainer=o,e[li]=o.current,Ur(8===e.nodeType?e.parentNode:e),sc(),o}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var s=r;r=function(){var e=Vc(u);s.call(e)}}var u=Mc(e,0,!1,null,0,!1,0,"",Yc);return e._reactRootContainer=u,e[li]=u.current,Ur(8===e.nodeType?e.parentNode:e),sc((function(){zc(t,u,n,r)})),u}(n,t,e,i,r);return Vc(o)}Gc.prototype.render=Wc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(a(409));zc(e,t,null,null)},Gc.prototype.unmount=Wc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;sc((function(){zc(null,e,null,null)})),t[li]=null}},Gc.prototype.unstable_scheduleHydration=function(e){if(e){var t=_t();e={blockedOn:null,target:e,priority:t};for(var n=0;n<At.length&&0!==t&&t<At[n].priority;n++);At.splice(n,0,e),0===n&&Lt(e)}},kt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=lt(t.pendingLanes);0!==n&&(gt(t,1|n),ec(t,Xe()),0===(6&Eu)&&(Fu=Xe()+500,Ui()))}break;case 13:sc((function(){var t=Ea(e,1);if(null!==t){var n=$u();Zu(t,e,1,n)}})),qc(e,1)}},wt=function(e){if(13===e.tag){var t=Ea(e,134217728);if(null!==t)Zu(t,e,134217728,$u());qc(e,134217728)}},xt=function(e){if(13===e.tag){var t=Ju(e),n=Ea(e,t);if(null!==n)Zu(n,e,t,$u());qc(e,t)}},_t=function(){return yt},St=function(e,t){var n=yt;try{return yt=e,t()}finally{yt=n}},we=function(e,t,n){switch(t){case"input":if(J(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=gi(r);if(!i)throw Error(a(90));K(r),J(r,i)}}}break;case"textarea":ae(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Te=oc,Ce=sc;var $c={usingClientEntryPoint:!1,Events:[vi,mi,gi,Ee,Ie,oc]},Jc={findFiberByHostInstance:pi,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},Zc={bundleType:Jc.bundleType,version:Jc.version,rendererPackageName:Jc.rendererPackageName,rendererConfig:Jc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:k.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=He(e))?null:e.stateNode},findFiberByHostInstance:Jc.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var el=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!el.isDisabled&&el.supportsFiber)try{rt=el.inject(Zc),it=el}catch(tl){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=$c,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Kc(t))throw Error(a(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:x,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!Kc(e))throw Error(a(299));var n=!1,r="",i=Hc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=Mc(e,1,!1,null,0,n,0,r,i),e[li]=t.current,Ur(8===e.nodeType?e.parentNode:e),new Wc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(a(188));throw e=Object.keys(e).join(","),Error(a(268,e))}return e=null===(e=He(t))?null:e.stateNode},t.flushSync=function(e){return sc(e)},t.hydrate=function(e,t,n){if(!Qc(t))throw Error(a(200));return Xc(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Kc(e))throw Error(a(405));var r=null!=n&&n.hydratedSources||null,i=!1,o="",s=Hc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(o=n.identifierPrefix),void 0!==n.onRecoverableError&&(s=n.onRecoverableError)),t=Fc(t,null,e,1,null!=n?n:null,i,0,o,s),e[li]=t.current,Ur(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Gc(t)},t.render=function(e,t,n){if(!Qc(t))throw Error(a(200));return Xc(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Qc(e))throw Error(a(40));return!!e._reactRootContainer&&(sc((function(){Xc(null,null,e,!1,(function(){e._reactRootContainer=null,e[li]=null}))})),!0)},t.unstable_batchedUpdates=oc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Qc(n))throw Error(a(200));if(null==e||void 0===e._reactInternals)throw Error(a(38));return Xc(e,t,n,!1,r)},t.version="18.2.0-next-9e3b772b8-20220608"},254:function(e,t,n){"use strict";var r=n(599);t.s=r.createRoot,r.hydrateRoot},599:function(e,t,n){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(470)},58:function(e,t,n){"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"DraggableCore",{enumerable:!0,get:function(){return f.default}}),t.default=void 0;var i=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!==typeof e)return{default:e};var n=v(t);if(n&&n.has(e))return n.get(e);var i={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=a?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(i,o,s):i[o]=e[o]}i.default=e,n&&n.set(e,i);return i}(n(390)),a=p(n(188)),o=p(n(599)),s=p(n(977)),u=n(706),c=n(743),l=n(811),f=p(n(928)),d=p(n(593)),h=["axis","bounds","children","defaultPosition","defaultClassName","defaultClassNameDragging","defaultClassNameDragged","position","positionOffset","scale"];function p(e){return e&&e.__esModule?e:{default:e}}function v(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(v=function(e){return e?n:t})(e)}function m(){return m=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},m.apply(this,arguments)}function g(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function b(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?y(Object(n),!0).forEach((function(t){T(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):y(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function k(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,a=[],o=!0,s=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);o=!0);}catch(u){s=!0,i=u}finally{try{o||null==n.return||n.return()}finally{if(s)throw i}}return a}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return w(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return w(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function w(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function x(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _(e,t){return _=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},_(e,t)}function S(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=I(e);if(t){var a=I(this).constructor;n=Reflect.construct(i,arguments,a)}else n=i.apply(this,arguments);return function(e,t){if(t&&("object"===r(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return E(e)}(this,n)}}function E(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function I(e){return I=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},I(e)}function T(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var C=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&_(e,t)}(l,e);var t,n,r,a=S(l);function l(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l),T(E(t=a.call(this,e)),"onDragStart",(function(e,n){if((0,d.default)("Draggable: onDragStart: %j",n),!1===t.props.onStart(e,(0,c.createDraggableData)(E(t),n)))return!1;t.setState({dragging:!0,dragged:!0})})),T(E(t),"onDrag",(function(e,n){if(!t.state.dragging)return!1;(0,d.default)("Draggable: onDrag: %j",n);var r=(0,c.createDraggableData)(E(t),n),i={x:r.x,y:r.y};if(t.props.bounds){var a=i.x,o=i.y;i.x+=t.state.slackX,i.y+=t.state.slackY;var s=k((0,c.getBoundPosition)(E(t),i.x,i.y),2),u=s[0],l=s[1];i.x=u,i.y=l,i.slackX=t.state.slackX+(a-i.x),i.slackY=t.state.slackY+(o-i.y),r.x=i.x,r.y=i.y,r.deltaX=i.x-t.state.x,r.deltaY=i.y-t.state.y}if(!1===t.props.onDrag(e,r))return!1;t.setState(i)})),T(E(t),"onDragStop",(function(e,n){if(!t.state.dragging)return!1;if(!1===t.props.onStop(e,(0,c.createDraggableData)(E(t),n)))return!1;(0,d.default)("Draggable: onDragStop: %j",n);var r={dragging:!1,slackX:0,slackY:0};if(Boolean(t.props.position)){var i=t.props.position,a=i.x,o=i.y;r.x=a,r.y=o}t.setState(r)})),t.state={dragging:!1,dragged:!1,x:e.position?e.position.x:e.defaultPosition.x,y:e.position?e.position.y:e.defaultPosition.y,prevPropsPosition:b({},e.position),slackX:0,slackY:0,isElementSVG:!1},!e.position||e.onDrag||e.onStop||console.warn("A `position` was applied to this <Draggable>, without drag handlers. This will make this component effectively undraggable. Please attach `onDrag` or `onStop` handlers so you can adjust the `position` of this element."),t}return t=l,r=[{key:"getDerivedStateFromProps",value:function(e,t){var n=e.position,r=t.prevPropsPosition;return!n||r&&n.x===r.x&&n.y===r.y?null:((0,d.default)("Draggable: getDerivedStateFromProps %j",{position:n,prevPropsPosition:r}),{x:n.x,y:n.y,prevPropsPosition:b({},n)})}}],(n=[{key:"componentDidMount",value:function(){"undefined"!==typeof window.SVGElement&&this.findDOMNode()instanceof window.SVGElement&&this.setState({isElementSVG:!0})}},{key:"componentWillUnmount",value:function(){this.setState({dragging:!1})}},{key:"findDOMNode",value:function(){var e,t,n;return null!==(e=null===(t=this.props)||void 0===t||null===(n=t.nodeRef)||void 0===n?void 0:n.current)&&void 0!==e?e:o.default.findDOMNode(this)}},{key:"render",value:function(){var e,t=this.props,n=(t.axis,t.bounds,t.children),r=t.defaultPosition,a=t.defaultClassName,o=t.defaultClassNameDragging,l=t.defaultClassNameDragged,d=t.position,p=t.positionOffset,v=(t.scale,g(t,h)),y={},k=null,w=!Boolean(d)||this.state.dragging,x=d||r,_={x:(0,c.canDragX)(this)&&w?this.state.x:x.x,y:(0,c.canDragY)(this)&&w?this.state.y:x.y};this.state.isElementSVG?k=(0,u.createSVGTransform)(_,p):y=(0,u.createCSSTransform)(_,p);var S=(0,s.default)(n.props.className||"",a,(T(e={},o,this.state.dragging),T(e,l,this.state.dragged),e));return i.createElement(f.default,m({},v,{onStart:this.onDragStart,onDrag:this.onDrag,onStop:this.onDragStop}),i.cloneElement(i.Children.only(n),{className:S,style:b(b({},n.props.style),y),transform:k}))}}])&&x(t.prototype,n),r&&x(t,r),Object.defineProperty(t,"prototype",{writable:!1}),l}(i.Component);t.default=C,T(C,"displayName","Draggable"),T(C,"propTypes",b(b({},f.default.propTypes),{},{axis:a.default.oneOf(["both","x","y","none"]),bounds:a.default.oneOfType([a.default.shape({left:a.default.number,right:a.default.number,top:a.default.number,bottom:a.default.number}),a.default.string,a.default.oneOf([!1])]),defaultClassName:a.default.string,defaultClassNameDragging:a.default.string,defaultClassNameDragged:a.default.string,defaultPosition:a.default.shape({x:a.default.number,y:a.default.number}),positionOffset:a.default.shape({x:a.default.oneOfType([a.default.number,a.default.string]),y:a.default.oneOfType([a.default.number,a.default.string])}),position:a.default.shape({x:a.default.number,y:a.default.number}),className:l.dontSetMe,style:l.dontSetMe,transform:l.dontSetMe})),T(C,"defaultProps",b(b({},f.default.defaultProps),{},{axis:"both",bounds:!1,defaultClassName:"react-draggable",defaultClassNameDragging:"react-draggable-dragging",defaultClassNameDragged:"react-draggable-dragged",defaultPosition:{x:0,y:0},scale:1}))},928:function(e,t,n){"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!==typeof e)return{default:e};var n=d(t);if(n&&n.has(e))return n.get(e);var i={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=a?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(i,o,s):i[o]=e[o]}i.default=e,n&&n.set(e,i);return i}(n(390)),a=f(n(188)),o=f(n(599)),s=n(706),u=n(743),c=n(811),l=f(n(593));function f(e){return e&&e.__esModule?e:{default:e}}function d(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(d=function(e){return e?n:t})(e)}function h(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,a=[],o=!0,s=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);o=!0);}catch(u){s=!0,i=u}finally{try{o||null==n.return||n.return()}finally{if(s)throw i}}return a}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return p(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return p(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function v(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function m(e,t){return m=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},m(e,t)}function g(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=b(e);if(t){var a=b(this).constructor;n=Reflect.construct(i,arguments,a)}else n=i.apply(this,arguments);return function(e,t){if(t&&("object"===r(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return y(e)}(this,n)}}function y(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function b(e){return b=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},b(e)}function k(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var w={start:"touchstart",move:"touchmove",stop:"touchend"},x={start:"mousedown",move:"mousemove",stop:"mouseup"},_=x,S=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&m(e,t)}(c,e);var t,n,r,a=g(c);function c(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return k(y(e=a.call.apply(a,[this].concat(n))),"state",{dragging:!1,lastX:NaN,lastY:NaN,touchIdentifier:null}),k(y(e),"mounted",!1),k(y(e),"handleDragStart",(function(t){if(e.props.onMouseDown(t),!e.props.allowAnyClick&&"number"===typeof t.button&&0!==t.button)return!1;var n=e.findDOMNode();if(!n||!n.ownerDocument||!n.ownerDocument.body)throw new Error("<DraggableCore> not mounted on DragStart!");var r=n.ownerDocument;if(!(e.props.disabled||!(t.target instanceof r.defaultView.Node)||e.props.handle&&!(0,s.matchesSelectorAndParentsTo)(t.target,e.props.handle,n)||e.props.cancel&&(0,s.matchesSelectorAndParentsTo)(t.target,e.props.cancel,n))){"touchstart"===t.type&&t.preventDefault();var i=(0,s.getTouchIdentifier)(t);e.setState({touchIdentifier:i});var a=(0,u.getControlPosition)(t,i,y(e));if(null!=a){var o=a.x,c=a.y,f=(0,u.createCoreData)(y(e),o,c);(0,l.default)("DraggableCore: handleDragStart: %j",f),(0,l.default)("calling",e.props.onStart),!1!==e.props.onStart(t,f)&&!1!==e.mounted&&(e.props.enableUserSelectHack&&(0,s.addUserSelectStyles)(r),e.setState({dragging:!0,lastX:o,lastY:c}),(0,s.addEvent)(r,_.move,e.handleDrag),(0,s.addEvent)(r,_.stop,e.handleDragStop))}}})),k(y(e),"handleDrag",(function(t){var n=(0,u.getControlPosition)(t,e.state.touchIdentifier,y(e));if(null!=n){var r=n.x,i=n.y;if(Array.isArray(e.props.grid)){var a=r-e.state.lastX,o=i-e.state.lastY,s=h((0,u.snapToGrid)(e.props.grid,a,o),2);if(a=s[0],o=s[1],!a&&!o)return;r=e.state.lastX+a,i=e.state.lastY+o}var c=(0,u.createCoreData)(y(e),r,i);if((0,l.default)("DraggableCore: handleDrag: %j",c),!1!==e.props.onDrag(t,c)&&!1!==e.mounted)e.setState({lastX:r,lastY:i});else try{e.handleDragStop(new MouseEvent("mouseup"))}catch(d){var f=document.createEvent("MouseEvents");f.initMouseEvent("mouseup",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),e.handleDragStop(f)}}})),k(y(e),"handleDragStop",(function(t){if(e.state.dragging){var n=(0,u.getControlPosition)(t,e.state.touchIdentifier,y(e));if(null!=n){var r=n.x,i=n.y;if(Array.isArray(e.props.grid)){var a=r-e.state.lastX||0,o=i-e.state.lastY||0,c=h((0,u.snapToGrid)(e.props.grid,a,o),2);a=c[0],o=c[1],r=e.state.lastX+a,i=e.state.lastY+o}var f=(0,u.createCoreData)(y(e),r,i);if(!1===e.props.onStop(t,f)||!1===e.mounted)return!1;var d=e.findDOMNode();d&&e.props.enableUserSelectHack&&(0,s.removeUserSelectStyles)(d.ownerDocument),(0,l.default)("DraggableCore: handleDragStop: %j",f),e.setState({dragging:!1,lastX:NaN,lastY:NaN}),d&&((0,l.default)("DraggableCore: Removing handlers"),(0,s.removeEvent)(d.ownerDocument,_.move,e.handleDrag),(0,s.removeEvent)(d.ownerDocument,_.stop,e.handleDragStop))}}})),k(y(e),"onMouseDown",(function(t){return _=x,e.handleDragStart(t)})),k(y(e),"onMouseUp",(function(t){return _=x,e.handleDragStop(t)})),k(y(e),"onTouchStart",(function(t){return _=w,e.handleDragStart(t)})),k(y(e),"onTouchEnd",(function(t){return _=w,e.handleDragStop(t)})),e}return t=c,(n=[{key:"componentDidMount",value:function(){this.mounted=!0;var e=this.findDOMNode();e&&(0,s.addEvent)(e,w.start,this.onTouchStart,{passive:!1})}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var e=this.findDOMNode();if(e){var t=e.ownerDocument;(0,s.removeEvent)(t,x.move,this.handleDrag),(0,s.removeEvent)(t,w.move,this.handleDrag),(0,s.removeEvent)(t,x.stop,this.handleDragStop),(0,s.removeEvent)(t,w.stop,this.handleDragStop),(0,s.removeEvent)(e,w.start,this.onTouchStart,{passive:!1}),this.props.enableUserSelectHack&&(0,s.removeUserSelectStyles)(t)}}},{key:"findDOMNode",value:function(){var e,t,n;return null!==(e=this.props)&&void 0!==e&&e.nodeRef?null===(t=this.props)||void 0===t||null===(n=t.nodeRef)||void 0===n?void 0:n.current:o.default.findDOMNode(this)}},{key:"render",value:function(){return i.cloneElement(i.Children.only(this.props.children),{onMouseDown:this.onMouseDown,onMouseUp:this.onMouseUp,onTouchEnd:this.onTouchEnd})}}])&&v(t.prototype,n),r&&v(t,r),Object.defineProperty(t,"prototype",{writable:!1}),c}(i.Component);t.default=S,k(S,"displayName","DraggableCore"),k(S,"propTypes",{allowAnyClick:a.default.bool,disabled:a.default.bool,enableUserSelectHack:a.default.bool,offsetParent:function(e,t){if(e[t]&&1!==e[t].nodeType)throw new Error("Draggable's offsetParent must be a DOM Node.")},grid:a.default.arrayOf(a.default.number),handle:a.default.string,cancel:a.default.string,nodeRef:a.default.object,onStart:a.default.func,onDrag:a.default.func,onStop:a.default.func,onMouseDown:a.default.func,scale:a.default.number,className:c.dontSetMe,style:c.dontSetMe,transform:c.dontSetMe}),k(S,"defaultProps",{allowAnyClick:!1,disabled:!1,enableUserSelectHack:!0,onStart:function(){},onDrag:function(){},onStop:function(){},onMouseDown:function(){},scale:1})},962:function(e,t,n){"use strict";var r=n(58),i=r.default,a=r.DraggableCore;e.exports=i,e.exports.default=i,e.exports.DraggableCore=a},706:function(e,t,n){"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.addClassName=h,t.addEvent=function(e,t,n,r){if(!e)return;var i=u({capture:!0},r);e.addEventListener?e.addEventListener(t,n,i):e.attachEvent?e.attachEvent("on"+t,n):e["on"+t]=n},t.addUserSelectStyles=function(e){if(!e)return;var t=e.getElementById("react-draggable-style-el");t||((t=e.createElement("style")).type="text/css",t.id="react-draggable-style-el",t.innerHTML=".react-draggable-transparent-selection *::-moz-selection {all: inherit;}\n",t.innerHTML+=".react-draggable-transparent-selection *::selection {all: inherit;}\n",e.getElementsByTagName("head")[0].appendChild(t));e.body&&h(e.body,"react-draggable-transparent-selection")},t.createCSSTransform=function(e,t){var n=d(e,t,"px");return c({},(0,a.browserPrefixToKey)("transform",a.default),n)},t.createSVGTransform=function(e,t){return d(e,t,"")},t.getTouch=function(e,t){return e.targetTouches&&(0,i.findInArray)(e.targetTouches,(function(e){return t===e.identifier}))||e.changedTouches&&(0,i.findInArray)(e.changedTouches,(function(e){return t===e.identifier}))},t.getTouchIdentifier=function(e){if(e.targetTouches&&e.targetTouches[0])return e.targetTouches[0].identifier;if(e.changedTouches&&e.changedTouches[0])return e.changedTouches[0].identifier},t.getTranslation=d,t.innerHeight=function(e){var t=e.clientHeight,n=e.ownerDocument.defaultView.getComputedStyle(e);return t-=(0,i.int)(n.paddingTop),t-=(0,i.int)(n.paddingBottom)},t.innerWidth=function(e){var t=e.clientWidth,n=e.ownerDocument.defaultView.getComputedStyle(e);return t-=(0,i.int)(n.paddingLeft),t-=(0,i.int)(n.paddingRight)},t.matchesSelector=f,t.matchesSelectorAndParentsTo=function(e,t,n){var r=e;do{if(f(r,t))return!0;if(r===n)return!1;r=r.parentNode}while(r);return!1},t.offsetXYFromParent=function(e,t,n){var r=t===t.ownerDocument.body?{left:0,top:0}:t.getBoundingClientRect(),i=(e.clientX+t.scrollLeft-r.left)/n,a=(e.clientY+t.scrollTop-r.top)/n;return{x:i,y:a}},t.outerHeight=function(e){var t=e.clientHeight,n=e.ownerDocument.defaultView.getComputedStyle(e);return t+=(0,i.int)(n.borderTopWidth),t+=(0,i.int)(n.borderBottomWidth)},t.outerWidth=function(e){var t=e.clientWidth,n=e.ownerDocument.defaultView.getComputedStyle(e);return t+=(0,i.int)(n.borderLeftWidth),t+=(0,i.int)(n.borderRightWidth)},t.removeClassName=p,t.removeEvent=function(e,t,n,r){if(!e)return;var i=u({capture:!0},r);e.removeEventListener?e.removeEventListener(t,n,i):e.detachEvent?e.detachEvent("on"+t,n):e["on"+t]=null},t.removeUserSelectStyles=function(e){if(!e)return;try{if(e.body&&p(e.body,"react-draggable-transparent-selection"),e.selection)e.selection.empty();else{var t=(e.defaultView||window).getSelection();t&&"Caret"!==t.type&&t.removeAllRanges()}}catch(n){}};var i=n(811),a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!==typeof e)return{default:e};var n=o(t);if(n&&n.has(e))return n.get(e);var i={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if("default"!==s&&Object.prototype.hasOwnProperty.call(e,s)){var u=a?Object.getOwnPropertyDescriptor(e,s):null;u&&(u.get||u.set)?Object.defineProperty(i,s,u):i[s]=e[s]}i.default=e,n&&n.set(e,i);return i}(n(171));function o(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(o=function(e){return e?n:t})(e)}function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){c(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var l="";function f(e,t){return l||(l=(0,i.findInArray)(["matches","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector"],(function(t){return(0,i.isFunction)(e[t])}))),!!(0,i.isFunction)(e[l])&&e[l](t)}function d(e,t,n){var r=e.x,i=e.y,a="translate(".concat(r).concat(n,",").concat(i).concat(n,")");if(t){var o="".concat("string"===typeof t.x?t.x:t.x+n),s="".concat("string"===typeof t.y?t.y:t.y+n);a="translate(".concat(o,", ").concat(s,")")+a}return a}function h(e,t){e.classList?e.classList.add(t):e.className.match(new RegExp("(?:^|\\s)".concat(t,"(?!\\S)")))||(e.className+=" ".concat(t))}function p(e,t){e.classList?e.classList.remove(t):e.className=e.className.replace(new RegExp("(?:^|\\s)".concat(t,"(?!\\S)"),"g"),"")}},171:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.browserPrefixToKey=i,t.browserPrefixToStyle=function(e,t){return t?"-".concat(t.toLowerCase(),"-").concat(e):e},t.default=void 0,t.getPrefix=r;var n=["Moz","Webkit","O","ms"];function r(){var e,t,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"transform";if("undefined"===typeof window)return"";var a=null===(e=window.document)||void 0===e||null===(t=e.documentElement)||void 0===t?void 0:t.style;if(!a)return"";if(r in a)return"";for(var o=0;o<n.length;o++)if(i(r,n[o])in a)return n[o];return""}function i(e,t){return t?"".concat(t).concat(function(e){for(var t="",n=!0,r=0;r<e.length;r++)n?(t+=e[r].toUpperCase(),n=!1):"-"===e[r]?n=!0:t+=e[r];return t}(e)):e}var a=r();t.default=a},593:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){0}},743:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.canDragX=function(e){return"both"===e.props.axis||"x"===e.props.axis},t.canDragY=function(e){return"both"===e.props.axis||"y"===e.props.axis},t.createCoreData=function(e,t,n){var i=e.state,o=!(0,r.isNum)(i.lastX),s=a(e);return o?{node:s,deltaX:0,deltaY:0,lastX:t,lastY:n,x:t,y:n}:{node:s,deltaX:t-i.lastX,deltaY:n-i.lastY,lastX:i.lastX,lastY:i.lastY,x:t,y:n}},t.createDraggableData=function(e,t){var n=e.props.scale;return{node:t.node,x:e.state.x+t.deltaX/n,y:e.state.y+t.deltaY/n,deltaX:t.deltaX/n,deltaY:t.deltaY/n,lastX:e.state.x,lastY:e.state.y}},t.getBoundPosition=function(e,t,n){if(!e.props.bounds)return[t,n];var o=e.props.bounds;o="string"===typeof o?o:function(e){return{left:e.left,top:e.top,right:e.right,bottom:e.bottom}}(o);var s=a(e);if("string"===typeof o){var u,c=s.ownerDocument,l=c.defaultView;if(!((u="parent"===o?s.parentNode:c.querySelector(o))instanceof l.HTMLElement))throw new Error('Bounds selector "'+o+'" could not find an element.');var f=u,d=l.getComputedStyle(s),h=l.getComputedStyle(f);o={left:-s.offsetLeft+(0,r.int)(h.paddingLeft)+(0,r.int)(d.marginLeft),top:-s.offsetTop+(0,r.int)(h.paddingTop)+(0,r.int)(d.marginTop),right:(0,i.innerWidth)(f)-(0,i.outerWidth)(s)-s.offsetLeft+(0,r.int)(h.paddingRight)-(0,r.int)(d.marginRight),bottom:(0,i.innerHeight)(f)-(0,i.outerHeight)(s)-s.offsetTop+(0,r.int)(h.paddingBottom)-(0,r.int)(d.marginBottom)}}(0,r.isNum)(o.right)&&(t=Math.min(t,o.right));(0,r.isNum)(o.bottom)&&(n=Math.min(n,o.bottom));(0,r.isNum)(o.left)&&(t=Math.max(t,o.left));(0,r.isNum)(o.top)&&(n=Math.max(n,o.top));return[t,n]},t.getControlPosition=function(e,t,n){var r="number"===typeof t?(0,i.getTouch)(e,t):null;if("number"===typeof t&&!r)return null;var o=a(n),s=n.props.offsetParent||o.offsetParent||o.ownerDocument.body;return(0,i.offsetXYFromParent)(r||e,s,n.props.scale)},t.snapToGrid=function(e,t,n){var r=Math.round(t/e[0])*e[0],i=Math.round(n/e[1])*e[1];return[r,i]};var r=n(811),i=n(706);function a(e){var t=e.findDOMNode();if(!t)throw new Error("<DraggableCore>: Unmounted during event!");return t}},811:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.dontSetMe=function(e,t,n){if(e[t])return new Error("Invalid prop ".concat(t," passed to ").concat(n," - do not set this, set it on the child."))},t.findInArray=function(e,t){for(var n=0,r=e.length;n<r;n++)if(t.apply(t,[e[n],n,e]))return e[n]},t.int=function(e){return parseInt(e,10)},t.isFunction=function(e){return"function"===typeof e||"[object Function]"===Object.prototype.toString.call(e)},t.isNum=function(e){return"number"===typeof e&&!isNaN(e)}},781:function(e,t,n){"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.PrevArrow=t.NextArrow=void 0;var i=s(n(390)),a=s(n(715)),o=n(810);function s(e){return e&&e.__esModule?e:{default:e}}function u(){return u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},u.apply(this,arguments)}function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){f(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function p(e,t,n){return t&&h(e.prototype,t),n&&h(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function v(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&m(e,t)}function m(e,t){return m=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},m(e,t)}function g(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=y(e);if(t){var a=y(this).constructor;n=Reflect.construct(i,arguments,a)}else n=i.apply(this,arguments);return function(e,t){if(t&&("object"===r(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,n)}}function y(e){return y=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},y(e)}var b=function(e){v(n,e);var t=g(n);function n(){return d(this,n),t.apply(this,arguments)}return p(n,[{key:"clickHandler",value:function(e,t){t&&t.preventDefault(),this.props.clickHandler(e,t)}},{key:"render",value:function(){var e={"slick-arrow":!0,"slick-prev":!0},t=this.clickHandler.bind(this,{message:"previous"});!this.props.infinite&&(0===this.props.currentSlide||this.props.slideCount<=this.props.slidesToShow)&&(e["slick-disabled"]=!0,t=null);var n={key:"0","data-role":"none",className:(0,a.default)(e),style:{display:"block"},onClick:t},r={currentSlide:this.props.currentSlide,slideCount:this.props.slideCount};return this.props.prevArrow?i.default.cloneElement(this.props.prevArrow,l(l({},n),r)):i.default.createElement("button",u({key:"0",type:"button"},n)," ","Previous")}}]),n}(i.default.PureComponent);t.PrevArrow=b;var k=function(e){v(n,e);var t=g(n);function n(){return d(this,n),t.apply(this,arguments)}return p(n,[{key:"clickHandler",value:function(e,t){t&&t.preventDefault(),this.props.clickHandler(e,t)}},{key:"render",value:function(){var e={"slick-arrow":!0,"slick-next":!0},t=this.clickHandler.bind(this,{message:"next"});(0,o.canGoNext)(this.props)||(e["slick-disabled"]=!0,t=null);var n={key:"1","data-role":"none",className:(0,a.default)(e),style:{display:"block"},onClick:t},r={currentSlide:this.props.currentSlide,slideCount:this.props.slideCount};return this.props.nextArrow?i.default.cloneElement(this.props.nextArrow,l(l({},n),r)):i.default.createElement("button",u({key:"1",type:"button"},n)," ","Next")}}]),n}(i.default.PureComponent);t.NextArrow=k},223:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,i=(r=n(390))&&r.__esModule?r:{default:r};var a={accessibility:!0,adaptiveHeight:!1,afterChange:null,appendDots:function(e){return i.default.createElement("ul",{style:{display:"block"}},e)},arrows:!0,autoplay:!1,autoplaySpeed:3e3,beforeChange:null,centerMode:!1,centerPadding:"50px",className:"",cssEase:"ease",customPaging:function(e){return i.default.createElement("button",null,e+1)},dots:!1,dotsClass:"slick-dots",draggable:!0,easing:"linear",edgeFriction:.35,fade:!1,focusOnSelect:!1,infinite:!0,initialSlide:0,lazyLoad:null,nextArrow:null,onEdge:null,onInit:null,onLazyLoadError:null,onReInit:null,pauseOnDotsHover:!1,pauseOnFocus:!1,pauseOnHover:!0,prevArrow:null,responsive:null,rows:1,rtl:!1,slide:"div",slidesPerRow:1,slidesToScroll:1,slidesToShow:1,speed:500,swipe:!0,swipeEvent:null,swipeToSlide:!1,touchMove:!0,touchThreshold:5,useCSS:!0,useTransform:!0,variableWidth:!1,vertical:!1,waitForAnimate:!0};t.default=a},494:function(e,t,n){"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.Dots=void 0;var i=s(n(390)),a=s(n(715)),o=n(810);function s(e){return e&&e.__esModule?e:{default:e}}function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function f(e,t){return f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},f(e,t)}function d(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=h(e);if(t){var a=h(this).constructor;n=Reflect.construct(i,arguments,a)}else n=i.apply(this,arguments);return function(e,t){if(t&&("object"===r(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,n)}}function h(e){return h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},h(e)}var p=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&f(e,t)}(h,e);var t,n,r,s=d(h);function h(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,h),s.apply(this,arguments)}return t=h,n=[{key:"clickHandler",value:function(e,t){t.preventDefault(),this.props.clickHandler(e)}},{key:"render",value:function(){for(var e,t=this.props,n=t.onMouseEnter,r=t.onMouseOver,s=t.onMouseLeave,l=t.infinite,f=t.slidesToScroll,d=t.slidesToShow,h=t.slideCount,p=t.currentSlide,v=(e={slideCount:h,slidesToScroll:f,slidesToShow:d,infinite:l}).infinite?Math.ceil(e.slideCount/e.slidesToScroll):Math.ceil((e.slideCount-e.slidesToShow)/e.slidesToScroll)+1,m={onMouseEnter:n,onMouseOver:r,onMouseLeave:s},g=[],y=0;y<v;y++){var b=(y+1)*f-1,k=l?b:(0,o.clamp)(b,0,h-1),w=k-(f-1),x=l?w:(0,o.clamp)(w,0,h-1),_=(0,a.default)({"slick-active":l?p>=x&&p<=k:p===x}),S={message:"dots",index:y,slidesToScroll:f,currentSlide:p},E=this.clickHandler.bind(this,S);g=g.concat(i.default.createElement("li",{key:y,className:_},i.default.cloneElement(this.props.customPaging(y),{onClick:E})))}return i.default.cloneElement(this.props.appendDots(g),function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){c(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({className:this.props.dotsClass},m))}}],n&&l(t.prototype,n),r&&l(t,r),Object.defineProperty(t,"prototype",{writable:!1}),h}(i.default.PureComponent);t.Dots=p},596:function(e,t,n){"use strict";var r;t.Z=void 0;var i=((r=n(156))&&r.__esModule?r:{default:r}).default;t.Z=i},539:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={animating:!1,autoplaying:null,currentDirection:0,currentLeft:null,currentSlide:0,direction:1,dragging:!1,edgeDragged:!1,initialized:!1,lazyLoadedList:[],listHeight:null,listWidth:null,scrolling:!1,slideCount:null,slideHeight:null,slideWidth:null,swipeLeft:null,swiped:!1,swiping:!1,touchObject:{startX:0,startY:0,curX:0,curY:0},trackStyle:{},trackWidth:0,targetSlide:0};t.default=n},220:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.InnerSlider=void 0;var r=d(n(390)),i=d(n(539)),a=d(n(869)),o=d(n(715)),s=n(810),u=n(120),c=n(494),l=n(781),f=d(n(132));function d(e){return e&&e.__esModule?e:{default:e}}function h(e){return h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},h(e)}function p(){return p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},p.apply(this,arguments)}function v(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function g(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m(Object(n),!0).forEach((function(t){_(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function y(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function b(e,t){return b=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},b(e,t)}function k(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=x(e);if(t){var i=x(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===h(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return w(e)}(this,n)}}function w(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function x(e){return x=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},x(e)}function _(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var S=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&b(e,t)}(x,e);var t,n,d,m=k(x);function x(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,x),_(w(t=m.call(this,e)),"listRefHandler",(function(e){return t.list=e})),_(w(t),"trackRefHandler",(function(e){return t.track=e})),_(w(t),"adaptHeight",(function(){if(t.props.adaptiveHeight&&t.list){var e=t.list.querySelector('[data-index="'.concat(t.state.currentSlide,'"]'));t.list.style.height=(0,s.getHeight)(e)+"px"}})),_(w(t),"componentDidMount",(function(){if(t.props.onInit&&t.props.onInit(),t.props.lazyLoad){var e=(0,s.getOnDemandLazySlides)(g(g({},t.props),t.state));e.length>0&&(t.setState((function(t){return{lazyLoadedList:t.lazyLoadedList.concat(e)}})),t.props.onLazyLoad&&t.props.onLazyLoad(e))}var n=g({listRef:t.list,trackRef:t.track},t.props);t.updateState(n,!0,(function(){t.adaptHeight(),t.props.autoplay&&t.autoPlay("update")})),"progressive"===t.props.lazyLoad&&(t.lazyLoadTimer=setInterval(t.progressiveLazyLoad,1e3)),t.ro=new f.default((function(){t.state.animating?(t.onWindowResized(!1),t.callbackTimers.push(setTimeout((function(){return t.onWindowResized()}),t.props.speed))):t.onWindowResized()})),t.ro.observe(t.list),document.querySelectorAll&&Array.prototype.forEach.call(document.querySelectorAll(".slick-slide"),(function(e){e.onfocus=t.props.pauseOnFocus?t.onSlideFocus:null,e.onblur=t.props.pauseOnFocus?t.onSlideBlur:null})),window.addEventListener?window.addEventListener("resize",t.onWindowResized):window.attachEvent("onresize",t.onWindowResized)})),_(w(t),"componentWillUnmount",(function(){t.animationEndCallback&&clearTimeout(t.animationEndCallback),t.lazyLoadTimer&&clearInterval(t.lazyLoadTimer),t.callbackTimers.length&&(t.callbackTimers.forEach((function(e){return clearTimeout(e)})),t.callbackTimers=[]),window.addEventListener?window.removeEventListener("resize",t.onWindowResized):window.detachEvent("onresize",t.onWindowResized),t.autoplayTimer&&clearInterval(t.autoplayTimer),t.ro.disconnect()})),_(w(t),"componentDidUpdate",(function(e){if(t.checkImagesLoad(),t.props.onReInit&&t.props.onReInit(),t.props.lazyLoad){var n=(0,s.getOnDemandLazySlides)(g(g({},t.props),t.state));n.length>0&&(t.setState((function(e){return{lazyLoadedList:e.lazyLoadedList.concat(n)}})),t.props.onLazyLoad&&t.props.onLazyLoad(n))}t.adaptHeight();var i=g(g({listRef:t.list,trackRef:t.track},t.props),t.state),a=t.didPropsChange(e);a&&t.updateState(i,a,(function(){t.state.currentSlide>=r.default.Children.count(t.props.children)&&t.changeSlide({message:"index",index:r.default.Children.count(t.props.children)-t.props.slidesToShow,currentSlide:t.state.currentSlide}),t.props.autoplay?t.autoPlay("update"):t.pause("paused")}))})),_(w(t),"onWindowResized",(function(e){t.debouncedResize&&t.debouncedResize.cancel(),t.debouncedResize=(0,a.default)((function(){return t.resizeWindow(e)}),50),t.debouncedResize()})),_(w(t),"resizeWindow",(function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(Boolean(t.track&&t.track.node)){var n=g(g({listRef:t.list,trackRef:t.track},t.props),t.state);t.updateState(n,e,(function(){t.props.autoplay?t.autoPlay("update"):t.pause("paused")})),t.setState({animating:!1}),clearTimeout(t.animationEndCallback),delete t.animationEndCallback}})),_(w(t),"updateState",(function(e,n,i){var a=(0,s.initializedState)(e);e=g(g(g({},e),a),{},{slideIndex:a.currentSlide});var o=(0,s.getTrackLeft)(e);e=g(g({},e),{},{left:o});var u=(0,s.getTrackCSS)(e);(n||r.default.Children.count(t.props.children)!==r.default.Children.count(e.children))&&(a.trackStyle=u),t.setState(a,i)})),_(w(t),"ssrInit",(function(){if(t.props.variableWidth){var e=0,n=0,i=[],a=(0,s.getPreClones)(g(g(g({},t.props),t.state),{},{slideCount:t.props.children.length})),o=(0,s.getPostClones)(g(g(g({},t.props),t.state),{},{slideCount:t.props.children.length}));t.props.children.forEach((function(t){i.push(t.props.style.width),e+=t.props.style.width}));for(var u=0;u<a;u++)n+=i[i.length-1-u],e+=i[i.length-1-u];for(var c=0;c<o;c++)e+=i[c];for(var l=0;l<t.state.currentSlide;l++)n+=i[l];var f={width:e+"px",left:-n+"px"};if(t.props.centerMode){var d="".concat(i[t.state.currentSlide],"px");f.left="calc(".concat(f.left," + (100% - ").concat(d,") / 2 ) ")}return{trackStyle:f}}var h=r.default.Children.count(t.props.children),p=g(g(g({},t.props),t.state),{},{slideCount:h}),v=(0,s.getPreClones)(p)+(0,s.getPostClones)(p)+h,m=100/t.props.slidesToShow*v,y=100/v,b=-y*((0,s.getPreClones)(p)+t.state.currentSlide)*m/100;return t.props.centerMode&&(b+=(100-y*m/100)/2),{slideWidth:y+"%",trackStyle:{width:m+"%",left:b+"%"}}})),_(w(t),"checkImagesLoad",(function(){var e=t.list&&t.list.querySelectorAll&&t.list.querySelectorAll(".slick-slide img")||[],n=e.length,r=0;Array.prototype.forEach.call(e,(function(e){var i=function(){return++r&&r>=n&&t.onWindowResized()};if(e.onclick){var a=e.onclick;e.onclick=function(){a(),e.parentNode.focus()}}else e.onclick=function(){return e.parentNode.focus()};e.onload||(t.props.lazyLoad?e.onload=function(){t.adaptHeight(),t.callbackTimers.push(setTimeout(t.onWindowResized,t.props.speed))}:(e.onload=i,e.onerror=function(){i(),t.props.onLazyLoadError&&t.props.onLazyLoadError()}))}))})),_(w(t),"progressiveLazyLoad",(function(){for(var e=[],n=g(g({},t.props),t.state),r=t.state.currentSlide;r<t.state.slideCount+(0,s.getPostClones)(n);r++)if(t.state.lazyLoadedList.indexOf(r)<0){e.push(r);break}for(var i=t.state.currentSlide-1;i>=-(0,s.getPreClones)(n);i--)if(t.state.lazyLoadedList.indexOf(i)<0){e.push(i);break}e.length>0?(t.setState((function(t){return{lazyLoadedList:t.lazyLoadedList.concat(e)}})),t.props.onLazyLoad&&t.props.onLazyLoad(e)):t.lazyLoadTimer&&(clearInterval(t.lazyLoadTimer),delete t.lazyLoadTimer)})),_(w(t),"slideHandler",(function(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=t.props,i=r.asNavFor,a=r.beforeChange,o=r.onLazyLoad,u=r.speed,c=r.afterChange,l=t.state.currentSlide,f=(0,s.slideHandler)(g(g(g({index:e},t.props),t.state),{},{trackRef:t.track,useCSS:t.props.useCSS&&!n})),d=f.state,h=f.nextState;if(d){a&&a(l,d.currentSlide);var p=d.lazyLoadedList.filter((function(e){return t.state.lazyLoadedList.indexOf(e)<0}));o&&p.length>0&&o(p),!t.props.waitForAnimate&&t.animationEndCallback&&(clearTimeout(t.animationEndCallback),c&&c(l),delete t.animationEndCallback),t.setState(d,(function(){i&&t.asNavForIndex!==e&&(t.asNavForIndex=e,i.innerSlider.slideHandler(e)),h&&(t.animationEndCallback=setTimeout((function(){var e=h.animating,n=v(h,["animating"]);t.setState(n,(function(){t.callbackTimers.push(setTimeout((function(){return t.setState({animating:e})}),10)),c&&c(d.currentSlide),delete t.animationEndCallback}))}),u))}))}})),_(w(t),"changeSlide",(function(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=g(g({},t.props),t.state),i=(0,s.changeSlide)(r,e);if((0===i||i)&&(!0===n?t.slideHandler(i,n):t.slideHandler(i),t.props.autoplay&&t.autoPlay("update"),t.props.focusOnSelect)){var a=t.list.querySelectorAll(".slick-current");a[0]&&a[0].focus()}})),_(w(t),"clickHandler",(function(e){!1===t.clickable&&(e.stopPropagation(),e.preventDefault()),t.clickable=!0})),_(w(t),"keyHandler",(function(e){var n=(0,s.keyHandler)(e,t.props.accessibility,t.props.rtl);""!==n&&t.changeSlide({message:n})})),_(w(t),"selectHandler",(function(e){t.changeSlide(e)})),_(w(t),"disableBodyScroll",(function(){window.ontouchmove=function(e){(e=e||window.event).preventDefault&&e.preventDefault(),e.returnValue=!1}})),_(w(t),"enableBodyScroll",(function(){window.ontouchmove=null})),_(w(t),"swipeStart",(function(e){t.props.verticalSwiping&&t.disableBodyScroll();var n=(0,s.swipeStart)(e,t.props.swipe,t.props.draggable);""!==n&&t.setState(n)})),_(w(t),"swipeMove",(function(e){var n=(0,s.swipeMove)(e,g(g(g({},t.props),t.state),{},{trackRef:t.track,listRef:t.list,slideIndex:t.state.currentSlide}));n&&(n.swiping&&(t.clickable=!1),t.setState(n))})),_(w(t),"swipeEnd",(function(e){var n=(0,s.swipeEnd)(e,g(g(g({},t.props),t.state),{},{trackRef:t.track,listRef:t.list,slideIndex:t.state.currentSlide}));if(n){var r=n.triggerSlideHandler;delete n.triggerSlideHandler,t.setState(n),void 0!==r&&(t.slideHandler(r),t.props.verticalSwiping&&t.enableBodyScroll())}})),_(w(t),"touchEnd",(function(e){t.swipeEnd(e),t.clickable=!0})),_(w(t),"slickPrev",(function(){t.callbackTimers.push(setTimeout((function(){return t.changeSlide({message:"previous"})}),0))})),_(w(t),"slickNext",(function(){t.callbackTimers.push(setTimeout((function(){return t.changeSlide({message:"next"})}),0))})),_(w(t),"slickGoTo",(function(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e=Number(e),isNaN(e))return"";t.callbackTimers.push(setTimeout((function(){return t.changeSlide({message:"index",index:e,currentSlide:t.state.currentSlide},n)}),0))})),_(w(t),"play",(function(){var e;if(t.props.rtl)e=t.state.currentSlide-t.props.slidesToScroll;else{if(!(0,s.canGoNext)(g(g({},t.props),t.state)))return!1;e=t.state.currentSlide+t.props.slidesToScroll}t.slideHandler(e)})),_(w(t),"autoPlay",(function(e){t.autoplayTimer&&clearInterval(t.autoplayTimer);var n=t.state.autoplaying;if("update"===e){if("hovered"===n||"focused"===n||"paused"===n)return}else if("leave"===e){if("paused"===n||"focused"===n)return}else if("blur"===e&&("paused"===n||"hovered"===n))return;t.autoplayTimer=setInterval(t.play,t.props.autoplaySpeed+50),t.setState({autoplaying:"playing"})})),_(w(t),"pause",(function(e){t.autoplayTimer&&(clearInterval(t.autoplayTimer),t.autoplayTimer=null);var n=t.state.autoplaying;"paused"===e?t.setState({autoplaying:"paused"}):"focused"===e?"hovered"!==n&&"playing"!==n||t.setState({autoplaying:"focused"}):"playing"===n&&t.setState({autoplaying:"hovered"})})),_(w(t),"onDotsOver",(function(){return t.props.autoplay&&t.pause("hovered")})),_(w(t),"onDotsLeave",(function(){return t.props.autoplay&&"hovered"===t.state.autoplaying&&t.autoPlay("leave")})),_(w(t),"onTrackOver",(function(){return t.props.autoplay&&t.pause("hovered")})),_(w(t),"onTrackLeave",(function(){return t.props.autoplay&&"hovered"===t.state.autoplaying&&t.autoPlay("leave")})),_(w(t),"onSlideFocus",(function(){return t.props.autoplay&&t.pause("focused")})),_(w(t),"onSlideBlur",(function(){return t.props.autoplay&&"focused"===t.state.autoplaying&&t.autoPlay("blur")})),_(w(t),"render",(function(){var e,n,i,a=(0,o.default)("slick-slider",t.props.className,{"slick-vertical":t.props.vertical,"slick-initialized":!0}),f=g(g({},t.props),t.state),d=(0,s.extractObject)(f,["fade","cssEase","speed","infinite","centerMode","focusOnSelect","currentSlide","lazyLoad","lazyLoadedList","rtl","slideWidth","slideHeight","listHeight","vertical","slidesToShow","slidesToScroll","slideCount","trackStyle","variableWidth","unslick","centerPadding","targetSlide","useCSS"]),h=t.props.pauseOnHover;if(d=g(g({},d),{},{onMouseEnter:h?t.onTrackOver:null,onMouseLeave:h?t.onTrackLeave:null,onMouseOver:h?t.onTrackOver:null,focusOnSelect:t.props.focusOnSelect&&t.clickable?t.selectHandler:null}),!0===t.props.dots&&t.state.slideCount>=t.props.slidesToShow){var v=(0,s.extractObject)(f,["dotsClass","slideCount","slidesToShow","currentSlide","slidesToScroll","clickHandler","children","customPaging","infinite","appendDots"]),m=t.props.pauseOnDotsHover;v=g(g({},v),{},{clickHandler:t.changeSlide,onMouseEnter:m?t.onDotsLeave:null,onMouseOver:m?t.onDotsOver:null,onMouseLeave:m?t.onDotsLeave:null}),e=r.default.createElement(c.Dots,v)}var y=(0,s.extractObject)(f,["infinite","centerMode","currentSlide","slideCount","slidesToShow","prevArrow","nextArrow"]);y.clickHandler=t.changeSlide,t.props.arrows&&(n=r.default.createElement(l.PrevArrow,y),i=r.default.createElement(l.NextArrow,y));var b=null;t.props.vertical&&(b={height:t.state.listHeight});var k=null;!1===t.props.vertical?!0===t.props.centerMode&&(k={padding:"0px "+t.props.centerPadding}):!0===t.props.centerMode&&(k={padding:t.props.centerPadding+" 0px"});var w=g(g({},b),k),x=t.props.touchMove,_={className:"slick-list",style:w,onClick:t.clickHandler,onMouseDown:x?t.swipeStart:null,onMouseMove:t.state.dragging&&x?t.swipeMove:null,onMouseUp:x?t.swipeEnd:null,onMouseLeave:t.state.dragging&&x?t.swipeEnd:null,onTouchStart:x?t.swipeStart:null,onTouchMove:t.state.dragging&&x?t.swipeMove:null,onTouchEnd:x?t.touchEnd:null,onTouchCancel:t.state.dragging&&x?t.swipeEnd:null,onKeyDown:t.props.accessibility?t.keyHandler:null},S={className:a,dir:"ltr",style:t.props.style};return t.props.unslick&&(_={className:"slick-list"},S={className:a}),r.default.createElement("div",S,t.props.unslick?"":n,r.default.createElement("div",p({ref:t.listRefHandler},_),r.default.createElement(u.Track,p({ref:t.trackRefHandler},d),t.props.children)),t.props.unslick?"":i,t.props.unslick?"":e)})),t.list=null,t.track=null,t.state=g(g({},i.default),{},{currentSlide:t.props.initialSlide,slideCount:r.default.Children.count(t.props.children)}),t.callbackTimers=[],t.clickable=!0,t.debouncedResize=null;var n=t.ssrInit();return t.state=g(g({},t.state),n),t}return t=x,(n=[{key:"didPropsChange",value:function(e){for(var t=!1,n=0,i=Object.keys(this.props);n<i.length;n++){var a=i[n];if(!e.hasOwnProperty(a)){t=!0;break}if("object"!==h(e[a])&&"function"!==typeof e[a]&&e[a]!==this.props[a]){t=!0;break}}return t||r.default.Children.count(this.props.children)!==r.default.Children.count(e.children)}}])&&y(t.prototype,n),d&&y(t,d),Object.defineProperty(t,"prototype",{writable:!1}),x}(r.default.Component);t.InnerSlider=S},156:function(e,t,n){"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=c(n(390)),a=n(220),o=c(n(727)),s=c(n(223)),u=n(810);function c(e){return e&&e.__esModule?e:{default:e}}function l(){return l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l.apply(this,arguments)}function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach((function(t){y(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function h(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function p(e,t){return p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},p(e,t)}function v(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=g(e);if(t){var a=g(this).constructor;n=Reflect.construct(i,arguments,a)}else n=i.apply(this,arguments);return function(e,t){if(t&&("object"===r(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return m(e)}(this,n)}}function m(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function g(e){return g=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},g(e)}function y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var b=(0,u.canUseDOM)()&&n(18),k=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&p(e,t)}(f,e);var t,n,r,c=v(f);function f(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,f),y(m(t=c.call(this,e)),"innerSliderRefHandler",(function(e){return t.innerSlider=e})),y(m(t),"slickPrev",(function(){return t.innerSlider.slickPrev()})),y(m(t),"slickNext",(function(){return t.innerSlider.slickNext()})),y(m(t),"slickGoTo",(function(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return t.innerSlider.slickGoTo(e,n)})),y(m(t),"slickPause",(function(){return t.innerSlider.pause("paused")})),y(m(t),"slickPlay",(function(){return t.innerSlider.autoPlay("play")})),t.state={breakpoint:null},t._responsiveMediaHandlers=[],t}return t=f,(n=[{key:"media",value:function(e,t){b.register(e,t),this._responsiveMediaHandlers.push({query:e,handler:t})}},{key:"componentDidMount",value:function(){var e=this;if(this.props.responsive){var t=this.props.responsive.map((function(e){return e.breakpoint}));t.sort((function(e,t){return e-t})),t.forEach((function(n,r){var i;i=0===r?(0,o.default)({minWidth:0,maxWidth:n}):(0,o.default)({minWidth:t[r-1]+1,maxWidth:n}),(0,u.canUseDOM)()&&e.media(i,(function(){e.setState({breakpoint:n})}))}));var n=(0,o.default)({minWidth:t.slice(-1)[0]});(0,u.canUseDOM)()&&this.media(n,(function(){e.setState({breakpoint:null})}))}}},{key:"componentWillUnmount",value:function(){this._responsiveMediaHandlers.forEach((function(e){b.unregister(e.query,e.handler)}))}},{key:"render",value:function(){var e,t,n=this;(e=this.state.breakpoint?"unslick"===(t=this.props.responsive.filter((function(e){return e.breakpoint===n.state.breakpoint})))[0].settings?"unslick":d(d(d({},s.default),this.props),t[0].settings):d(d({},s.default),this.props)).centerMode&&(e.slidesToScroll,e.slidesToScroll=1),e.fade&&(e.slidesToShow,e.slidesToScroll,e.slidesToShow=1,e.slidesToScroll=1);var r=i.default.Children.toArray(this.props.children);r=r.filter((function(e){return"string"===typeof e?!!e.trim():!!e})),e.variableWidth&&(e.rows>1||e.slidesPerRow>1)&&(console.warn("variableWidth is not supported in case of rows > 1 or slidesPerRow > 1"),e.variableWidth=!1);for(var o=[],u=null,c=0;c<r.length;c+=e.rows*e.slidesPerRow){for(var f=[],h=c;h<c+e.rows*e.slidesPerRow;h+=e.slidesPerRow){for(var p=[],v=h;v<h+e.slidesPerRow&&(e.variableWidth&&r[v].props.style&&(u=r[v].props.style.width),!(v>=r.length));v+=1)p.push(i.default.cloneElement(r[v],{key:100*c+10*h+v,tabIndex:-1,style:{width:"".concat(100/e.slidesPerRow,"%"),display:"inline-block"}}));f.push(i.default.createElement("div",{key:10*c+h},p))}e.variableWidth?o.push(i.default.createElement("div",{key:c,style:{width:u}},f)):o.push(i.default.createElement("div",{key:c},f))}if("unslick"===e){var m="regular slider "+(this.props.className||"");return i.default.createElement("div",{className:m},r)}return o.length<=e.slidesToShow&&(e.unslick=!0),i.default.createElement(a.InnerSlider,l({style:this.props.style,ref:this.innerSliderRefHandler},e),o)}}])&&h(t.prototype,n),r&&h(t,r),Object.defineProperty(t,"prototype",{writable:!1}),f}(i.default.Component);t.default=k},120:function(e,t,n){"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.Track=void 0;var i=s(n(390)),a=s(n(715)),o=n(810);function s(e){return e&&e.__esModule?e:{default:e}}function u(){return u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},u.apply(this,arguments)}function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function l(e,t){return l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},l(e,t)}function f(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=h(e);if(t){var a=h(this).constructor;n=Reflect.construct(i,arguments,a)}else n=i.apply(this,arguments);return function(e,t){if(t&&("object"===r(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return d(e)}(this,n)}}function d(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function h(e){return h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},h(e)}function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function v(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach((function(t){m(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var g=function(e){var t,n,r,i,a;return r=(a=e.rtl?e.slideCount-1-e.index:e.index)<0||a>=e.slideCount,e.centerMode?(i=Math.floor(e.slidesToShow/2),n=(a-e.currentSlide)%e.slideCount===0,a>e.currentSlide-i-1&&a<=e.currentSlide+i&&(t=!0)):t=e.currentSlide<=a&&a<e.currentSlide+e.slidesToShow,{"slick-slide":!0,"slick-active":t,"slick-center":n,"slick-cloned":r,"slick-current":a===(e.targetSlide<0?e.targetSlide+e.slideCount:e.targetSlide>=e.slideCount?e.targetSlide-e.slideCount:e.targetSlide)}},y=function(e,t){return e.key||t},b=function(e){var t,n=[],r=[],s=[],u=i.default.Children.count(e.children),c=(0,o.lazyStartIndex)(e),l=(0,o.lazyEndIndex)(e);return i.default.Children.forEach(e.children,(function(f,d){var h,p={message:"children",index:d,slidesToScroll:e.slidesToScroll,currentSlide:e.currentSlide};h=!e.lazyLoad||e.lazyLoad&&e.lazyLoadedList.indexOf(d)>=0?f:i.default.createElement("div",null);var m=function(e){var t={};return void 0!==e.variableWidth&&!1!==e.variableWidth||(t.width=e.slideWidth),e.fade&&(t.position="relative",e.vertical?t.top=-e.index*parseInt(e.slideHeight):t.left=-e.index*parseInt(e.slideWidth),t.opacity=e.currentSlide===e.index?1:0,e.useCSS&&(t.transition="opacity "+e.speed+"ms "+e.cssEase+", visibility "+e.speed+"ms "+e.cssEase)),t}(v(v({},e),{},{index:d})),b=h.props.className||"",k=g(v(v({},e),{},{index:d}));if(n.push(i.default.cloneElement(h,{key:"original"+y(h,d),"data-index":d,className:(0,a.default)(k,b),tabIndex:"-1","aria-hidden":!k["slick-active"],style:v(v({outline:"none"},h.props.style||{}),m),onClick:function(t){h.props&&h.props.onClick&&h.props.onClick(t),e.focusOnSelect&&e.focusOnSelect(p)}})),e.infinite&&!1===e.fade){var w=u-d;w<=(0,o.getPreClones)(e)&&u!==e.slidesToShow&&((t=-w)>=c&&(h=f),k=g(v(v({},e),{},{index:t})),r.push(i.default.cloneElement(h,{key:"precloned"+y(h,t),"data-index":t,tabIndex:"-1",className:(0,a.default)(k,b),"aria-hidden":!k["slick-active"],style:v(v({},h.props.style||{}),m),onClick:function(t){h.props&&h.props.onClick&&h.props.onClick(t),e.focusOnSelect&&e.focusOnSelect(p)}}))),u!==e.slidesToShow&&((t=u+d)<l&&(h=f),k=g(v(v({},e),{},{index:t})),s.push(i.default.cloneElement(h,{key:"postcloned"+y(h,t),"data-index":t,tabIndex:"-1",className:(0,a.default)(k,b),"aria-hidden":!k["slick-active"],style:v(v({},h.props.style||{}),m),onClick:function(t){h.props&&h.props.onClick&&h.props.onClick(t),e.focusOnSelect&&e.focusOnSelect(p)}})))}})),e.rtl?r.concat(n,s).reverse():r.concat(n,s)},k=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&l(e,t)}(o,e);var t,n,r,a=f(o);function o(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return m(d(e=a.call.apply(a,[this].concat(n))),"node",null),m(d(e),"handleRef",(function(t){e.node=t})),e}return t=o,(n=[{key:"render",value:function(){var e=b(this.props),t=this.props,n={onMouseEnter:t.onMouseEnter,onMouseOver:t.onMouseOver,onMouseLeave:t.onMouseLeave};return i.default.createElement("div",u({ref:this.handleRef,className:"slick-track",style:this.props.trackStyle},n),e)}}])&&c(t.prototype,n),r&&c(t,r),Object.defineProperty(t,"prototype",{writable:!1}),o}(i.default.PureComponent);t.Track=k},810:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.checkSpecKeys=t.checkNavigable=t.changeSlide=t.canUseDOM=t.canGoNext=void 0,t.clamp=u,t.swipeStart=t.swipeMove=t.swipeEnd=t.slidesOnRight=t.slidesOnLeft=t.slideHandler=t.siblingDirection=t.safePreventDefault=t.lazyStartIndex=t.lazySlidesOnRight=t.lazySlidesOnLeft=t.lazyEndIndex=t.keyHandler=t.initializedState=t.getWidth=t.getTrackLeft=t.getTrackCSS=t.getTrackAnimateCSS=t.getTotalSlides=t.getSwipeDirection=t.getSlideCount=t.getRequiredLazySlides=t.getPreClones=t.getPostClones=t.getOnDemandLazySlides=t.getNavigableIndexes=t.getHeight=t.extractObject=void 0;var r,i=(r=n(390))&&r.__esModule?r:{default:r};function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){s(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function u(e,t,n){return Math.max(t,Math.min(e,n))}var c=function(e){["onTouchStart","onTouchMove","onWheel"].includes(e._reactName)||e.preventDefault()};t.safePreventDefault=c;var l=function(e){for(var t=[],n=f(e),r=d(e),i=n;i<r;i++)e.lazyLoadedList.indexOf(i)<0&&t.push(i);return t};t.getOnDemandLazySlides=l;t.getRequiredLazySlides=function(e){for(var t=[],n=f(e),r=d(e),i=n;i<r;i++)t.push(i);return t};var f=function(e){return e.currentSlide-h(e)};t.lazyStartIndex=f;var d=function(e){return e.currentSlide+p(e)};t.lazyEndIndex=d;var h=function(e){return e.centerMode?Math.floor(e.slidesToShow/2)+(parseInt(e.centerPadding)>0?1:0):0};t.lazySlidesOnLeft=h;var p=function(e){return e.centerMode?Math.floor((e.slidesToShow-1)/2)+1+(parseInt(e.centerPadding)>0?1:0):e.slidesToShow};t.lazySlidesOnRight=p;var v=function(e){return e&&e.offsetWidth||0};t.getWidth=v;var m=function(e){return e&&e.offsetHeight||0};t.getHeight=m;var g=function(e){var t,n,r,i,a=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return t=e.startX-e.curX,n=e.startY-e.curY,r=Math.atan2(n,t),(i=Math.round(180*r/Math.PI))<0&&(i=360-Math.abs(i)),i<=45&&i>=0||i<=360&&i>=315?"left":i>=135&&i<=225?"right":!0===a?i>=35&&i<=135?"up":"down":"vertical"};t.getSwipeDirection=g;var y=function(e){var t=!0;return e.infinite||(e.centerMode&&e.currentSlide>=e.slideCount-1||e.slideCount<=e.slidesToShow||e.currentSlide>=e.slideCount-e.slidesToShow)&&(t=!1),t};t.canGoNext=y;t.extractObject=function(e,t){var n={};return t.forEach((function(t){return n[t]=e[t]})),n};t.initializedState=function(e){var t,n=i.default.Children.count(e.children),r=e.listRef,a=Math.ceil(v(r)),s=e.trackRef&&e.trackRef.node,u=Math.ceil(v(s));if(e.vertical)t=a;else{var c=e.centerMode&&2*parseInt(e.centerPadding);"string"===typeof e.centerPadding&&"%"===e.centerPadding.slice(-1)&&(c*=a/100),t=Math.ceil((a-c)/e.slidesToShow)}var f=r&&m(r.querySelector('[data-index="0"]')),d=f*e.slidesToShow,h=void 0===e.currentSlide?e.initialSlide:e.currentSlide;e.rtl&&void 0===e.currentSlide&&(h=n-1-e.initialSlide);var p=e.lazyLoadedList||[],g=l(o(o({},e),{},{currentSlide:h,lazyLoadedList:p})),y={slideCount:n,slideWidth:t,listWidth:a,trackWidth:u,currentSlide:h,slideHeight:f,listHeight:d,lazyLoadedList:p=p.concat(g)};return null===e.autoplaying&&e.autoplay&&(y.autoplaying="playing"),y};t.slideHandler=function(e){var t=e.waitForAnimate,n=e.animating,r=e.fade,i=e.infinite,a=e.index,s=e.slideCount,c=e.lazyLoad,f=e.currentSlide,d=e.centerMode,h=e.slidesToScroll,p=e.slidesToShow,v=e.useCSS,m=e.lazyLoadedList;if(t&&n)return{};var g,b,k,w=a,x={},I={},T=i?a:u(a,0,s-1);if(r){if(!i&&(a<0||a>=s))return{};a<0?w=a+s:a>=s&&(w=a-s),c&&m.indexOf(w)<0&&(m=m.concat(w)),x={animating:!0,currentSlide:w,lazyLoadedList:m,targetSlide:w},I={animating:!1,targetSlide:w}}else g=w,w<0?(g=w+s,i?s%h!==0&&(g=s-s%h):g=0):!y(e)&&w>f?w=g=f:d&&w>=s?(w=i?s:s-1,g=i?0:s-1):w>=s&&(g=w-s,i?s%h!==0&&(g=0):g=s-p),!i&&w+p>=s&&(g=s-p),b=E(o(o({},e),{},{slideIndex:w})),k=E(o(o({},e),{},{slideIndex:g})),i||(b===k&&(w=g),b=k),c&&(m=m.concat(l(o(o({},e),{},{currentSlide:w})))),v?(x={animating:!0,currentSlide:g,trackStyle:S(o(o({},e),{},{left:b})),lazyLoadedList:m,targetSlide:T},I={animating:!1,currentSlide:g,trackStyle:_(o(o({},e),{},{left:k})),swipeLeft:null,targetSlide:T}):x={currentSlide:g,trackStyle:_(o(o({},e),{},{left:k})),lazyLoadedList:m,targetSlide:T};return{state:x,nextState:I}};t.changeSlide=function(e,t){var n,r,i,a,s=e.slidesToScroll,u=e.slidesToShow,c=e.slideCount,l=e.currentSlide,f=e.targetSlide,d=e.lazyLoad,h=e.infinite;if(n=c%s!==0?0:(c-l)%s,"previous"===t.message)a=l-(i=0===n?s:u-n),d&&!h&&(a=-1===(r=l-i)?c-1:r),h||(a=f-s);else if("next"===t.message)a=l+(i=0===n?s:n),d&&!h&&(a=(l+s)%c+n),h||(a=f+s);else if("dots"===t.message)a=t.index*t.slidesToScroll;else if("children"===t.message){if(a=t.index,h){var p=N(o(o({},e),{},{targetSlide:a}));a>t.currentSlide&&"left"===p?a-=c:a<t.currentSlide&&"right"===p&&(a+=c)}}else"index"===t.message&&(a=Number(t.index));return a};t.keyHandler=function(e,t,n){return e.target.tagName.match("TEXTAREA|INPUT|SELECT")||!t?"":37===e.keyCode?n?"next":"previous":39===e.keyCode?n?"previous":"next":""};t.swipeStart=function(e,t,n){return"IMG"===e.target.tagName&&c(e),!t||!n&&-1!==e.type.indexOf("mouse")?"":{dragging:!0,touchObject:{startX:e.touches?e.touches[0].pageX:e.clientX,startY:e.touches?e.touches[0].pageY:e.clientY,curX:e.touches?e.touches[0].pageX:e.clientX,curY:e.touches?e.touches[0].pageY:e.clientY}}};t.swipeMove=function(e,t){var n=t.scrolling,r=t.animating,i=t.vertical,a=t.swipeToSlide,s=t.verticalSwiping,u=t.rtl,l=t.currentSlide,f=t.edgeFriction,d=t.edgeDragged,h=t.onEdge,p=t.swiped,v=t.swiping,m=t.slideCount,b=t.slidesToScroll,k=t.infinite,w=t.touchObject,x=t.swipeEvent,S=t.listHeight,I=t.listWidth;if(!n){if(r)return c(e);i&&a&&s&&c(e);var T,C={},N=E(t);w.curX=e.touches?e.touches[0].pageX:e.clientX,w.curY=e.touches?e.touches[0].pageY:e.clientY,w.swipeLength=Math.round(Math.sqrt(Math.pow(w.curX-w.startX,2)));var O=Math.round(Math.sqrt(Math.pow(w.curY-w.startY,2)));if(!s&&!v&&O>10)return{scrolling:!0};s&&(w.swipeLength=O);var P=(u?-1:1)*(w.curX>w.startX?1:-1);s&&(P=w.curY>w.startY?1:-1);var A=Math.ceil(m/b),R=g(t.touchObject,s),j=w.swipeLength;return k||(0===l&&("right"===R||"down"===R)||l+1>=A&&("left"===R||"up"===R)||!y(t)&&("left"===R||"up"===R))&&(j=w.swipeLength*f,!1===d&&h&&(h(R),C.edgeDragged=!0)),!p&&x&&(x(R),C.swiped=!0),T=i?N+j*(S/I)*P:u?N-j*P:N+j*P,s&&(T=N+j*P),C=o(o({},C),{},{touchObject:w,swipeLeft:T,trackStyle:_(o(o({},t),{},{left:T}))}),Math.abs(w.curX-w.startX)<.8*Math.abs(w.curY-w.startY)?C:(w.swipeLength>10&&(C.swiping=!0,c(e)),C)}};t.swipeEnd=function(e,t){var n=t.dragging,r=t.swipe,i=t.touchObject,a=t.listWidth,s=t.touchThreshold,u=t.verticalSwiping,l=t.listHeight,f=t.swipeToSlide,d=t.scrolling,h=t.onSwipe,p=t.targetSlide,v=t.currentSlide,m=t.infinite;if(!n)return r&&c(e),{};var y=u?l/s:a/s,b=g(i,u),x={dragging:!1,edgeDragged:!1,scrolling:!1,swiping:!1,swiped:!1,swipeLeft:null,touchObject:{}};if(d)return x;if(!i.swipeLength)return x;if(i.swipeLength>y){var _,I;c(e),h&&h(b);var T=m?v:p;switch(b){case"left":case"up":I=T+w(t),_=f?k(t,I):I,x.currentDirection=0;break;case"right":case"down":I=T-w(t),_=f?k(t,I):I,x.currentDirection=1;break;default:_=T}x.triggerSlideHandler=_}else{var C=E(t);x.trackStyle=S(o(o({},t),{},{left:C}))}return x};var b=function(e){for(var t=e.infinite?2*e.slideCount:e.slideCount,n=e.infinite?-1*e.slidesToShow:0,r=e.infinite?-1*e.slidesToShow:0,i=[];n<t;)i.push(n),n=r+e.slidesToScroll,r+=Math.min(e.slidesToScroll,e.slidesToShow);return i};t.getNavigableIndexes=b;var k=function(e,t){var n=b(e),r=0;if(t>n[n.length-1])t=n[n.length-1];else for(var i in n){if(t<n[i]){t=r;break}r=n[i]}return t};t.checkNavigable=k;var w=function(e){var t=e.centerMode?e.slideWidth*Math.floor(e.slidesToShow/2):0;if(e.swipeToSlide){var n,r=e.listRef,i=r.querySelectorAll&&r.querySelectorAll(".slick-slide")||[];if(Array.from(i).every((function(r){if(e.vertical){if(r.offsetTop+m(r)/2>-1*e.swipeLeft)return n=r,!1}else if(r.offsetLeft-t+v(r)/2>-1*e.swipeLeft)return n=r,!1;return!0})),!n)return 0;var a=!0===e.rtl?e.slideCount-e.currentSlide:e.currentSlide;return Math.abs(n.dataset.index-a)||1}return e.slidesToScroll};t.getSlideCount=w;var x=function(e,t){return t.reduce((function(t,n){return t&&e.hasOwnProperty(n)}),!0)?null:console.error("Keys Missing:",e)};t.checkSpecKeys=x;var _=function(e){var t,n;x(e,["left","variableWidth","slideCount","slidesToShow","slideWidth"]);var r=e.slideCount+2*e.slidesToShow;e.vertical?n=r*e.slideHeight:t=C(e)*e.slideWidth;var i={opacity:1,transition:"",WebkitTransition:""};if(e.useTransform){var a=e.vertical?"translate3d(0px, "+e.left+"px, 0px)":"translate3d("+e.left+"px, 0px, 0px)",s=e.vertical?"translate3d(0px, "+e.left+"px, 0px)":"translate3d("+e.left+"px, 0px, 0px)",u=e.vertical?"translateY("+e.left+"px)":"translateX("+e.left+"px)";i=o(o({},i),{},{WebkitTransform:a,transform:s,msTransform:u})}else e.vertical?i.top=e.left:i.left=e.left;return e.fade&&(i={opacity:1}),t&&(i.width=t),n&&(i.height=n),window&&!window.addEventListener&&window.attachEvent&&(e.vertical?i.marginTop=e.left+"px":i.marginLeft=e.left+"px"),i};t.getTrackCSS=_;var S=function(e){x(e,["left","variableWidth","slideCount","slidesToShow","slideWidth","speed","cssEase"]);var t=_(e);return e.useTransform?(t.WebkitTransition="-webkit-transform "+e.speed+"ms "+e.cssEase,t.transition="transform "+e.speed+"ms "+e.cssEase):e.vertical?t.transition="top "+e.speed+"ms "+e.cssEase:t.transition="left "+e.speed+"ms "+e.cssEase,t};t.getTrackAnimateCSS=S;var E=function(e){if(e.unslick)return 0;x(e,["slideIndex","trackRef","infinite","centerMode","slideCount","slidesToShow","slidesToScroll","slideWidth","listWidth","variableWidth","slideHeight"]);var t,n,r=e.slideIndex,i=e.trackRef,a=e.infinite,o=e.centerMode,s=e.slideCount,u=e.slidesToShow,c=e.slidesToScroll,l=e.slideWidth,f=e.listWidth,d=e.variableWidth,h=e.slideHeight,p=e.fade,v=e.vertical;if(p||1===e.slideCount)return 0;var m=0;if(a?(m=-I(e),s%c!==0&&r+c>s&&(m=-(r>s?u-(r-s):s%c)),o&&(m+=parseInt(u/2))):(s%c!==0&&r+c>s&&(m=u-s%c),o&&(m=parseInt(u/2))),t=v?r*h*-1+m*h:r*l*-1+m*l,!0===d){var g,y=i&&i.node;if(g=r+I(e),t=(n=y&&y.childNodes[g])?-1*n.offsetLeft:0,!0===o){g=a?r+I(e):r,n=y&&y.children[g],t=0;for(var b=0;b<g;b++)t-=y&&y.children[b]&&y.children[b].offsetWidth;t-=parseInt(e.centerPadding),t+=n&&(f-n.offsetWidth)/2}}return t};t.getTrackLeft=E;var I=function(e){return e.unslick||!e.infinite?0:e.variableWidth?e.slideCount:e.slidesToShow+(e.centerMode?1:0)};t.getPreClones=I;var T=function(e){return e.unslick||!e.infinite?0:e.slideCount};t.getPostClones=T;var C=function(e){return 1===e.slideCount?1:I(e)+e.slideCount+T(e)};t.getTotalSlides=C;var N=function(e){return e.targetSlide>e.currentSlide?e.targetSlide>e.currentSlide+O(e)?"left":"right":e.targetSlide<e.currentSlide-P(e)?"right":"left"};t.siblingDirection=N;var O=function(e){var t=e.slidesToShow,n=e.centerMode,r=e.rtl,i=e.centerPadding;if(n){var a=(t-1)/2+1;return parseInt(i)>0&&(a+=1),r&&t%2===0&&(a+=1),a}return r?0:t-1};t.slidesOnRight=O;var P=function(e){var t=e.slidesToShow,n=e.centerMode,r=e.rtl,i=e.centerPadding;if(n){var a=(t-1)/2+1;return parseInt(i)>0&&(a+=1),r||t%2!==0||(a+=1),a}return r?t-1:0};t.slidesOnLeft=P;t.canUseDOM=function(){return!("undefined"===typeof window||!window.document||!window.document.createElement)}},922:function(e,t,n){"use strict";var r=this&&this.__assign||function(){return r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},r.apply(this,arguments)},i=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return a(t,e),t},s=this&&this.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};Object.defineProperty(t,"__esModule",{value:!0});var u=o(n(390)),c=n(998),l=(0,n(800).createAnimation)("BeatLoader","50% {transform: scale(0.75);opacity: 0.2} 100% {transform: scale(1);opacity: 1}","beat");t.default=function(e){var t=e.loading,n=void 0===t||t,i=e.color,a=void 0===i?"#000000":i,o=e.speedMultiplier,f=void 0===o?1:o,d=e.cssOverride,h=void 0===d?{}:d,p=e.size,v=void 0===p?15:p,m=e.margin,g=void 0===m?2:m,y=s(e,["loading","color","speedMultiplier","cssOverride","size","margin"]),b=r({display:"inherit"},h),k=function(e){return{display:"inline-block",backgroundColor:a,width:(0,c.cssValue)(v),height:(0,c.cssValue)(v),margin:(0,c.cssValue)(g),borderRadius:"100%",animation:"".concat(l," ").concat(.7/f,"s ").concat(e%2?"0s":"".concat(.35/f,"s")," infinite linear"),animationFillMode:"both"}};return n?u.createElement("span",r({style:b},y),u.createElement("span",{style:k(1)}),u.createElement("span",{style:k(2)}),u.createElement("span",{style:k(3)})):null}},800:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createAnimation=void 0;t.createAnimation=function(e,t,n){var r="react-spinners-".concat(e,"-").concat(n);if("undefined"==typeof window||!window.document)return r;var i=document.createElement("style");document.head.appendChild(i);var a=i.sheet,o="\n    @keyframes ".concat(r," {\n      ").concat(t,"\n    }\n  ");return a&&a.insertRule(o,0),r}},998:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.cssValue=t.parseLengthAndUnit=void 0;var n={cm:!0,mm:!0,in:!0,px:!0,pt:!0,pc:!0,em:!0,ex:!0,ch:!0,rem:!0,vw:!0,vh:!0,vmin:!0,vmax:!0,"%":!0};function r(e){if("number"===typeof e)return{value:e,unit:"px"};var t,r=(e.match(/^[0-9.]*/)||"").toString();t=r.includes(".")?parseFloat(r):parseInt(r,10);var i=(e.match(/[^0-9]*$/)||"").toString();return n[i]?{value:t,unit:i}:(console.warn("React Spinners: ".concat(e," is not a valid css value. Defaulting to ").concat(t,"px.")),{value:t,unit:"px"})}t.parseLengthAndUnit=r,t.cssValue=function(e){var t=r(e);return"".concat(t.value).concat(t.unit)}},511:function(e,t,n){"use strict";var r=n(390),i=Symbol.for("react.element"),a=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,s=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,u={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,a={},c=null,l=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(l=t.ref),t)o.call(t,r)&&!u.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===a[r]&&(a[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:l,props:a,_owner:s.current}}t.Fragment=a,t.jsx=c,t.jsxs=c},23:function(e,t){"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),u=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),h=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v=Object.assign,m={};function g(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}function y(){}function b(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}g.prototype.isReactComponent={},g.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},g.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=g.prototype;var k=b.prototype=new y;k.constructor=b,v(k,g.prototype),k.isPureReactComponent=!0;var w=Array.isArray,x=Object.prototype.hasOwnProperty,_={current:null},S={key:!0,ref:!0,__self:!0,__source:!0};function E(e,t,r){var i,a={},o=null,s=null;if(null!=t)for(i in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(o=""+t.key),t)x.call(t,i)&&!S.hasOwnProperty(i)&&(a[i]=t[i]);var u=arguments.length-2;if(1===u)a.children=r;else if(1<u){for(var c=Array(u),l=0;l<u;l++)c[l]=arguments[l+2];a.children=c}if(e&&e.defaultProps)for(i in u=e.defaultProps)void 0===a[i]&&(a[i]=u[i]);return{$$typeof:n,type:e,key:o,ref:s,props:a,_owner:_.current}}function I(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var T=/\/+/g;function C(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function N(e,t,i,a,o){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var u=!1;if(null===e)u=!0;else switch(s){case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case n:case r:u=!0}}if(u)return o=o(u=e),e=""===a?"."+C(u,0):a,w(o)?(i="",null!=e&&(i=e.replace(T,"$&/")+"/"),N(o,t,i,"",(function(e){return e}))):null!=o&&(I(o)&&(o=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,i+(!o.key||u&&u.key===o.key?"":(""+o.key).replace(T,"$&/")+"/")+e)),t.push(o)),1;if(u=0,a=""===a?".":a+":",w(e))for(var c=0;c<e.length;c++){var l=a+C(s=e[c],c);u+=N(s,t,i,l,o)}else if(l=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=h&&e[h]||e["@@iterator"])?e:null}(e),"function"===typeof l)for(e=l.call(e),c=0;!(s=e.next()).done;)u+=N(s=s.value,t,i,l=a+C(s,c++),o);else if("object"===s)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return u}function O(e,t,n){if(null==e)return e;var r=[],i=0;return N(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function P(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var A={current:null},R={transition:null},j={ReactCurrentDispatcher:A,ReactCurrentBatchConfig:R,ReactCurrentOwner:_};t.Children={map:O,forEach:function(e,t,n){O(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return O(e,(function(){t++})),t},toArray:function(e){return O(e,(function(e){return e}))||[]},only:function(e){if(!I(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=g,t.Fragment=i,t.Profiler=o,t.PureComponent=b,t.StrictMode=a,t.Suspense=l,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=j,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=v({},e.props),a=e.key,o=e.ref,s=e._owner;if(null!=t){if(void 0!==t.ref&&(o=t.ref,s=_.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var u=e.type.defaultProps;for(c in t)x.call(t,c)&&!S.hasOwnProperty(c)&&(i[c]=void 0===t[c]&&void 0!==u?u[c]:t[c])}var c=arguments.length-2;if(1===c)i.children=r;else if(1<c){u=Array(c);for(var l=0;l<c;l++)u[l]=arguments[l+2];i.children=u}return{$$typeof:n,type:e.type,key:a,ref:o,props:i,_owner:s}},t.createContext=function(e){return(e={$$typeof:u,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:s,_context:e},e.Consumer=e},t.createElement=E,t.createFactory=function(e){var t=E.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=I,t.lazy=function(e){return{$$typeof:d,_payload:{_status:-1,_result:e},_init:P}},t.memo=function(e,t){return{$$typeof:f,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=R.transition;R.transition={};try{e()}finally{R.transition=t}},t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},t.useCallback=function(e,t){return A.current.useCallback(e,t)},t.useContext=function(e){return A.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return A.current.useDeferredValue(e)},t.useEffect=function(e,t){return A.current.useEffect(e,t)},t.useId=function(){return A.current.useId()},t.useImperativeHandle=function(e,t,n){return A.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return A.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return A.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return A.current.useMemo(e,t)},t.useReducer=function(e,t,n){return A.current.useReducer(e,t,n)},t.useRef=function(e){return A.current.useRef(e)},t.useState=function(e){return A.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return A.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return A.current.useTransition()},t.version="18.2.0"},390:function(e,t,n){"use strict";e.exports=n(23)},559:function(e,t,n){"use strict";e.exports=n(511)},132:function(e,t,n){"use strict";n.r(t);var r=function(){if("undefined"!==typeof Map)return Map;function e(e,t){var n=-1;return e.some((function(e,r){return e[0]===t&&(n=r,!0)})),n}return function(){function t(){this.__entries__=[]}return Object.defineProperty(t.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),t.prototype.get=function(t){var n=e(this.__entries__,t),r=this.__entries__[n];return r&&r[1]},t.prototype.set=function(t,n){var r=e(this.__entries__,t);~r?this.__entries__[r][1]=n:this.__entries__.push([t,n])},t.prototype.delete=function(t){var n=this.__entries__,r=e(n,t);~r&&n.splice(r,1)},t.prototype.has=function(t){return!!~e(this.__entries__,t)},t.prototype.clear=function(){this.__entries__.splice(0)},t.prototype.forEach=function(e,t){void 0===t&&(t=null);for(var n=0,r=this.__entries__;n<r.length;n++){var i=r[n];e.call(t,i[1],i[0])}},t}()}(),i="undefined"!==typeof window&&"undefined"!==typeof document&&window.document===document,a="undefined"!==typeof n.g&&n.g.Math===Math?n.g:"undefined"!==typeof self&&self.Math===Math?self:"undefined"!==typeof window&&window.Math===Math?window:Function("return this")(),o="function"===typeof requestAnimationFrame?requestAnimationFrame.bind(a):function(e){return setTimeout((function(){return e(Date.now())}),1e3/60)};var s=["top","right","bottom","left","width","height","size","weight"],u="undefined"!==typeof MutationObserver,c=function(){function e(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=function(e,t){var n=!1,r=!1,i=0;function a(){n&&(n=!1,e()),r&&u()}function s(){o(a)}function u(){var e=Date.now();if(n){if(e-i<2)return;r=!0}else n=!0,r=!1,setTimeout(s,t);i=e}return u}(this.refresh.bind(this),20)}return e.prototype.addObserver=function(e){~this.observers_.indexOf(e)||this.observers_.push(e),this.connected_||this.connect_()},e.prototype.removeObserver=function(e){var t=this.observers_,n=t.indexOf(e);~n&&t.splice(n,1),!t.length&&this.connected_&&this.disconnect_()},e.prototype.refresh=function(){this.updateObservers_()&&this.refresh()},e.prototype.updateObservers_=function(){var e=this.observers_.filter((function(e){return e.gatherActive(),e.hasActive()}));return e.forEach((function(e){return e.broadcastActive()})),e.length>0},e.prototype.connect_=function(){i&&!this.connected_&&(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),u?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},e.prototype.disconnect_=function(){i&&this.connected_&&(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},e.prototype.onTransitionEnd_=function(e){var t=e.propertyName,n=void 0===t?"":t;s.some((function(e){return!!~n.indexOf(e)}))&&this.refresh()},e.getInstance=function(){return this.instance_||(this.instance_=new e),this.instance_},e.instance_=null,e}(),l=function(e,t){for(var n=0,r=Object.keys(t);n<r.length;n++){var i=r[n];Object.defineProperty(e,i,{value:t[i],enumerable:!1,writable:!1,configurable:!0})}return e},f=function(e){return e&&e.ownerDocument&&e.ownerDocument.defaultView||a},d=y(0,0,0,0);function h(e){return parseFloat(e)||0}function p(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return t.reduce((function(t,n){return t+h(e["border-"+n+"-width"])}),0)}function v(e){var t=e.clientWidth,n=e.clientHeight;if(!t&&!n)return d;var r=f(e).getComputedStyle(e),i=function(e){for(var t={},n=0,r=["top","right","bottom","left"];n<r.length;n++){var i=r[n],a=e["padding-"+i];t[i]=h(a)}return t}(r),a=i.left+i.right,o=i.top+i.bottom,s=h(r.width),u=h(r.height);if("border-box"===r.boxSizing&&(Math.round(s+a)!==t&&(s-=p(r,"left","right")+a),Math.round(u+o)!==n&&(u-=p(r,"top","bottom")+o)),!function(e){return e===f(e).document.documentElement}(e)){var c=Math.round(s+a)-t,l=Math.round(u+o)-n;1!==Math.abs(c)&&(s-=c),1!==Math.abs(l)&&(u-=l)}return y(i.left,i.top,s,u)}var m="undefined"!==typeof SVGGraphicsElement?function(e){return e instanceof f(e).SVGGraphicsElement}:function(e){return e instanceof f(e).SVGElement&&"function"===typeof e.getBBox};function g(e){return i?m(e)?function(e){var t=e.getBBox();return y(0,0,t.width,t.height)}(e):v(e):d}function y(e,t,n,r){return{x:e,y:t,width:n,height:r}}var b=function(){function e(e){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=y(0,0,0,0),this.target=e}return e.prototype.isActive=function(){var e=g(this.target);return this.contentRect_=e,e.width!==this.broadcastWidth||e.height!==this.broadcastHeight},e.prototype.broadcastRect=function(){var e=this.contentRect_;return this.broadcastWidth=e.width,this.broadcastHeight=e.height,e},e}(),k=function(e,t){var n=function(e){var t=e.x,n=e.y,r=e.width,i=e.height,a="undefined"!==typeof DOMRectReadOnly?DOMRectReadOnly:Object,o=Object.create(a.prototype);return l(o,{x:t,y:n,width:r,height:i,top:n,right:t+r,bottom:i+n,left:t}),o}(t);l(this,{target:e,contentRect:n})},w=function(){function e(e,t,n){if(this.activeObservations_=[],this.observations_=new r,"function"!==typeof e)throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=e,this.controller_=t,this.callbackCtx_=n}return e.prototype.observe=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!==typeof Element&&Element instanceof Object){if(!(e instanceof f(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)||(t.set(e,new b(e)),this.controller_.addObserver(this),this.controller_.refresh())}},e.prototype.unobserve=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!==typeof Element&&Element instanceof Object){if(!(e instanceof f(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)&&(t.delete(e),t.size||this.controller_.removeObserver(this))}},e.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},e.prototype.gatherActive=function(){var e=this;this.clearActive(),this.observations_.forEach((function(t){t.isActive()&&e.activeObservations_.push(t)}))},e.prototype.broadcastActive=function(){if(this.hasActive()){var e=this.callbackCtx_,t=this.activeObservations_.map((function(e){return new k(e.target,e.broadcastRect())}));this.callback_.call(e,t,e),this.clearActive()}},e.prototype.clearActive=function(){this.activeObservations_.splice(0)},e.prototype.hasActive=function(){return this.activeObservations_.length>0},e}(),x="undefined"!==typeof WeakMap?new WeakMap:new r,_=function e(t){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var n=c.getInstance(),r=new w(t,n,this);x.set(this,r)};["observe","unobserve","disconnect"].forEach((function(e){_.prototype[e]=function(){var t;return(t=x.get(this))[e].apply(t,arguments)}}));var S="undefined"!==typeof a.ResizeObserver?a.ResizeObserver:_;t.default=S},17:function(e,t){"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<a(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,o=i>>>1;r<o;){var s=2*(r+1)-1,u=e[s],c=s+1,l=e[c];if(0>a(u,n))c<i&&0>a(l,u)?(e[r]=l,e[c]=n,r=c):(e[r]=u,e[s]=n,r=s);else{if(!(c<i&&0>a(l,n)))break e;e[r]=l,e[c]=n,r=c}}}return t}function a(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,u=s.now();t.unstable_now=function(){return s.now()-u}}var c=[],l=[],f=1,d=null,h=3,p=!1,v=!1,m=!1,g="function"===typeof setTimeout?setTimeout:null,y="function"===typeof clearTimeout?clearTimeout:null,b="undefined"!==typeof setImmediate?setImmediate:null;function k(e){for(var t=r(l);null!==t;){if(null===t.callback)i(l);else{if(!(t.startTime<=e))break;i(l),t.sortIndex=t.expirationTime,n(c,t)}t=r(l)}}function w(e){if(m=!1,k(e),!v)if(null!==r(c))v=!0,R(x);else{var t=r(l);null!==t&&j(w,t.startTime-e)}}function x(e,n){v=!1,m&&(m=!1,y(I),I=-1),p=!0;var a=h;try{for(k(n),d=r(c);null!==d&&(!(d.expirationTime>n)||e&&!N());){var o=d.callback;if("function"===typeof o){d.callback=null,h=d.priorityLevel;var s=o(d.expirationTime<=n);n=t.unstable_now(),"function"===typeof s?d.callback=s:d===r(c)&&i(c),k(n)}else i(c);d=r(c)}if(null!==d)var u=!0;else{var f=r(l);null!==f&&j(w,f.startTime-n),u=!1}return u}finally{d=null,h=a,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var _,S=!1,E=null,I=-1,T=5,C=-1;function N(){return!(t.unstable_now()-C<T)}function O(){if(null!==E){var e=t.unstable_now();C=e;var n=!0;try{n=E(!0,e)}finally{n?_():(S=!1,E=null)}}else S=!1}if("function"===typeof b)_=function(){b(O)};else if("undefined"!==typeof MessageChannel){var P=new MessageChannel,A=P.port2;P.port1.onmessage=O,_=function(){A.postMessage(null)}}else _=function(){g(O,0)};function R(e){E=e,S||(S=!0,_())}function j(e,n){I=g((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){v||p||(v=!0,R(x))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(h){case 1:case 2:case 3:var t=3;break;default:t=h}var n=h;h=t;try{return e()}finally{h=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=h;h=e;try{return t()}finally{h=n}},t.unstable_scheduleCallback=function(e,i,a){var o=t.unstable_now();switch("object"===typeof a&&null!==a?a="number"===typeof(a=a.delay)&&0<a?o+a:o:a=o,e){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return e={id:f++,callback:i,priorityLevel:e,startTime:a,expirationTime:s=a+s,sortIndex:-1},a>o?(e.sortIndex=a,n(l,e),null===r(c)&&e===r(l)&&(m?(y(I),I=-1):m=!0,j(w,a-o))):(e.sortIndex=s,n(c,e),v||p||(v=!0,R(x))),e},t.unstable_shouldYield=N,t.unstable_wrapCallback=function(e){var t=h;return function(){var n=h;h=t;try{return e.apply(this,arguments)}finally{h=n}}}},124:function(e,t,n){"use strict";e.exports=n(17)},660:function(e){e.exports=function(e){return e.replace(/[A-Z]/g,(function(e){return"-"+e.toLowerCase()})).toLowerCase()}},991:function(e){"use strict";var t=function(){};e.exports=t}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var a=t[r]={exports:{}};return e[r].call(a.exports,a,a.exports,n),a.exports}n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},function(){var e,t=Object.getPrototypeOf?function(e){return Object.getPrototypeOf(e)}:function(e){return e.__proto__};n.t=function(r,i){if(1&i&&(r=this(r)),8&i)return r;if("object"===typeof r&&r){if(4&i&&r.__esModule)return r;if(16&i&&"function"===typeof r.then)return r}var a=Object.create(null);n.r(a);var o={};e=e||[null,t({}),t([]),t(t)];for(var s=2&i&&r;"object"==typeof s&&!~e.indexOf(s);s=t(s))Object.getOwnPropertyNames(s).forEach((function(e){o[e]=function(){return r[e]}}));return o.default=function(){return r},n.d(a,o),a}}(),n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="/",function(){"use strict";var e={};n.r(e),n.d(e,{FirebaseError:function(){return Bt},SDK_VERSION:function(){return $n},_DEFAULT_ENTRY_NAME:function(){return Un},_addComponent:function(){return Bn},_addOrOverwriteComponent:function(){return qn},_apps:function(){return zn},_clearComponents:function(){return Kn},_components:function(){return Vn},_getProvider:function(){return Wn},_registerComponent:function(){return Hn},_removeServiceInstance:function(){return Gn},deleteApp:function(){return tr},getApp:function(){return Zn},getApps:function(){return er},initializeApp:function(){return Jn},onLog:function(){return ir},registerVersion:function(){return rr},setLogLevel:function(){return ar}});var t,r=n(390),i=n.t(r,2),a=n(254);function o(e){if(Array.isArray(e))return e}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function u(e,t){if(e){if("string"===typeof e)return s(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?s(e,t):void 0}}function c(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function l(e,t){return o(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a,o,s=[],u=!0,c=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=a.call(n)).done)&&(s.push(r.value),s.length!==t);u=!0);}catch(e){c=!0,i=e}finally{try{if(!u&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw i}}return s}}(e,t)||u(e,t)||c()}function f(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function d(e){return function(e){if(Array.isArray(e))return s(e)}(e)||f(e)||u(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p(e){return p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},p(e)}function v(e){var t=function(e,t){if("object"!==p(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==p(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===p(t)?t:String(t)}function m(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,v(r.key),r)}}function g(e,t,n){return t&&m(e.prototype,t),n&&m(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function y(e,t){return y=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},y(e,t)}function b(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&y(e,t)}function k(e){return k=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},k(e)}function w(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function x(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _(e){var t=w();return function(){var n,r=k(e);if(t){var i=k(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===p(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return x(e)}(this,n)}}function S(e,t,n){return S=w()?Reflect.construct.bind():function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&y(i,n.prototype),i},S.apply(null,arguments)}function E(e){var t="function"===typeof Map?new Map:void 0;return E=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return S(e,arguments,k(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),y(r,e)},E(e)}function I(e){return o(e)||f(e)||u(e)||c()}function T(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=u(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}function C(){return C=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},C.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(t||(t={}));var N,O="popstate";function P(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function A(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(n){}}}function R(e,t){return{usr:e.state,key:e.key,idx:t}}function j(e,t,n,r){return void 0===n&&(n=null),C({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?L(t):t,{state:n,key:t&&t.key||r||Math.random().toString(36).substr(2,8)})}function D(e){var t=e.pathname,n=void 0===t?"/":t,r=e.search,i=void 0===r?"":r,a=e.hash,o=void 0===a?"":a;return i&&"?"!==i&&(n+="?"===i.charAt(0)?i:"?"+i),o&&"#"!==o&&(n+="#"===o.charAt(0)?o:"#"+o),n}function L(e){var t={};if(e){var n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));var r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function M(e,n,r,i){void 0===i&&(i={});var a=i,o=a.window,s=void 0===o?document.defaultView:o,u=a.v5Compat,c=void 0!==u&&u,l=s.history,f=t.Pop,d=null,h=p();function p(){return(l.state||{idx:null}).idx}function v(){f=t.Pop;var e=p(),n=null==e?null:e-h;h=e,d&&d({action:f,location:g.location,delta:n})}function m(e){var t="null"!==s.location.origin?s.location.origin:s.location.href,n="string"===typeof e?e:D(e);return P(t,"No window.location.(origin|href) available to create URL for href: "+n),new URL(n,t)}null==h&&(h=0,l.replaceState(C({},l.state,{idx:h}),""));var g={get action(){return f},get location(){return e(s,l)},listen:function(e){if(d)throw new Error("A history only accepts one active listener");return s.addEventListener(O,v),d=e,function(){s.removeEventListener(O,v),d=null}},createHref:function(e){return n(s,e)},createURL:m,encodeLocation:function(e){var t=m(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,n){f=t.Push;var i=j(g.location,e,n);r&&r(i,e);var a=R(i,h=p()+1),o=g.createHref(i);try{l.pushState(a,"",o)}catch(u){if(u instanceof DOMException&&"DataCloneError"===u.name)throw u;s.location.assign(o)}c&&d&&d({action:f,location:g.location,delta:1})},replace:function(e,n){f=t.Replace;var i=j(g.location,e,n);r&&r(i,e);var a=R(i,h=p()),o=g.createHref(i);l.replaceState(a,"",o),c&&d&&d({action:f,location:g.location,delta:0})},go:function(e){return l.go(e)}};return g}!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(N||(N={}));new Set(["lazy","caseSensitive","path","id","index","children"]);function U(e,t,n){void 0===n&&(n="/");var r=J(("string"===typeof t?L(t):t).pathname||"/",n);if(null==r)return null;var i=F(e);!function(e){e.sort((function(e,t){return e.score!==t.score?t.score-e.score:function(e,t){var n=e.length===t.length&&e.slice(0,-1).every((function(e,n){return e===t[n]}));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((function(e){return e.childrenIndex})),t.routesMeta.map((function(e){return e.childrenIndex})))}))}(i);for(var a=null,o=0;null==a&&o<i.length;++o)a=Y(i[o],$(r));return a}function F(e,t,n,r){void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r="");var i=function(e,i,a){var o={relativePath:void 0===a?e.path||"":a,caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};o.relativePath.startsWith("/")&&(P(o.relativePath.startsWith(r),'Absolute route path "'+o.relativePath+'" nested under path "'+r+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),o.relativePath=o.relativePath.slice(r.length));var s=ne([r,o.relativePath]),u=n.concat(o);e.children&&e.children.length>0&&(P(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+s+'".'),F(e.children,t,u,s)),(null!=e.path||e.index)&&t.push({path:s,score:Q(s,e.index),routesMeta:u})};return e.forEach((function(e,t){var n;if(""!==e.path&&null!=(n=e.path)&&n.includes("?")){var r,a=T(z(e.path));try{for(a.s();!(r=a.n()).done;){var o=r.value;i(e,t,o)}}catch(s){a.e(s)}finally{a.f()}}else i(e,t)})),t}function z(e){var t=e.split("/");if(0===t.length)return[];var n=I(t),r=n[0],i=n.slice(1),a=r.endsWith("?"),o=r.replace(/\?$/,"");if(0===i.length)return a?[o,""]:[o];var s=z(i.join("/")),u=[];return u.push.apply(u,d(s.map((function(e){return""===e?o:[o,e].join("/")})))),a&&u.push.apply(u,d(s)),u.map((function(t){return e.startsWith("/")&&""===t?"/":t}))}var V=/^:\w+$/,B=3,q=2,H=1,W=10,G=-2,K=function(e){return"*"===e};function Q(e,t){var n=e.split("/"),r=n.length;return n.some(K)&&(r+=G),t&&(r+=q),n.filter((function(e){return!K(e)})).reduce((function(e,t){return e+(V.test(t)?B:""===t?H:W)}),r)}function Y(e,t){for(var n=e.routesMeta,r={},i="/",a=[],o=0;o<n.length;++o){var s=n[o],u=o===n.length-1,c="/"===i?t:t.slice(i.length)||"/",l=X({path:s.relativePath,caseSensitive:s.caseSensitive,end:u},c);if(!l)return null;Object.assign(r,l.params);var f=s.route;a.push({params:r,pathname:ne([i,l.pathname]),pathnameBase:re(ne([i,l.pathnameBase])),route:f}),"/"!==l.pathnameBase&&(i=ne([i,l.pathnameBase]))}return a}function X(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});var n=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);A("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');var r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/\/:(\w+)/g,(function(e,t){return r.push(t),"/([^\\/]+)"}));e.endsWith("*")?(r.push("*"),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":""!==e&&"/"!==e&&(i+="(?:(?=\\/|$))");var a=new RegExp(i,t?void 0:"i");return[a,r]}(e.path,e.caseSensitive,e.end),r=l(n,2),i=r[0],a=r[1],o=t.match(i);if(!o)return null;var s=o[0],u=s.replace(/(.)\/+$/,"$1"),c=o.slice(1);return{params:a.reduce((function(e,t,n){if("*"===t){var r=c[n]||"";u=s.slice(0,s.length-r.length).replace(/(.)\/+$/,"$1")}return e[t]=function(e,t){try{return decodeURIComponent(e)}catch(n){return A(!1,'The value for the URL param "'+t+'" will not be decoded because the string "'+e+'" is a malformed URL segment. This is probably due to a bad percent encoding ('+n+")."),e}}(c[n]||"",t),e}),{}),pathname:s,pathnameBase:u,pattern:e}}function $(e){try{return decodeURI(e)}catch(t){return A(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+t+")."),e}}function J(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;var n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function Z(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the `to."+n+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function ee(e){return e.filter((function(e,t){return 0===t||e.route.path&&e.route.path.length>0}))}function te(e,t,n,r){var i;void 0===r&&(r=!1),"string"===typeof e?i=L(e):(P(!(i=C({},e)).pathname||!i.pathname.includes("?"),Z("?","pathname","search",i)),P(!i.pathname||!i.pathname.includes("#"),Z("#","pathname","hash",i)),P(!i.search||!i.search.includes("#"),Z("#","search","hash",i)));var a,o=""===e||""===i.pathname,s=o?"/":i.pathname;if(r||null==s)a=n;else{var u=t.length-1;if(s.startsWith("..")){for(var c=s.split("/");".."===c[0];)c.shift(),u-=1;i.pathname=c.join("/")}a=u>=0?t[u]:"/"}var l=function(e,t){void 0===t&&(t="/");var n="string"===typeof e?L(e):e,r=n.pathname,i=n.search,a=void 0===i?"":i,o=n.hash,s=void 0===o?"":o,u=r?r.startsWith("/")?r:function(e,t){var n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((function(e){".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(r,t):t;return{pathname:u,search:ie(a),hash:ae(s)}}(i,a),f=s&&"/"!==s&&s.endsWith("/"),d=(o||"."===s)&&n.endsWith("/");return l.pathname.endsWith("/")||!f&&!d||(l.pathname+="/"),l}var ne=function(e){return e.join("/").replace(/\/\/+/g,"/")},re=function(e){return e.replace(/\/+$/,"").replace(/^\/*/,"/")},ie=function(e){return e&&"?"!==e?e.startsWith("?")?e:"?"+e:""},ae=function(e){return e&&"#"!==e?e.startsWith("#")?e:"#"+e:""},oe=function(e){b(n,e);var t=_(n);function n(){return h(this,n),t.apply(this,arguments)}return g(n)}(E(Error));function se(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}var ue=["post","put","patch","delete"],ce=(new Set(ue),["get"].concat(ue));new Set(ce),new Set([301,302,303,307,308]),new Set([307,308]);Symbol("deferred");function le(){return le=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},le.apply(this,arguments)}var fe=r.createContext(null);var de=r.createContext(null);var he=r.createContext(null);var pe=r.createContext(null);var ve=r.createContext(null);var me=r.createContext({outlet:null,matches:[],isDataRoute:!1});var ge=r.createContext(null);function ye(){return null!=r.useContext(ve)}function be(){return ye()||P(!1),r.useContext(ve).location}function ke(e){r.useContext(pe).static||r.useLayoutEffect(e)}function we(){return r.useContext(me).isDataRoute?function(){var e=Ae(Oe.UseNavigateStable).router,t=je(Pe.UseNavigateStable),n=r.useRef(!1);ke((function(){n.current=!0}));var i=r.useCallback((function(r,i){void 0===i&&(i={}),n.current&&("number"===typeof r?e.navigate(r):e.navigate(r,le({fromRouteId:t},i)))}),[e,t]);return i}():function(){ye()||P(!1);var e=r.useContext(fe),t=r.useContext(pe),n=t.basename,i=t.navigator,a=r.useContext(me).matches,o=be().pathname,s=JSON.stringify(ee(a).map((function(e){return e.pathnameBase}))),u=r.useRef(!1);return ke((function(){u.current=!0})),r.useCallback((function(t,r){if(void 0===r&&(r={}),u.current)if("number"!==typeof t){var a=te(t,JSON.parse(s),o,"path"===r.relative);null==e&&"/"!==n&&(a.pathname="/"===a.pathname?n:ne([n,a.pathname])),(r.replace?i.replace:i.push)(a,r.state,r)}else i.go(t)}),[n,i,s,o,e])}()}function xe(){var e=r.useContext(me).matches,t=e[e.length-1];return t?t.params:{}}function _e(e,t){var n=(void 0===t?{}:t).relative,i=r.useContext(me).matches,a=be().pathname,o=JSON.stringify(ee(i).map((function(e){return e.pathnameBase})));return r.useMemo((function(){return te(e,JSON.parse(o),a,"path"===n)}),[e,o,a,n])}function Se(e,n,i){ye()||P(!1);var a,o=r.useContext(pe).navigator,s=r.useContext(me).matches,u=s[s.length-1],c=u?u.params:{},l=(u&&u.pathname,u?u.pathnameBase:"/"),f=(u&&u.route,be());if(n){var d,h="string"===typeof n?L(n):n;"/"===l||(null==(d=h.pathname)?void 0:d.startsWith(l))||P(!1),a=h}else a=f;var p=a.pathname||"/",v=U(e,{pathname:"/"===l?p:p.slice(l.length)||"/"});var m=Ne(v&&v.map((function(e){return Object.assign({},e,{params:Object.assign({},c,e.params),pathname:ne([l,o.encodeLocation?o.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?l:ne([l,o.encodeLocation?o.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])})})),s,i);return n&&m?r.createElement(ve.Provider,{value:{location:le({pathname:"/",search:"",hash:"",state:null,key:"default"},a),navigationType:t.Pop}},m):m}function Ee(){var e=function(){var e,t=r.useContext(ge),n=Re(Pe.UseRouteError),i=je(Pe.UseRouteError);if(t)return t;return null==(e=n.errors)?void 0:e[i]}(),t=se(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,i="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:i};return r.createElement(r.Fragment,null,r.createElement("h2",null,"Unexpected Application Error!"),r.createElement("h3",{style:{fontStyle:"italic"}},t),n?r.createElement("pre",{style:a},n):null,null)}var Ie=r.createElement(Ee,null),Te=function(e){b(n,e);var t=_(n);function n(e){var r;return h(this,n),(r=t.call(this,e)).state={location:e.location,revalidation:e.revalidation,error:e.error},r}return g(n,[{key:"componentDidCatch",value:function(e,t){console.error("React Router caught the following error during render",e,t)}},{key:"render",value:function(){return this.state.error?r.createElement(me.Provider,{value:this.props.routeContext},r.createElement(ge.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}],[{key:"getDerivedStateFromError",value:function(e){return{error:e}}},{key:"getDerivedStateFromProps",value:function(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error||t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}}]),n}(r.Component);function Ce(e){var t=e.routeContext,n=e.match,i=e.children,a=r.useContext(fe);return a&&a.static&&a.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=n.route.id),r.createElement(me.Provider,{value:t},i)}function Ne(e,t,n){var i;if(void 0===t&&(t=[]),void 0===n&&(n=null),null==e){var a;if(null==(a=n)||!a.errors)return null;e=n.matches}var o=e,s=null==(i=n)?void 0:i.errors;if(null!=s){var u=o.findIndex((function(e){return e.route.id&&(null==s?void 0:s[e.route.id])}));u>=0||P(!1),o=o.slice(0,Math.min(o.length,u+1))}return o.reduceRight((function(e,i,a){var u=i.route.id?null==s?void 0:s[i.route.id]:null,c=null;n&&(c=i.route.errorElement||Ie);var l=t.concat(o.slice(0,a+1)),f=function(){var t;return t=u?c:i.route.Component?r.createElement(i.route.Component,null):i.route.element?i.route.element:e,r.createElement(Ce,{match:i,routeContext:{outlet:e,matches:l,isDataRoute:null!=n},children:t})};return n&&(i.route.ErrorBoundary||i.route.errorElement||0===a)?r.createElement(Te,{location:n.location,revalidation:n.revalidation,component:c,error:u,children:f(),routeContext:{outlet:null,matches:l,isDataRoute:!0}}):f()}),null)}var Oe=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(Oe||{}),Pe=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(Pe||{});function Ae(e){var t=r.useContext(fe);return t||P(!1),t}function Re(e){var t=r.useContext(de);return t||P(!1),t}function je(e){var t=function(e){var t=r.useContext(me);return t||P(!1),t}(),n=t.matches[t.matches.length-1];return n.route.id||P(!1),n.route.id}i.startTransition;function De(e){P(!1)}function Le(e){var n=e.basename,i=void 0===n?"/":n,a=e.children,o=void 0===a?null:a,s=e.location,u=e.navigationType,c=void 0===u?t.Pop:u,l=e.navigator,f=e.static,d=void 0!==f&&f;ye()&&P(!1);var h=i.replace(/^\/*/,"/"),p=r.useMemo((function(){return{basename:h,navigator:l,static:d}}),[h,l,d]);"string"===typeof s&&(s=L(s));var v=s,m=v.pathname,g=void 0===m?"/":m,y=v.search,b=void 0===y?"":y,k=v.hash,w=void 0===k?"":k,x=v.state,_=void 0===x?null:x,S=v.key,E=void 0===S?"default":S,I=r.useMemo((function(){var e=J(g,h);return null==e?null:{location:{pathname:e,search:b,hash:w,state:_,key:E},navigationType:c}}),[h,g,b,w,_,E,c]);return null==I?null:r.createElement(pe.Provider,{value:p},r.createElement(ve.Provider,{children:o,value:I}))}function Me(e){var t=e.children,n=e.location;return Se(ze(t),n)}var Ue=function(e){return e[e.pending=0]="pending",e[e.success=1]="success",e[e.error=2]="error",e}(Ue||{}),Fe=new Promise((function(){}));r.Component;function ze(e,t){void 0===t&&(t=[]);var n=[];return r.Children.forEach(e,(function(e,i){if(r.isValidElement(e)){var a=[].concat(d(t),[i]);if(e.type!==r.Fragment){e.type!==De&&P(!1),e.props.index&&e.props.children&&P(!1);var o={id:e.props.id||a.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(o.children=ze(e.props.children,a)),n.push(o)}else n.push.apply(n,ze(e.props.children,a))}})),n}function Ve(){return Ve=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ve.apply(this,arguments)}function Be(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);var qe=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset"];var He=i.startTransition;function We(e){var t,n=e.basename,i=e.children,a=e.future,o=e.window,s=r.useRef();null==s.current&&(s.current=(void 0===(t={window:o,v5Compat:!0})&&(t={}),M((function(e,t){var n=L(e.location.hash.substr(1)),r=n.pathname,i=void 0===r?"/":r,a=n.search,o=void 0===a?"":a,s=n.hash,u=void 0===s?"":s;return i.startsWith("/")||i.startsWith(".")||(i="/"+i),j("",{pathname:i,search:o,hash:u},t.state&&t.state.usr||null,t.state&&t.state.key||"default")}),(function(e,t){var n=e.document.querySelector("base"),r="";if(n&&n.getAttribute("href")){var i=e.location.href,a=i.indexOf("#");r=-1===a?i:i.slice(0,a)}return r+"#"+("string"===typeof t?t:D(t))}),(function(e,t){A("/"===e.pathname.charAt(0),"relative pathnames are not supported in hash history.push("+JSON.stringify(t)+")")}),t)));var u=s.current,c=l(r.useState({action:u.action,location:u.location}),2),f=c[0],d=c[1],h=(a||{}).v7_startTransition,p=r.useCallback((function(e){h&&He?He((function(){return d(e)})):d(e)}),[d,h]);return r.useLayoutEffect((function(){return u.listen(p)}),[u,p]),r.createElement(Le,{basename:n,children:i,location:f.location,navigationType:f.action,navigator:u})}var Ge="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement,Ke=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Qe=r.forwardRef((function(e,t){var n,i=e.onClick,a=e.relative,o=e.reloadDocument,s=e.replace,u=e.state,c=e.target,l=e.to,f=e.preventScrollReset,d=Be(e,qe),h=r.useContext(pe).basename,p=!1;if("string"===typeof l&&Ke.test(l)&&(n=l,Ge))try{var v=new URL(window.location.href),m=l.startsWith("//")?new URL(v.protocol+l):new URL(l),g=J(m.pathname,h);m.origin===v.origin&&null!=g?l=g+m.search+m.hash:p=!0}catch(k){}var y=function(e,t){var n=(void 0===t?{}:t).relative;ye()||P(!1);var i=r.useContext(pe),a=i.basename,o=i.navigator,s=_e(e,{relative:n}),u=s.hash,c=s.pathname,l=s.search,f=c;return"/"!==a&&(f="/"===c?a:ne([a,c])),o.createHref({pathname:f,search:l,hash:u})}(l,{relative:a}),b=function(e,t){var n=void 0===t?{}:t,i=n.target,a=n.replace,o=n.state,s=n.preventScrollReset,u=n.relative,c=we(),l=be(),f=_e(e,{relative:u});return r.useCallback((function(t){if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(t,i)){t.preventDefault();var n=void 0!==a?a:D(l)===D(f);c(e,{replace:n,state:o,preventScrollReset:s,relative:u})}}),[l,c,f,a,o,i,e,s,u])}(l,{replace:s,state:u,target:c,preventScrollReset:f,relative:a});return r.createElement("a",Ve({},d,{href:n||y,onClick:p||o?i:function(e){i&&i(e),e.defaultPrevented||b(e)},ref:t,target:c}))}));var Ye,Xe;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher"})(Ye||(Ye={})),function(e){e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(Xe||(Xe={}));function $e(){$e=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,i=Object.defineProperty||function(e,t,n){e[t]=n.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",s=a.asyncIterator||"@@asyncIterator",u=a.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,n){return e[t]=n}}function l(e,t,n,r){var a=t&&t.prototype instanceof y?t:y,o=Object.create(a.prototype),s=new P(r||[]);return i(o,"_invoke",{value:T(e,n,s)}),o}function f(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=l;var d="suspendedStart",h="suspendedYield",v="executing",m="completed",g={};function y(){}function b(){}function k(){}var w={};c(w,o,(function(){return this}));var x=Object.getPrototypeOf,_=x&&x(x(A([])));_&&_!==n&&r.call(_,o)&&(w=_);var S=k.prototype=y.prototype=Object.create(w);function E(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function I(e,t){function n(i,a,o,s){var u=f(e[i],e,a);if("throw"!==u.type){var c=u.arg,l=c.value;return l&&"object"==p(l)&&r.call(l,"__await")?t.resolve(l.__await).then((function(e){n("next",e,o,s)}),(function(e){n("throw",e,o,s)})):t.resolve(l).then((function(e){c.value=e,o(c)}),(function(e){return n("throw",e,o,s)}))}s(u.arg)}var a;i(this,"_invoke",{value:function(e,r){function i(){return new t((function(t,i){n(e,r,t,i)}))}return a=a?a.then(i,i):i()}})}function T(t,n,r){var i=d;return function(a,o){if(i===v)throw new Error("Generator is already running");if(i===m){if("throw"===a)throw o;return{value:e,done:!0}}for(r.method=a,r.arg=o;;){var s=r.delegate;if(s){var u=C(s,r);if(u){if(u===g)continue;return u}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(i===d)throw i=m,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);i=v;var c=f(t,n,r);if("normal"===c.type){if(i=r.done?m:h,c.arg===g)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(i=m,r.method="throw",r.arg=c.arg)}}}function C(t,n){var r=n.method,i=t.iterator[r];if(i===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,C(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),g;var a=f(i,t.iterator,n.arg);if("throw"===a.type)return n.method="throw",n.arg=a.arg,n.delegate=null,g;var o=a.arg;return o?o.done?(n[t.resultName]=o.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,g):o:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,g)}function N(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function O(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function P(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(N,this),this.reset(!0)}function A(t){if(t||""===t){var n=t[o];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var i=-1,a=function n(){for(;++i<t.length;)if(r.call(t,i))return n.value=t[i],n.done=!1,n;return n.value=e,n.done=!0,n};return a.next=a}}throw new TypeError(p(t)+" is not iterable")}return b.prototype=k,i(S,"constructor",{value:k,configurable:!0}),i(k,"constructor",{value:b,configurable:!0}),b.displayName=c(k,u,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===b||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,k):(e.__proto__=k,c(e,u,"GeneratorFunction")),e.prototype=Object.create(S),e},t.awrap=function(e){return{__await:e}},E(I.prototype),c(I.prototype,s,(function(){return this})),t.AsyncIterator=I,t.async=function(e,n,r,i,a){void 0===a&&(a=Promise);var o=new I(l(e,n,r,i),a);return t.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},E(S),c(S,u,"Generator"),c(S,o,(function(){return this})),c(S,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=A,P.prototype={constructor:P,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(O),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function i(r,i){return s.type="throw",s.arg=t,n.next=r,i&&(n.method="next",n.arg=e),!!i}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],s=o.completion;if("root"===o.tryLoc)return i("end");if(o.tryLoc<=this.prev){var u=r.call(o,"catchLoc"),c=r.call(o,"finallyLoc");if(u&&c){if(this.prev<o.catchLoc)return i(o.catchLoc,!0);if(this.prev<o.finallyLoc)return i(o.finallyLoc)}else if(u){if(this.prev<o.catchLoc)return i(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return i(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,g):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),g},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),O(n),g}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;O(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:A(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),g}},t}function Je(e,t,n,r,i,a,o){try{var s=e[a](o),u=s.value}catch(c){return void n(c)}s.done?t(u):Promise.resolve(u).then(r,i)}function Ze(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function o(e){Je(a,r,i,o,s,"next",e)}function s(e){Je(a,r,i,o,s,"throw",e)}o(void 0)}))}}var et={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},tt=r.createContext&&r.createContext(et),nt=function(){return nt=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},nt.apply(this,arguments)},rt=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};function it(e){return e&&e.map((function(e,t){return r.createElement(e.tag,nt({key:t},e.attr),it(e.child))}))}function at(e){return function(t){return r.createElement(ot,nt({attr:nt({},e.attr)},t),it(e.child))}}function ot(e){var t=function(t){var n,i=e.attr,a=e.size,o=e.title,s=rt(e,["attr","size","title"]),u=a||t.size||"1em";return t.className&&(n=t.className),e.className&&(n=(n?n+" ":"")+e.className),r.createElement("svg",nt({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,i,s,{className:n,style:nt(nt({color:e.color||t.color},t.style),e.style),height:u,width:u,xmlns:"http://www.w3.org/2000/svg"}),o&&r.createElement("title",null,o),e.children)};return void 0!==tt?r.createElement(tt.Consumer,null,(function(e){return t(e)})):t(et)}function st(e){return at({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 256C504 119 393 8 256 8S8 119 8 256c0 123.78 90.69 226.38 209.25 245V327.69h-63V256h63v-54.64c0-62.15 37-96.48 93.67-96.48 27.14 0 55.52 4.84 55.52 4.84v61h-31.28c-30.8 0-40.41 19.12-40.41 38.73V256h68.78l-11 71.69h-57.78V501C413.31 482.38 504 379.78 504 256z"}}]})(e)}function ut(e){return at({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224.1 141c-63.6 0-114.9 51.3-114.9 114.9s51.3 114.9 114.9 114.9S339 319.5 339 255.9 287.7 141 224.1 141zm0 189.6c-41.1 0-74.7-33.5-74.7-74.7s33.5-74.7 74.7-74.7 74.7 33.5 74.7 74.7-33.6 74.7-74.7 74.7zm146.4-194.3c0 14.9-12 26.8-26.8 26.8-14.9 0-26.8-12-26.8-26.8s12-26.8 26.8-26.8 26.8 12 26.8 26.8zm76.1 27.2c-1.7-35.9-9.9-67.7-36.2-93.9-26.2-26.2-58-34.4-93.9-36.2-37-2.1-147.9-2.1-184.9 0-35.8 1.7-67.6 9.9-93.9 36.1s-34.4 58-36.2 93.9c-2.1 37-2.1 147.9 0 184.9 1.7 35.9 9.9 67.7 36.2 93.9s58 34.4 93.9 36.2c37 2.1 147.9 2.1 184.9 0 35.9-1.7 67.7-9.9 93.9-36.2 26.2-26.2 34.4-58 36.2-93.9 2.1-37 2.1-147.8 0-184.8zM398.8 388c-7.8 19.6-22.9 34.7-42.6 42.6-29.5 11.7-99.5 9-132.1 9s-102.7 2.6-132.1-9c-19.6-7.8-34.7-22.9-42.6-42.6-11.7-29.5-9-99.5-9-132.1s-2.6-102.7 9-132.1c7.8-19.6 22.9-34.7 42.6-42.6 29.5-11.7 99.5-9 132.1-9s102.7-2.6 132.1 9c19.6 7.8 34.7 22.9 42.6 42.6 11.7 29.5 9 99.5 9 132.1s2.7 102.7-9 132.1z"}}]})(e)}function ct(e){return at({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M380.9 97.1C339 55.1 283.2 32 223.9 32c-122.4 0-222 99.6-222 222 0 39.1 10.2 77.3 29.6 111L0 480l117.7-30.9c32.4 17.7 68.9 27 106.1 27h.1c122.3 0 224.1-99.6 224.1-222 0-59.3-25.2-115-67.1-157zm-157 341.6c-33.2 0-65.7-8.9-94-25.7l-6.7-4-69.8 18.3L72 359.2l-4.4-7c-18.5-29.4-28.2-63.3-28.2-98.2 0-101.7 82.8-184.5 184.6-184.5 49.3 0 95.6 19.2 130.4 54.1 34.8 34.9 56.2 81.2 56.1 130.5 0 101.8-84.9 184.6-186.6 184.6zm101.2-138.2c-5.5-2.8-32.8-16.2-37.9-18-5.1-1.9-8.8-2.8-12.5 2.8-3.7 5.6-14.3 18-17.6 21.8-3.2 3.7-6.5 4.2-12 1.4-32.6-16.3-54-29.1-75.5-66-5.7-9.8 5.7-9.1 16.3-30.3 1.8-3.7.9-6.9-.5-9.7-1.4-2.8-12.5-30.1-17.1-41.2-4.5-10.8-9.1-9.3-12.5-9.5-3.2-.2-6.9-.2-10.6-.2-3.7 0-9.7 1.4-14.8 6.9-5.1 5.6-19.4 19-19.4 46.3 0 27.3 19.9 53.7 22.6 57.4 2.8 3.7 39.1 59.7 94.8 83.8 35.2 15.2 49 16.5 66.6 13.9 10.7-1.6 32.8-13.4 37.4-26.4 4.6-13 4.6-24.1 3.2-26.4-1.3-2.5-5-3.9-10.5-6.6z"}}]})(e)}function lt(e){return at({tag:"svg",attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M34.52 239.03L228.87 44.69c9.37-9.37 24.57-9.37 33.94 0l22.67 22.67c9.36 9.36 9.37 24.52.04 33.9L131.49 256l154.02 154.75c9.34 9.38 9.32 24.54-.04 33.9l-22.67 22.67c-9.37 9.37-24.57 9.37-33.94 0L34.52 272.97c-9.37-9.37-9.37-24.57 0-33.94z"}}]})(e)}function ft(e){return at({tag:"svg",attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M285.476 272.971L91.132 467.314c-9.373 9.373-24.569 9.373-33.941 0l-22.667-22.667c-9.357-9.357-9.375-24.522-.04-33.901L188.505 256 34.484 101.255c-9.335-9.379-9.317-24.544.04-33.901l22.667-22.667c9.373-9.373 24.569-9.373 33.941 0L285.475 239.03c9.373 9.372 9.373 24.568.001 33.941z"}}]})(e)}function dt(e){return at({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M497.9 142.1l-46.1 46.1c-4.7 4.7-12.3 4.7-17 0l-111-111c-4.7-4.7-4.7-12.3 0-17l46.1-46.1c18.7-18.7 49.1-18.7 67.9 0l60.1 60.1c18.8 18.7 18.8 49.1 0 67.9zM284.2 99.8L21.6 362.4.4 483.9c-2.9 16.4 11.4 30.6 27.8 27.8l121.5-21.3 262.6-262.6c4.7-4.7 4.7-12.3 0-17l-111-111c-4.8-4.7-12.4-4.7-17.1 0zM124.1 339.9c-5.5-5.5-5.5-14.3 0-19.8l154-154c5.5-5.5 14.3-5.5 19.8 0s5.5 14.3 0 19.8l-154 154c-5.5 5.5-14.3 5.5-19.8 0zM88 424h48v36.3l-64.5 11.3-31.1-31.1L51.7 376H88v48z"}}]})(e)}function ht(e){return at({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M416 448h-84c-6.6 0-12-5.4-12-12v-40c0-6.6 5.4-12 12-12h84c17.7 0 32-14.3 32-32V160c0-17.7-14.3-32-32-32h-84c-6.6 0-12-5.4-12-12V76c0-6.6 5.4-12 12-12h84c53 0 96 43 96 96v192c0 53-43 96-96 96zm-47-201L201 79c-15-15-41-4.5-41 17v96H24c-13.3 0-24 10.7-24 24v96c0 13.3 10.7 24 24 24h136v96c0 21.5 26 32 41 17l168-168c9.3-9.4 9.3-24.6 0-34z"}}]})(e)}function pt(e){return at({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M497 273L329 441c-15 15-41 4.5-41-17v-96H152c-13.3 0-24-10.7-24-24v-96c0-13.3 10.7-24 24-24h136V88c0-21.4 25.9-32 41-17l168 168c9.3 9.4 9.3 24.6 0 34zM192 436v-40c0-6.6-5.4-12-12-12H96c-17.7 0-32-14.3-32-32V160c0-17.7 14.3-32 32-32h84c6.6 0 12-5.4 12-12V76c0-6.6-5.4-12-12-12H96c-53 0-96 43-96 96v192c0 53 43 96 96 96h84c6.6 0 12-5.4 12-12z"}}]})(e)}function vt(e){return at({tag:"svg",attr:{viewBox:"0 0 536 512"},child:[{tag:"path",attr:{d:"M508.55 171.51L362.18 150.2 296.77 17.81C290.89 5.98 279.42 0 267.95 0c-11.4 0-22.79 5.9-28.69 17.81l-65.43 132.38-146.38 21.29c-26.25 3.8-36.77 36.09-17.74 54.59l105.89 103-25.06 145.48C86.98 495.33 103.57 512 122.15 512c4.93 0 10-1.17 14.87-3.75l130.95-68.68 130.94 68.7c4.86 2.55 9.92 3.71 14.83 3.71 18.6 0 35.22-16.61 31.66-37.4l-25.03-145.49 105.91-102.98c19.04-18.5 8.52-50.8-17.73-54.6zm-121.74 123.2l-18.12 17.62 4.28 24.88 19.52 113.45-102.13-53.59-22.38-11.74.03-317.19 51.03 103.29 11.18 22.63 25.01 3.64 114.23 16.63-82.65 80.38z"}}]})(e)}function mt(e){return at({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M259.3 17.8L194 150.2 47.9 171.5c-26.2 3.8-36.7 36.1-17.7 54.6l105.7 103-25 145.5c-4.5 26.3 23.2 46 46.4 33.7L288 439.6l130.7 68.7c23.2 12.2 50.9-7.4 46.4-33.7l-25-145.5 105.7-103c19-18.5 8.5-50.8-17.7-54.6L382 150.2 316.7 17.8c-11.7-23.6-45.6-23.9-57.4 0z"}}]})(e)}function gt(e){return at({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M104 224H24c-13.255 0-24 10.745-24 24v240c0 13.255 10.745 24 24 24h80c13.255 0 24-10.745 24-24V248c0-13.255-10.745-24-24-24zM64 472c-13.255 0-24-10.745-24-24s10.745-24 24-24 24 10.745 24 24-10.745 24-24 24zM384 81.452c0 42.416-25.97 66.208-33.277 94.548h101.723c33.397 0 59.397 27.746 59.553 58.098.084 17.938-7.546 37.249-19.439 49.197l-.11.11c9.836 23.337 8.237 56.037-9.308 79.469 8.681 25.895-.069 57.704-16.382 74.757 4.298 17.598 2.244 32.575-6.148 44.632C440.202 511.587 389.616 512 346.839 512l-2.845-.001c-48.287-.017-87.806-17.598-119.56-31.725-15.957-7.099-36.821-15.887-52.651-16.178-6.54-.12-11.783-5.457-11.783-11.998v-213.77c0-3.2 1.282-6.271 3.558-8.521 39.614-39.144 56.648-80.587 89.117-113.111 14.804-14.832 20.188-37.236 25.393-58.902C282.515 39.293 291.817 0 312 0c24 0 72 8 72 81.452z"}}]})(e)}function yt(e){return at({tag:"svg",attr:{viewBox:"0 0 352 512"},child:[{tag:"path",attr:{d:"M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z"}}]})(e)}function bt(e){return at({tag:"svg",attr:{viewBox:"0 0 496 512"},child:[{tag:"path",attr:{d:"M248 8C111 8 0 119 0 256s111 248 248 248 248-111 248-248S385 8 248 8zm0 96c48.6 0 88 39.4 88 88s-39.4 88-88 88-88-39.4-88-88 39.4-88 88-88zm0 344c-58.7 0-111.3-26.6-146.5-68.2 18.8-35.4 55.6-59.8 98.5-59.8 2.4 0 4.8.4 7.1 1.1 13 4.2 26.6 6.9 40.9 6.9 14.3 0 28-2.7 40.9-6.9 2.3-.7 4.7-1.1 7.1-1.1 42.9 0 79.7 24.4 98.5 59.8C359.3 421.4 306.7 448 248 448z"}}]})(e)}function kt(e){return at({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M624 208h-64v-64c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v64h-64c-8.8 0-16 7.2-16 16v32c0 8.8 7.2 16 16 16h64v64c0 8.8 7.2 16 16 16h32c8.8 0 16-7.2 16-16v-64h64c8.8 0 16-7.2 16-16v-32c0-8.8-7.2-16-16-16zm-400 48c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-74.2-60.2-134.4-134.4-134.4z"}}]})(e)}function wt(e){return at({tag:"svg",attr:{viewBox:"0 0 416 512"},child:[{tag:"path",attr:{d:"M207.9 15.2c.8 4.7 16.1 94.5 16.1 128.8 0 52.3-27.8 89.6-68.9 104.6L168 486.7c.7 13.7-10.2 25.3-24 25.3H80c-13.7 0-24.7-11.5-24-25.3l12.9-238.1C27.7 233.6 0 196.2 0 144 0 109.6 15.3 19.9 16.1 15.2 19.3-5.1 61.4-5.4 64 16.3v141.2c1.3 3.4 15.1 3.2 16 0 1.4-25.3 7.9-139.2 8-141.8 3.3-20.8 44.7-20.8 47.9 0 .2 2.7 6.6 116.5 8 141.8.9 3.2 14.8 3.4 16 0V16.3c2.6-21.6 44.8-21.4 48-1.1zm119.2 285.7l-15 185.1c-1.2 14 9.9 26 23.9 26h56c13.3 0 24-10.7 24-24V24c0-13.2-10.7-24-24-24-82.5 0-221.4 178.5-64.9 300.9z"}}]})(e)}function xt(e,t,n){return(t=v(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _t(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function St(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_t(Object(n),!0).forEach((function(t){xt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_t(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Et=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},It={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<e.length;i+=3){var a=e[i],o=i+1<e.length,s=o?e[i+1]:0,u=i+2<e.length,c=u?e[i+2]:0,l=a>>2,f=(3&a)<<4|s>>4,d=(15&s)<<2|c>>6,h=63&c;u||(h=64,o||(d=64)),r.push(n[l],n[f],n[d],n[h])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(Et(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){for(var t=[],n=0,r=0;n<e.length;){var i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){var a=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&a)}else if(i>239&&i<365){var o=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(o>>10)),t[r++]=String.fromCharCode(56320+(1023&o))}else{var s=e[n++],u=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&u)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<e.length;){var a=n[e.charAt(i++)],o=i<e.length?n[e.charAt(i)]:0,s=++i<e.length?n[e.charAt(i)]:64,u=++i<e.length?n[e.charAt(i)]:64;if(++i,null==a||null==o||null==s||null==u)throw new Tt;var c=a<<2|o>>4;if(r.push(c),64!==s){var l=o<<4&240|s>>2;if(r.push(l),64!==u){var f=s<<6&192|u;r.push(f)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},Tt=function(e){b(n,e);var t=_(n);function n(){var e;return h(this,n),(e=t.apply(this,arguments)).name="DecodeBase64StringError",e}return g(n)}(E(Error)),Ct=function(e){return function(e){var t=Et(e);return It.encodeByteArray(t,!0)}(e).replace(/\./g,"")},Nt=function(e){try{return It.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function Ot(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(var n in t)t.hasOwnProperty(n)&&"__proto__"!==n&&(e[n]=Ot(e[n],t[n]));return e}var Pt=function(){return function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__},At=function(){try{return Pt()||function(){if("undefined"!==typeof process){var e={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_FIREBASE_API_KEY:"AIzaSyBz9Ju2NNQn3cnzYTkDHSgd-DUI1HHy-50",REACT_APP_FIREBASE_APP_ID:"1:1004424511784:web:bef14f89e2242cf3e7d01d",REACT_APP_FIREBASE_AUTH_DOMAIN:"resep-masakan-1005a.firebaseapp.com",REACT_APP_FIREBASE_DATABASE_URL:"https://resep-masakan-1005a-default-rtdb.asia-southeast1.firebasedatabase.app",REACT_APP_FIREBASE_MEASUREMENT_ID:"G-VJCLGVPJF3",REACT_APP_FIREBASE_MESSAGING_SENDER_ID:"1004424511784",REACT_APP_FIREBASE_PROJECT_ID:"resep-masakan-1005a",REACT_APP_FIREBASE_STORAGE_BUCKET:"resep-masakan-1005a.appspot.com"}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0}}()||function(){if("undefined"!==typeof document){var e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(n){return}var t=e&&Nt(e[1]);return t&&JSON.parse(t)}}()}catch(e){return void console.info("Unable to get __FIREBASE_DEFAULTS__ due to: ".concat(e))}},Rt=function(){var e;return null===(e=At())||void 0===e?void 0:e.config},jt=function(){function e(){var t=this;h(this,e),this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return g(e,[{key:"wrapCallback",value:function(e){var t=this;return function(n,r){n?t.reject(n):t.resolve(r),"function"===typeof e&&(t.promise.catch((function(){})),1===e.length?e(n):e(n,r))}}}]),e}();function Dt(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var a=Object.assign({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[Ct(JSON.stringify({alg:"none",type:"JWT"})),Ct(JSON.stringify(a)),""].join(".")}function Lt(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function Mt(){var e,t=null===(e=At())||void 0===e?void 0:e.forceEnvironment;if("node"===t)return!0;if("browser"===t)return!1;try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(r){return!1}}function Ut(){var e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}function Ft(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function zt(){var e=Lt();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function Vt(){try{return"object"===typeof indexedDB}catch(e){return!1}}var Bt=function(e){b(n,e);var t=_(n);function n(e,r,i){var a;return h(this,n),(a=t.call(this,r)).code=e,a.customData=i,a.name="FirebaseError",Object.setPrototypeOf(x(a),n.prototype),Error.captureStackTrace&&Error.captureStackTrace(x(a),qt.prototype.create),a}return g(n)}(E(Error)),qt=function(){function e(t,n,r){h(this,e),this.service=t,this.serviceName=n,this.errors=r}return g(e,[{key:"create",value:function(e){var t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?function(e,t){return e.replace(Ht,(function(e,n){var r=t[n];return null!=r?String(r):"<".concat(n,"?>")}))}(r,t):"Error",a="".concat(this.serviceName,": ").concat(i," (").concat(n,").");return new Bt(n,a,t)}}]),e}();var Ht=/\{\$([^}]+)}/g;function Wt(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function Gt(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function Kt(e,t){if(e===t)return!0;for(var n=Object.keys(e),r=Object.keys(t),i=0,a=n;i<a.length;i++){var o=a[i];if(!r.includes(o))return!1;var s=e[o],u=t[o];if(Qt(s)&&Qt(u)){if(!Kt(s,u))return!1}else if(s!==u)return!1}for(var c=0,l=r;c<l.length;c++){var f=l[c];if(!n.includes(f))return!1}return!0}function Qt(e){return null!==e&&"object"===typeof e}function Yt(e){for(var t=[],n=function(){var e=l(i[r],2),n=e[0],a=e[1];Array.isArray(a)?a.forEach((function(e){t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(a))},r=0,i=Object.entries(e);r<i.length;r++)n();return t.length?"&"+t.join("&"):""}function Xt(e){var t={};return e.replace(/^\?/,"").split("&").forEach((function(e){if(e){var n=l(e.split("="),2),r=n[0],i=n[1];t[decodeURIComponent(r)]=decodeURIComponent(i)}})),t}function $t(e){var t=e.indexOf("?");if(!t)return"";var n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}function Jt(e,t){var n=new Zt(e,t);return n.subscribe.bind(n)}var Zt=function(){function e(t,n){var r=this;h(this,e),this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then((function(){t(r)})).catch((function(e){r.error(e)}))}return g(e,[{key:"next",value:function(e){this.forEachObserver((function(t){t.next(e)}))}},{key:"error",value:function(e){this.forEachObserver((function(t){t.error(e)})),this.close(e)}},{key:"complete",value:function(){this.forEachObserver((function(e){e.complete()})),this.close()}},{key:"subscribe",value:function(e,t,n){var r,i=this;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=T(t);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i in e&&"function"===typeof e[i])return!0}}catch(a){r.e(a)}finally{r.f()}return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n}).next&&(r.next=en),void 0===r.error&&(r.error=en),void 0===r.complete&&(r.complete=en);var a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(e){}})),this.observers.push(r),a}},{key:"unsubscribeOne",value:function(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}},{key:"forEachObserver",value:function(e){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,e)}},{key:"sendOne",value:function(e,t){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[e])try{t(n.observers[e])}catch(r){"undefined"!==typeof console&&console.error&&console.error(r)}}))}},{key:"close",value:function(e){var t=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((function(){t.observers=void 0,t.onNoObservers=void 0})))}}]),e}();function en(){}function tn(e){return e&&e._delegate?e._delegate:e}var nn=function(){function e(t,n,r){h(this,e),this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return g(e,[{key:"setInstantiationMode",value:function(e){return this.instantiationMode=e,this}},{key:"setMultipleInstances",value:function(e){return this.multipleInstances=e,this}},{key:"setServiceProps",value:function(e){return this.serviceProps=e,this}},{key:"setInstanceCreatedCallback",value:function(e){return this.onInstanceCreated=e,this}}]),e}(),rn="[DEFAULT]",an=function(){function e(t,n){h(this,e),this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return g(e,[{key:"get",value:function(e){var t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){var n=new jt;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:t});r&&n.resolve(r)}catch(i){}}return this.instancesDeferred.get(t).promise}},{key:"getImmediate",value:function(e){var t,n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}}},{key:"getComponent",value:function(){return this.component}},{key:"setComponent",value:function(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:rn})}catch(u){}var t,n=T(this.instancesDeferred.entries());try{for(n.s();!(t=n.n()).done;){var r=l(t.value,2),i=r[0],a=r[1],o=this.normalizeInstanceIdentifier(i);try{var s=this.getOrInitializeService({instanceIdentifier:o});a.resolve(s)}catch(u){}}}catch(c){n.e(c)}finally{n.f()}}}},{key:"clearInstance",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:rn;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}},{key:"delete",value:function(){var e=Ze($e().mark((function e(){var t;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Array.from(this.instances.values()),e.next=3,Promise.all([].concat(d(t.filter((function(e){return"INTERNAL"in e})).map((function(e){return e.INTERNAL.delete()}))),d(t.filter((function(e){return"_delete"in e})).map((function(e){return e._delete()})))));case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"isComponentSet",value:function(){return null!=this.component}},{key:"isInitialized",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:rn;return this.instances.has(e)}},{key:"getOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:rn;return this.instancesOptions.get(e)||{}}},{key:"initialize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.options,n=void 0===t?{}:t,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error("".concat(this.name,"(").concat(r,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));var i,a=this.getOrInitializeService({instanceIdentifier:r,options:n}),o=T(this.instancesDeferred.entries());try{for(o.s();!(i=o.n()).done;){var s=l(i.value,2),u=s[0],c=s[1];r===this.normalizeInstanceIdentifier(u)&&c.resolve(a)}}catch(f){o.e(f)}finally{o.f()}return a}},{key:"onInit",value:function(e,t){var n,r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);var a=this.instances.get(r);return a&&e(a,r),function(){i.delete(e)}}},{key:"invokeOnInitCallbacks",value:function(e,t){var n=this.onInitCallbacks.get(t);if(n){var r,i=T(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;try{a(e,t)}catch(o){}}}catch(s){i.e(s)}finally{i.f()}}}},{key:"getOrInitializeService",value:function(e){var t,n=e.instanceIdentifier,r=e.options,i=void 0===r?{}:r,a=this.instances.get(n);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:(t=n,t===rn?void 0:t),options:i}),this.instances.set(n,a),this.instancesOptions.set(n,i),this.invokeOnInitCallbacks(a,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,a)}catch(o){}return a||null}},{key:"normalizeInstanceIdentifier",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:rn;return this.component?this.component.multipleInstances?e:rn:e}},{key:"shouldAutoInitialize",value:function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}]),e}();var on,sn,un=function(){function e(t){h(this,e),this.name=t,this.providers=new Map}return g(e,[{key:"addComponent",value:function(e){var t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}},{key:"addOrOverwriteComponent",value:function(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}},{key:"getProvider",value:function(e){if(this.providers.has(e))return this.providers.get(e);var t=new an(e,this);return this.providers.set(e,t),t}},{key:"getProviders",value:function(){return Array.from(this.providers.values())}}]),e}(),cn=[];!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(sn||(sn={}));var ln={debug:sn.DEBUG,verbose:sn.VERBOSE,info:sn.INFO,warn:sn.WARN,error:sn.ERROR,silent:sn.SILENT},fn=sn.INFO,dn=(xt(on={},sn.DEBUG,"log"),xt(on,sn.VERBOSE,"log"),xt(on,sn.INFO,"info"),xt(on,sn.WARN,"warn"),xt(on,sn.ERROR,"error"),on),hn=function(e,t){if(!(t<e.logLevel)){var n=(new Date).toISOString(),r=dn[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i,a=arguments.length,o=new Array(a>2?a-2:0),s=2;s<a;s++)o[s-2]=arguments[s];(i=console)[r].apply(i,["[".concat(n,"]  ").concat(e.name,":")].concat(o))}},pn=function(){function e(t){h(this,e),this.name=t,this._logLevel=fn,this._logHandler=hn,this._userLogHandler=null,cn.push(this)}return g(e,[{key:"logLevel",get:function(){return this._logLevel},set:function(e){if(!(e in sn))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}},{key:"setLogLevel",value:function(e){this._logLevel="string"===typeof e?ln[e]:e}},{key:"logHandler",get:function(){return this._logHandler},set:function(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}},{key:"userLogHandler",get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e}},{key:"debug",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,sn.DEBUG].concat(t)),this._logHandler.apply(this,[this,sn.DEBUG].concat(t))}},{key:"log",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,sn.VERBOSE].concat(t)),this._logHandler.apply(this,[this,sn.VERBOSE].concat(t))}},{key:"info",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,sn.INFO].concat(t)),this._logHandler.apply(this,[this,sn.INFO].concat(t))}},{key:"warn",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,sn.WARN].concat(t)),this._logHandler.apply(this,[this,sn.WARN].concat(t))}},{key:"error",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,sn.ERROR].concat(t)),this._logHandler.apply(this,[this,sn.ERROR].concat(t))}}]),e}();var vn,mn,gn=function(e,t){return t.some((function(t){return e instanceof t}))};var yn=new WeakMap,bn=new WeakMap,kn=new WeakMap,wn=new WeakMap,xn=new WeakMap;var _n={get:function(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return bn.get(e);if("objectStoreNames"===t)return e.objectStoreNames||kn.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return In(e[t])},set:function(e,t,n){return e[t]=n,!0},has:function(e,t){return e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e}};function Sn(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(mn||(mn=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(Tn(this),n),In(yn.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return In(e.apply(Tn(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];var a=e.call.apply(e,[Tn(this),t].concat(r));return kn.set(a,t.sort?t.sort():[t]),In(a)}}function En(e){return"function"===typeof e?Sn(e):(e instanceof IDBTransaction&&function(e){if(!bn.has(e)){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("complete",i),e.removeEventListener("error",a),e.removeEventListener("abort",a)},i=function(){t(),r()},a=function(){n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",a),e.addEventListener("abort",a)}));bn.set(e,t)}}(e),gn(e,vn||(vn=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction]))?new Proxy(e,_n):e)}function In(e){if(e instanceof IDBRequest)return function(e){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("success",i),e.removeEventListener("error",a)},i=function(){t(In(e.result)),r()},a=function(){n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",a)}));return t.then((function(t){t instanceof IDBCursor&&yn.set(t,e)})).catch((function(){})),xn.set(t,e),t}(e);if(wn.has(e))return wn.get(e);var t=En(e);return t!==e&&(wn.set(e,t),xn.set(t,e)),t}var Tn=function(e){return xn.get(e)};var Cn,Nn,On=["get","getKey","getAll","getAllKeys","count"],Pn=["put","add","delete","clear"],An=new Map;function Rn(e,t){if(e instanceof IDBDatabase&&!(t in e)&&"string"===typeof t){if(An.get(t))return An.get(t);var n=t.replace(/FromIndex$/,""),r=t!==n,i=Pn.includes(n);if(n in(r?IDBIndex:IDBObjectStore).prototype&&(i||On.includes(n))){var a=function(){var e=Ze($e().mark((function e(t){var a,o,s,u,c,l,f=arguments;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(o=this.transaction(t,i?"readwrite":"readonly"),s=o.store,u=f.length,c=new Array(u>1?u-1:0),l=1;l<u;l++)c[l-1]=f[l];return r&&(s=s.index(c.shift())),e.next=6,Promise.all([(a=s)[n].apply(a,c),i&&o.done]);case 6:return e.abrupt("return",e.sent[0]);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}();return An.set(t,a),a}}}_n=function(e){return St(St({},e),{},{get:function(t,n,r){return Rn(t,n)||e.get(t,n,r)},has:function(t,n){return!!Rn(t,n)||e.has(t,n)}})}(_n);var jn=function(){function e(t){h(this,e),this.container=t}return g(e,[{key:"getPlatformInfoString",value:function(){return this.container.getProviders().map((function(e){if(function(e){var t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){var t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null})).filter((function(e){return e})).join(" ")}}]),e}();var Dn="@firebase/app",Ln="0.9.17",Mn=new pn("@firebase/app"),Un="[DEFAULT]",Fn=(xt(Cn={},Dn,"fire-core"),xt(Cn,"@firebase/app-compat","fire-core-compat"),xt(Cn,"@firebase/analytics","fire-analytics"),xt(Cn,"@firebase/analytics-compat","fire-analytics-compat"),xt(Cn,"@firebase/app-check","fire-app-check"),xt(Cn,"@firebase/app-check-compat","fire-app-check-compat"),xt(Cn,"@firebase/auth","fire-auth"),xt(Cn,"@firebase/auth-compat","fire-auth-compat"),xt(Cn,"@firebase/database","fire-rtdb"),xt(Cn,"@firebase/database-compat","fire-rtdb-compat"),xt(Cn,"@firebase/functions","fire-fn"),xt(Cn,"@firebase/functions-compat","fire-fn-compat"),xt(Cn,"@firebase/installations","fire-iid"),xt(Cn,"@firebase/installations-compat","fire-iid-compat"),xt(Cn,"@firebase/messaging","fire-fcm"),xt(Cn,"@firebase/messaging-compat","fire-fcm-compat"),xt(Cn,"@firebase/performance","fire-perf"),xt(Cn,"@firebase/performance-compat","fire-perf-compat"),xt(Cn,"@firebase/remote-config","fire-rc"),xt(Cn,"@firebase/remote-config-compat","fire-rc-compat"),xt(Cn,"@firebase/storage","fire-gcs"),xt(Cn,"@firebase/storage-compat","fire-gcs-compat"),xt(Cn,"@firebase/firestore","fire-fst"),xt(Cn,"@firebase/firestore-compat","fire-fst-compat"),xt(Cn,"fire-js","fire-js"),xt(Cn,"firebase","fire-js-all"),Cn),zn=new Map,Vn=new Map;function Bn(e,t){try{e.container.addComponent(t)}catch(n){Mn.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),n)}}function qn(e,t){e.container.addOrOverwriteComponent(t)}function Hn(e){var t=e.name;if(Vn.has(t))return Mn.debug("There were multiple attempts to register component ".concat(t,".")),!1;Vn.set(t,e);var n,r=T(zn.values());try{for(r.s();!(n=r.n()).done;){Bn(n.value,e)}}catch(i){r.e(i)}finally{r.f()}return!0}function Wn(e,t){var n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function Gn(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Un;Wn(e,t).clearInstance(n)}function Kn(){Vn.clear()}var Qn=(xt(Nn={},"no-app","No Firebase App '{$appName}' has been created - call initializeApp() first"),xt(Nn,"bad-app-name","Illegal App name: '{$appName}"),xt(Nn,"duplicate-app","Firebase App named '{$appName}' already exists with different options or config"),xt(Nn,"app-deleted","Firebase App named '{$appName}' already deleted"),xt(Nn,"no-options","Need to provide options, when not being deployed to hosting via source."),xt(Nn,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),xt(Nn,"invalid-log-argument","First argument to `onLog` must be null or a function."),xt(Nn,"idb-open","Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}."),xt(Nn,"idb-get","Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}."),xt(Nn,"idb-set","Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}."),xt(Nn,"idb-delete","Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."),Nn),Yn=new qt("app","Firebase",Qn),Xn=function(){function e(t,n,r){var i=this;h(this,e),this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new nn("app",(function(){return i}),"PUBLIC"))}return g(e,[{key:"automaticDataCollectionEnabled",get:function(){return this.checkDestroyed(),this._automaticDataCollectionEnabled},set:function(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this.checkDestroyed(),this._name}},{key:"options",get:function(){return this.checkDestroyed(),this._options}},{key:"config",get:function(){return this.checkDestroyed(),this._config}},{key:"container",get:function(){return this._container}},{key:"isDeleted",get:function(){return this._isDeleted},set:function(e){this._isDeleted=e}},{key:"checkDestroyed",value:function(){if(this.isDeleted)throw Yn.create("app-deleted",{appName:this._name})}}]),e}(),$n="10.3.0";function Jn(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;"object"!==typeof t&&(t={name:t});var r=Object.assign({name:Un,automaticDataCollectionEnabled:!1},t),i=r.name;if("string"!==typeof i||!i)throw Yn.create("bad-app-name",{appName:String(i)});if(n||(n=Rt()),!n)throw Yn.create("no-options");var a=zn.get(i);if(a){if(Kt(n,a.options)&&Kt(r,a.config))return a;throw Yn.create("duplicate-app",{appName:i})}var o,s=new un(i),u=T(Vn.values());try{for(u.s();!(o=u.n()).done;){var c=o.value;s.addComponent(c)}}catch(f){u.e(f)}finally{u.f()}var l=new Xn(n,r,s);return zn.set(i,l),l}function Zn(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Un,t=zn.get(e);if(!t&&e===Un&&Rt())return Jn();if(!t)throw Yn.create("no-app",{appName:e});return t}function er(){return Array.from(zn.values())}function tr(e){return nr.apply(this,arguments)}function nr(){return(nr=Ze($e().mark((function e(t){var n;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.name,!zn.has(n)){e.next=6;break}return zn.delete(n),e.next=5,Promise.all(t.container.getProviders().map((function(e){return e.delete()})));case 5:t.isDeleted=!0;case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function rr(e,t,n){var r,i=null!==(r=Fn[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));var a=i.match(/\s|\//),o=t.match(/\s|\//);if(a||o){var s=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return a&&s.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),a&&o&&s.push("and"),o&&s.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void Mn.warn(s.join(" "))}Hn(new nn("".concat(i,"-version"),(function(){return{library:i,version:t}}),"VERSION"))}function ir(e,t){if(null!==e&&"function"!==typeof e)throw Yn.create("invalid-log-argument");!function(e,t){var n,r=T(cn);try{var i=function(){var r=n.value,i=null;t&&t.level&&(i=ln[t.level]),r.userLogHandler=null===e?null:function(t,n){for(var r=arguments.length,a=new Array(r>2?r-2:0),o=2;o<r;o++)a[o-2]=arguments[o];var s=a.map((function(e){if(null==e)return null;if("string"===typeof e)return e;if("number"===typeof e||"boolean"===typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(t){return null}})).filter((function(e){return e})).join(" ");n>=(null!==i&&void 0!==i?i:t.logLevel)&&e({level:sn[n].toLowerCase(),message:s,args:a,type:t.name})}};for(r.s();!(n=r.n()).done;)i()}catch(a){r.e(a)}finally{r.f()}}(e,t)}function ar(e){var t;t=e,cn.forEach((function(e){e.setLogLevel(t)}))}var or="firebase-heartbeat-database",sr=1,ur="firebase-heartbeat-store",cr=null;function lr(){return cr||(cr=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.blocked,i=n.upgrade,a=n.blocking,o=n.terminated,s=indexedDB.open(e,t),u=In(s);return i&&s.addEventListener("upgradeneeded",(function(e){i(In(s.result),e.oldVersion,e.newVersion,In(s.transaction),e)})),r&&s.addEventListener("blocked",(function(e){return r(e.oldVersion,e.newVersion,e)})),u.then((function(e){o&&e.addEventListener("close",(function(){return o()})),a&&e.addEventListener("versionchange",(function(e){return a(e.oldVersion,e.newVersion,e)}))})).catch((function(){})),u}(or,sr,{upgrade:function(e,t){if(0===t)e.createObjectStore(ur)}}).catch((function(e){throw Yn.create("idb-open",{originalErrorMessage:e.message})}))),cr}function fr(e){return dr.apply(this,arguments)}function dr(){return dr=Ze($e().mark((function e(t){var n,r,i;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,lr();case 3:return n=e.sent,e.next=6,n.transaction(ur).objectStore(ur).get(vr(t));case 6:return r=e.sent,e.abrupt("return",r);case 10:e.prev=10,e.t0=e.catch(0),e.t0 instanceof Bt?Mn.warn(e.t0.message):(i=Yn.create("idb-get",{originalErrorMessage:null===e.t0||void 0===e.t0?void 0:e.t0.message}),Mn.warn(i.message));case 13:case"end":return e.stop()}}),e,null,[[0,10]])}))),dr.apply(this,arguments)}function hr(e,t){return pr.apply(this,arguments)}function pr(){return pr=Ze($e().mark((function e(t,n){var r,i,a,o;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,lr();case 3:return r=e.sent,i=r.transaction(ur,"readwrite"),a=i.objectStore(ur),e.next=8,a.put(n,vr(t));case 8:return e.next=10,i.done;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),e.t0 instanceof Bt?Mn.warn(e.t0.message):(o=Yn.create("idb-set",{originalErrorMessage:null===e.t0||void 0===e.t0?void 0:e.t0.message}),Mn.warn(o.message));case 15:case"end":return e.stop()}}),e,null,[[0,12]])}))),pr.apply(this,arguments)}function vr(e){return"".concat(e.name,"!").concat(e.options.appId)}var mr=function(){function e(t){var n=this;h(this,e),this.container=t,this._heartbeatsCache=null;var r=this.container.getProvider("app").getImmediate();this._storage=new wr(r),this._heartbeatsCachePromise=this._storage.read().then((function(e){return n._heartbeatsCache=e,e}))}return g(e,[{key:"triggerHeartbeat",value:function(){var e=Ze($e().mark((function e(){var t,n,r;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.container.getProvider("platform-logger").getImmediate(),n=t.getPlatformInfoString(),r=gr(),null!==this._heartbeatsCache){e.next=7;break}return e.next=6,this._heartbeatsCachePromise;case 6:this._heartbeatsCache=e.sent;case 7:if(this._heartbeatsCache.lastSentHeartbeatDate!==r&&!this._heartbeatsCache.heartbeats.some((function(e){return e.date===r}))){e.next=11;break}return e.abrupt("return");case 11:this._heartbeatsCache.heartbeats.push({date:r,agent:n});case 12:return this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((function(e){var t=new Date(e.date).valueOf();return Date.now()-t<=2592e6})),e.abrupt("return",this._storage.overwrite(this._heartbeatsCache));case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getHeartbeatsHeader",value:function(){var e=Ze($e().mark((function e(){var t,n,r,i,a;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==this._heartbeatsCache){e.next=3;break}return e.next=3,this._heartbeatsCachePromise;case 3:if(null!==this._heartbeatsCache&&0!==this._heartbeatsCache.heartbeats.length){e.next=5;break}return e.abrupt("return","");case 5:if(t=gr(),n=yr(this._heartbeatsCache.heartbeats),r=n.heartbeatsToSend,i=n.unsentEntries,a=Ct(JSON.stringify({version:2,heartbeats:r})),this._heartbeatsCache.lastSentHeartbeatDate=t,!(i.length>0)){e.next=15;break}return this._heartbeatsCache.heartbeats=i,e.next=13,this._storage.overwrite(this._heartbeatsCache);case 13:e.next=17;break;case 15:this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache);case 17:return e.abrupt("return",a);case 18:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function gr(){return(new Date).toISOString().substring(0,10)}function yr(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024,r=[],i=e.slice(),a=T(e);try{var o=function(){var e=t.value,a=r.find((function(t){return t.agent===e.agent}));if(a){if(a.dates.push(e.date),xr(r)>n)return a.dates.pop(),0}else if(r.push({agent:e.agent,dates:[e.date]}),xr(r)>n)return r.pop(),0;i=i.slice(1)};for(a.s();!(t=a.n()).done&&0!==o(););}catch(s){a.e(s)}finally{a.f()}return{heartbeatsToSend:r,unsentEntries:i}}var br,kr,wr=function(){function e(t){h(this,e),this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}return g(e,[{key:"runIndexedDBEnvironmentCheck",value:function(){var e=Ze($e().mark((function e(){return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Vt()){e.next=4;break}return e.abrupt("return",!1);case 4:return e.abrupt("return",new Promise((function(e,t){try{var n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=function(){i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=function(){n=!1},i.onerror=function(){var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(a){t(a)}})).then((function(){return!0})).catch((function(){return!1})));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"read",value:function(){var e=Ze($e().mark((function e(){var t;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return",{heartbeats:[]});case 7:return e.next=9,fr(this.app);case 9:return t=e.sent,e.abrupt("return",t||{heartbeats:[]});case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"overwrite",value:function(){var e=Ze($e().mark((function e(t){var n,r;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",hr(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:t.heartbeats}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"add",value:function(){var e=Ze($e().mark((function e(t){var n,r;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",hr(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:[].concat(d(r.heartbeats),d(t.heartbeats))}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}();function xr(e){return Ct(JSON.stringify({version:2,heartbeats:e})).length}br="",Hn(new nn("platform-logger",(function(e){return new jn(e)}),"PRIVATE")),Hn(new nn("heartbeat",(function(e){return new mr(e)}),"PRIVATE")),rr(Dn,Ln,br),rr(Dn,Ln,"esm2017"),rr("fire-js","");var _r=function(){function e(t,n){var r=this;h(this,e),this._delegate=t,this.firebase=n,Bn(t,new nn("app-compat",(function(){return r}),"PUBLIC")),this.container=t.container}return g(e,[{key:"automaticDataCollectionEnabled",get:function(){return this._delegate.automaticDataCollectionEnabled},set:function(e){this._delegate.automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this._delegate.name}},{key:"options",get:function(){return this._delegate.options}},{key:"delete",value:function(){var e=this;return new Promise((function(t){e._delegate.checkDestroyed(),t()})).then((function(){return e.firebase.INTERNAL.removeApp(e.name),tr(e._delegate)}))}},{key:"_getService",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Un;this._delegate.checkDestroyed();var r=this._delegate.container.getProvider(e);return r.isInitialized()||"EXPLICIT"!==(null===(t=r.getComponent())||void 0===t?void 0:t.instantiationMode)||r.initialize(),r.getImmediate({identifier:n})}},{key:"_removeServiceInstance",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Un;this._delegate.container.getProvider(e).clearInstance(t)}},{key:"_addComponent",value:function(e){Bn(this._delegate,e)}},{key:"_addOrOverwriteComponent",value:function(e){qn(this._delegate,e)}},{key:"toJSON",value:function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}]),e}(),Sr=(xt(kr={},"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),xt(kr,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),kr),Er=new qt("app-compat","Firebase",Sr);var Ir=function t(){var n=function(t){var n={},r={__esModule:!0,initializeApp:function(e){var i=Jn(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{});if(Wt(n,i.name))return n[i.name];var a=new t(i,r);return n[i.name]=a,a},app:i,registerVersion:rr,setLogLevel:ar,onLog:ir,apps:null,SDK_VERSION:$n,INTERNAL:{registerComponent:function(e){var n=e.name,a=n.replace("-compat","");if(Hn(e)&&"PUBLIC"===e.type){var o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i();if("function"!==typeof e[a])throw Er.create("invalid-app-argument",{appName:n});return e[a]()};void 0!==e.serviceProps&&Ot(o,e.serviceProps),r[a]=o,t.prototype[a]=function(){for(var t=this._getService.bind(this,n),r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return t.apply(this,e.multipleInstances?i:[])}}return"PUBLIC"===e.type?r[a]:null},removeApp:function(e){delete n[e]},useAsService:function(e,t){return"serverAuth"===t?null:t},modularAPIs:e}};function i(e){if(!Wt(n,e=e||Un))throw Er.create("no-app",{appName:e});return n[e]}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(n).map((function(e){return n[e]}))}}),i.App=t,r}(_r);return n.INTERNAL=Object.assign(Object.assign({},n.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(e){Ot(n,e)},createSubscribe:Jt,ErrorFactory:qt,deepExtend:Ot}),n}(),Tr=new pn("@firebase/app-compat");if("object"===typeof self&&self.self===self&&void 0!==self.firebase){Tr.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var Cr=self.firebase.SDK_VERSION;Cr&&Cr.indexOf("LITE")>=0&&Tr.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var Nr=Ir;!function(e){rr("@firebase/app-compat","0.2.17",e)}();function Or(){return Or="undefined"!==typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=k(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},Or.apply(this,arguments)}Nr.registerVersion("firebase","10.3.0","app-compat");function Pr(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Object.create;Object.create;"function"===typeof SuppressedError&&SuppressedError;var Ar,Rr={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},jr="EMAIL_SIGNIN",Dr="PASSWORD_RESET",Lr="RECOVER_EMAIL",Mr="REVERT_SECOND_FACTOR_ADDITION",Ur="VERIFY_AND_CHANGE_EMAIL",Fr="VERIFY_EMAIL";function zr(e){return void 0!==e&&void 0!==e.getResponse}function Vr(e){return void 0!==e&&void 0!==e.enterprise}var Br=g((function e(t){if(h(this,e),this.siteKey="",this.emailPasswordEnabled=!1,void 0===t.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.emailPasswordEnabled=t.recaptchaEnforcementState.some((function(e){return"EMAIL_PASSWORD_PROVIDER"===e.provider&&"OFF"!==e.enforcementState}))}));function qr(){return xt({},"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.")}var Hr=function(){var e;return xt(e={},"admin-restricted-operation","This operation is restricted to administrators only."),xt(e,"argument-error",""),xt(e,"app-not-authorized","This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console."),xt(e,"app-not-installed","The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device."),xt(e,"captcha-check-failed","The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains."),xt(e,"code-expired","The SMS code has expired. Please re-send the verification code to try again."),xt(e,"cordova-not-ready","Cordova framework is not ready."),xt(e,"cors-unsupported","This browser is not supported."),xt(e,"credential-already-in-use","This credential is already associated with a different user account."),xt(e,"custom-token-mismatch","The custom token corresponds to a different audience."),xt(e,"requires-recent-login","This operation is sensitive and requires recent authentication. Log in again before retrying this request."),xt(e,"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."),xt(e,"dynamic-link-not-activated","Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions."),xt(e,"email-change-needs-verification","Multi-factor users must always have a verified email."),xt(e,"email-already-in-use","The email address is already in use by another account."),xt(e,"emulator-config-failed",'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.'),xt(e,"expired-action-code","The action code has expired."),xt(e,"cancelled-popup-request","This operation has been cancelled due to another conflicting popup being opened."),xt(e,"internal-error","An internal AuthError has occurred."),xt(e,"invalid-app-credential","The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired."),xt(e,"invalid-app-id","The mobile app identifier is not registed for the current project."),xt(e,"invalid-user-token","This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key."),xt(e,"invalid-auth-event","An internal AuthError has occurred."),xt(e,"invalid-verification-code","The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user."),xt(e,"invalid-continue-uri","The continue URL provided in the request is invalid."),xt(e,"invalid-cordova-configuration","The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme."),xt(e,"invalid-custom-token","The custom token format is incorrect. Please check the documentation."),xt(e,"invalid-dynamic-link-domain","The provided dynamic link domain is not configured or authorized for the current project."),xt(e,"invalid-email","The email address is badly formatted."),xt(e,"invalid-emulator-scheme","Emulator URL must start with a valid scheme (http:// or https://)."),xt(e,"invalid-api-key","Your API key is invalid, please check you have copied it correctly."),xt(e,"invalid-cert-hash","The SHA-1 certificate hash provided is invalid."),xt(e,"invalid-credential","The supplied auth credential is malformed or has expired."),xt(e,"invalid-message-payload","The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console."),xt(e,"invalid-multi-factor-session","The request does not contain a valid proof of first factor successful sign-in."),xt(e,"invalid-oauth-provider","EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers."),xt(e,"invalid-oauth-client-id","The OAuth client ID provided is either invalid or does not match the specified API key."),xt(e,"unauthorized-domain","This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console."),xt(e,"invalid-action-code","The action code is invalid. This can happen if the code is malformed, expired, or has already been used."),xt(e,"wrong-password","The password is invalid or the user does not have a password."),xt(e,"invalid-persistence-type","The specified persistence type is invalid. It can only be local, session or none."),xt(e,"invalid-phone-number","The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code]."),xt(e,"invalid-provider-id","The specified provider ID is invalid."),xt(e,"invalid-recipient-email","The email corresponding to this action failed to send as the provided recipient email address is invalid."),xt(e,"invalid-sender","The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console."),xt(e,"invalid-verification-id","The verification ID used to create the phone auth credential is invalid."),xt(e,"invalid-tenant-id","The Auth instance's tenant ID is invalid."),xt(e,"login-blocked","Login blocked by user-provided method: {$originalMessage}"),xt(e,"missing-android-pkg-name","An Android Package Name must be provided if the Android App is required to be installed."),xt(e,"auth-domain-config-required","Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console."),xt(e,"missing-app-credential","The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided."),xt(e,"missing-verification-code","The phone auth credential was created with an empty SMS verification code."),xt(e,"missing-continue-uri","A continue URL must be provided in the request."),xt(e,"missing-iframe-start","An internal AuthError has occurred."),xt(e,"missing-ios-bundle-id","An iOS Bundle ID must be provided if an App Store ID is provided."),xt(e,"missing-or-invalid-nonce","The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload."),xt(e,"missing-password","A non-empty password must be provided"),xt(e,"missing-multi-factor-info","No second factor identifier is provided."),xt(e,"missing-multi-factor-session","The request is missing proof of first factor successful sign-in."),xt(e,"missing-phone-number","To send verification codes, provide a phone number for the recipient."),xt(e,"missing-verification-id","The phone auth credential was created with an empty verification ID."),xt(e,"app-deleted","This instance of FirebaseApp has been deleted."),xt(e,"multi-factor-info-not-found","The user does not have a second factor matching the identifier provided."),xt(e,"multi-factor-auth-required","Proof of ownership of a second factor is required to complete sign-in."),xt(e,"account-exists-with-different-credential","An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address."),xt(e,"network-request-failed","A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred."),xt(e,"no-auth-event","An internal AuthError has occurred."),xt(e,"no-such-provider","User was not linked to an account with the given provider."),xt(e,"null-user","A null user object was provided as the argument for an operation which requires a non-null user object."),xt(e,"operation-not-allowed","The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section."),xt(e,"operation-not-supported-in-this-environment",'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.'),xt(e,"popup-blocked","Unable to establish a connection with the popup. It may have been blocked by the browser."),xt(e,"popup-closed-by-user","The popup has been closed by the user before finalizing the operation."),xt(e,"provider-already-linked","User can only be linked to one identity for the given provider."),xt(e,"quota-exceeded","The project's quota for this operation has been exceeded."),xt(e,"redirect-cancelled-by-user","The redirect operation has been cancelled by the user before finalizing."),xt(e,"redirect-operation-pending","A redirect sign-in operation is already pending."),xt(e,"rejected-credential","The request contains malformed or mismatching credentials."),xt(e,"second-factor-already-in-use","The second factor is already enrolled on this account."),xt(e,"maximum-second-factor-count-exceeded","The maximum allowed number of second factors on a user has been exceeded."),xt(e,"tenant-id-mismatch","The provided tenant ID does not match the Auth instance's tenant ID"),xt(e,"timeout","The operation has timed out."),xt(e,"user-token-expired","The user's credential is no longer valid. The user must sign in again."),xt(e,"too-many-requests","We have blocked all requests from this device due to unusual activity. Try again later."),xt(e,"unauthorized-continue-uri","The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console."),xt(e,"unsupported-first-factor","Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor."),xt(e,"unsupported-persistence-type","The current environment does not support the specified persistence type."),xt(e,"unsupported-tenant-operation","This operation is not supported in a multi-tenant context."),xt(e,"unverified-email","The operation requires a verified email."),xt(e,"user-cancelled","The user did not grant your application the permissions it requested."),xt(e,"user-not-found","There is no user record corresponding to this identifier. The user may have been deleted."),xt(e,"user-disabled","The user account has been disabled by an administrator."),xt(e,"user-mismatch","The supplied credentials do not correspond to the previously signed in user."),xt(e,"user-signed-out",""),xt(e,"weak-password","The password must be 6 characters long or more."),xt(e,"web-storage-unsupported","This browser is not supported or 3rd party cookies and data may be disabled."),xt(e,"already-initialized","initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."),xt(e,"missing-recaptcha-token","The reCAPTCHA token is missing when sending request to the backend."),xt(e,"invalid-recaptcha-token","The reCAPTCHA token is invalid when sending request to the backend."),xt(e,"invalid-recaptcha-action","The reCAPTCHA action is invalid when sending request to the backend."),xt(e,"recaptcha-not-enabled","reCAPTCHA Enterprise integration is not enabled for this project."),xt(e,"missing-client-type","The reCAPTCHA client type is missing when sending request to the backend."),xt(e,"missing-recaptcha-version","The reCAPTCHA version is missing when sending request to the backend."),xt(e,"invalid-req-type","Invalid request parameters."),xt(e,"invalid-recaptcha-version","The reCAPTCHA version is invalid when sending request to the backend."),xt(e,"unsupported-password-policy-schema-version","The password policy received from the backend uses a schema version that is not supported by this version of the Firebase SDK."),xt(e,"password-does-not-meet-requirements","The password does not meet the requirements."),e},Wr=qr,Gr=new qt("auth","Firebase",qr()),Kr=new pn("@firebase/auth");function Qr(e){if(Kr.logLevel<=sn.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];Kr.warn.apply(Kr,["Auth (".concat($n,"): ").concat(e)].concat(n))}}function Yr(e){if(Kr.logLevel<=sn.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];Kr.error.apply(Kr,["Auth (".concat($n,"): ").concat(e)].concat(n))}}function Xr(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw ei.apply(void 0,[e].concat(n))}function $r(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return ei.apply(void 0,[e].concat(n))}function Jr(e,t,n){var r=Object.assign(Object.assign({},Wr()),xt({},t,n));return new qt("auth","Firebase",r).create(t,{appName:e.name})}function Zr(e,t,n){if(!(t instanceof n))throw n.name!==t.constructor.name&&Xr(e,"argument-error"),Jr(e,"argument-error","Type of ".concat(t.constructor.name," does not match expected instance.")+"Did you pass a reference from a different Auth SDK?")}function ei(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){var i,a=n[0],o=d(n.slice(1));return o[0]&&(o[0].appName=e.name),(i=e._errorFactory).create.apply(i,[a].concat(d(o)))}return Gr.create.apply(Gr,[e].concat(n))}function ti(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw ei.apply(void 0,[t].concat(r))}}function ni(e){var t="INTERNAL ASSERTION FAILED: "+e;throw Yr(t),new Error(t)}function ri(e,t){e||ni(t)}function ii(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function ai(){return"http:"===oi()||"https:"===oi()}function oi(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}var si=function(){function e(t,n){h(this,e),this.shortDelay=t,this.longDelay=n,ri(n>t,"Short delay should be less than long delay!"),this.isMobile="undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Lt())||Ft()}return g(e,[{key:"get",value:function(){return"undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(ai()||Ut()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}]),e}();function ui(e,t){ri(e.emulator,"Emulator should always be set here");var n=e.emulator.url;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}var ci=function(){function e(){h(this,e)}return g(e,null,[{key:"initialize",value:function(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}},{key:"fetch",value:function(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:void ni("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"headers",value:function(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:void ni("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"response",value:function(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:void ni("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}]),e}(),li=(xt(Ar={},"CREDENTIAL_MISMATCH","custom-token-mismatch"),xt(Ar,"MISSING_CUSTOM_TOKEN","internal-error"),xt(Ar,"INVALID_IDENTIFIER","invalid-email"),xt(Ar,"MISSING_CONTINUE_URI","internal-error"),xt(Ar,"INVALID_PASSWORD","wrong-password"),xt(Ar,"MISSING_PASSWORD","missing-password"),xt(Ar,"EMAIL_EXISTS","email-already-in-use"),xt(Ar,"PASSWORD_LOGIN_DISABLED","operation-not-allowed"),xt(Ar,"INVALID_IDP_RESPONSE","invalid-credential"),xt(Ar,"INVALID_PENDING_TOKEN","invalid-credential"),xt(Ar,"FEDERATED_USER_ID_ALREADY_LINKED","credential-already-in-use"),xt(Ar,"MISSING_REQ_TYPE","internal-error"),xt(Ar,"EMAIL_NOT_FOUND","user-not-found"),xt(Ar,"RESET_PASSWORD_EXCEED_LIMIT","too-many-requests"),xt(Ar,"EXPIRED_OOB_CODE","expired-action-code"),xt(Ar,"INVALID_OOB_CODE","invalid-action-code"),xt(Ar,"MISSING_OOB_CODE","internal-error"),xt(Ar,"CREDENTIAL_TOO_OLD_LOGIN_AGAIN","requires-recent-login"),xt(Ar,"INVALID_ID_TOKEN","invalid-user-token"),xt(Ar,"TOKEN_EXPIRED","user-token-expired"),xt(Ar,"USER_NOT_FOUND","user-token-expired"),xt(Ar,"TOO_MANY_ATTEMPTS_TRY_LATER","too-many-requests"),xt(Ar,"PASSWORD_DOES_NOT_MEET_REQUIREMENTS","password-does-not-meet-requirements"),xt(Ar,"INVALID_CODE","invalid-verification-code"),xt(Ar,"INVALID_SESSION_INFO","invalid-verification-id"),xt(Ar,"INVALID_TEMPORARY_PROOF","invalid-credential"),xt(Ar,"MISSING_SESSION_INFO","missing-verification-id"),xt(Ar,"SESSION_EXPIRED","code-expired"),xt(Ar,"MISSING_ANDROID_PACKAGE_NAME","missing-android-pkg-name"),xt(Ar,"UNAUTHORIZED_DOMAIN","unauthorized-continue-uri"),xt(Ar,"INVALID_OAUTH_CLIENT_ID","invalid-oauth-client-id"),xt(Ar,"ADMIN_ONLY_OPERATION","admin-restricted-operation"),xt(Ar,"INVALID_MFA_PENDING_CREDENTIAL","invalid-multi-factor-session"),xt(Ar,"MFA_ENROLLMENT_NOT_FOUND","multi-factor-info-not-found"),xt(Ar,"MISSING_MFA_ENROLLMENT_ID","missing-multi-factor-info"),xt(Ar,"MISSING_MFA_PENDING_CREDENTIAL","missing-multi-factor-session"),xt(Ar,"SECOND_FACTOR_EXISTS","second-factor-already-in-use"),xt(Ar,"SECOND_FACTOR_LIMIT_EXCEEDED","maximum-second-factor-count-exceeded"),xt(Ar,"BLOCKING_FUNCTION_ERROR_RESPONSE","internal-error"),xt(Ar,"RECAPTCHA_NOT_ENABLED","recaptcha-not-enabled"),xt(Ar,"MISSING_RECAPTCHA_TOKEN","missing-recaptcha-token"),xt(Ar,"INVALID_RECAPTCHA_TOKEN","invalid-recaptcha-token"),xt(Ar,"INVALID_RECAPTCHA_ACTION","invalid-recaptcha-action"),xt(Ar,"MISSING_CLIENT_TYPE","missing-client-type"),xt(Ar,"MISSING_RECAPTCHA_VERSION","missing-recaptcha-version"),xt(Ar,"INVALID_RECAPTCHA_VERSION","invalid-recaptcha-version"),xt(Ar,"INVALID_REQ_TYPE","invalid-req-type"),Ar),fi=new si(3e4,6e4);function di(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}function hi(e,t,n,r){return pi.apply(this,arguments)}function pi(){return pi=Ze($e().mark((function e(t,n,r,i){var a,o=arguments;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=o.length>4&&void 0!==o[4]?o[4]:{},e.abrupt("return",vi(t,a,Ze($e().mark((function e(){var a,o,s,u;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={},o={},i&&("GET"===n?o=i:a={body:JSON.stringify(i)}),s=Yt(Object.assign({key:t.config.apiKey},o)).slice(1),e.next=6,t._getAdditionalHeaders();case 6:return(u=e.sent)["Content-Type"]="application/json",t.languageCode&&(u["X-Firebase-Locale"]=t.languageCode),e.abrupt("return",ci.fetch()(bi(t,t.config.apiHost,r,s),Object.assign({method:n,headers:u,referrerPolicy:"no-referrer"},a)));case 10:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e)}))),pi.apply(this,arguments)}function vi(e,t,n){return mi.apply(this,arguments)}function mi(){return mi=Ze($e().mark((function e(t,n,r){var i,a,o,s,u,c,f,d,h,p;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t._canInitEmulator=!1,i=Object.assign(Object.assign({},li),n),e.prev=2,a=new ki(t),e.next=6,Promise.race([r(),a.promise]);case 6:return o=e.sent,a.clearNetworkTimeout(),e.next=10,o.json();case 10:if(!("needConfirmation"in(s=e.sent))){e.next=13;break}throw wi(t,"account-exists-with-different-credential",s);case 13:if(!o.ok||"errorMessage"in s){e.next=17;break}return e.abrupt("return",s);case 17:if(u=o.ok?s.errorMessage:s.error.message,c=u.split(" : "),f=l(c,2),d=f[0],h=f[1],"FEDERATED_USER_ID_ALREADY_LINKED"!==d){e.next=23;break}throw wi(t,"credential-already-in-use",s);case 23:if("EMAIL_EXISTS"!==d){e.next=27;break}throw wi(t,"email-already-in-use",s);case 27:if("USER_DISABLED"!==d){e.next=29;break}throw wi(t,"user-disabled",s);case 29:if(p=i[d]||d.toLowerCase().replace(/[_\s]+/g,"-"),!h){e.next=34;break}throw Jr(t,p,h);case 34:Xr(t,p);case 35:e.next=42;break;case 37:if(e.prev=37,e.t0=e.catch(2),!(e.t0 instanceof Bt)){e.next=41;break}throw e.t0;case 41:Xr(t,"network-request-failed",{message:String(e.t0)});case 42:case"end":return e.stop()}}),e,null,[[2,37]])}))),mi.apply(this,arguments)}function gi(e,t,n,r){return yi.apply(this,arguments)}function yi(){return yi=Ze($e().mark((function e(t,n,r,i){var a,o,s=arguments;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=s.length>4&&void 0!==s[4]?s[4]:{},e.next=3,hi(t,n,r,i,a);case 3:return"mfaPendingCredential"in(o=e.sent)&&Xr(t,"multi-factor-auth-required",{_serverResponse:o}),e.abrupt("return",o);case 6:case"end":return e.stop()}}),e)}))),yi.apply(this,arguments)}function bi(e,t,n,r){var i="".concat(t).concat(n,"?").concat(r);return e.config.emulator?ui(e.config,i):"".concat(e.config.apiScheme,"://").concat(i)}var ki=function(){function e(t){var n=this;h(this,e),this.auth=t,this.timer=null,this.promise=new Promise((function(e,t){n.timer=setTimeout((function(){return t($r(n.auth,"network-request-failed"))}),fi.get())}))}return g(e,[{key:"clearNetworkTimeout",value:function(){clearTimeout(this.timer)}}]),e}();function wi(e,t,n){var r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);var i=$r(e,t,r);return i.customData._tokenResponse=n,i}function xi(e){return _i.apply(this,arguments)}function _i(){return _i=Ze($e().mark((function e(t){return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,hi(t,"GET","/v1/recaptchaParams");case 2:if(e.t0=e.sent.recaptchaSiteKey,e.t0){e.next=5;break}e.t0="";case 5:return e.abrupt("return",e.t0);case 6:case"end":return e.stop()}}),e)}))),_i.apply(this,arguments)}function Si(e,t){return Ei.apply(this,arguments)}function Ei(){return Ei=Ze($e().mark((function e(t,n){return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",hi(t,"GET","/v2/recaptchaConfig",di(t,n)));case 1:case"end":return e.stop()}}),e)}))),Ei.apply(this,arguments)}function Ii(e,t){return Ti.apply(this,arguments)}function Ti(){return Ti=Ze($e().mark((function e(t,n){return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",hi(t,"POST","/v1/accounts:delete",n));case 1:case"end":return e.stop()}}),e)}))),Ti.apply(this,arguments)}function Ci(e,t){return Ni.apply(this,arguments)}function Ni(){return Ni=Ze($e().mark((function e(t,n){return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",hi(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)}))),Ni.apply(this,arguments)}function Oi(e,t){return Pi.apply(this,arguments)}function Pi(){return Pi=Ze($e().mark((function e(t,n){return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",hi(t,"POST","/v1/accounts:lookup",n));case 1:case"end":return e.stop()}}),e)}))),Pi.apply(this,arguments)}function Ai(e){if(e)try{var t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(n){}}function Ri(){return Ri=Ze($e().mark((function e(t){var n,r,i,a,o,s,u=arguments;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=u.length>1&&void 0!==u[1]&&u[1],r=tn(t),e.next=4,r.getIdToken(n);case 4:return i=e.sent,ti((a=Di(i))&&a.exp&&a.auth_time&&a.iat,r.auth,"internal-error"),o="object"===typeof a.firebase?a.firebase:void 0,s=null===o||void 0===o?void 0:o.sign_in_provider,e.abrupt("return",{claims:a,token:i,authTime:Ai(ji(a.auth_time)),issuedAtTime:Ai(ji(a.iat)),expirationTime:Ai(ji(a.exp)),signInProvider:s||null,signInSecondFactor:(null===o||void 0===o?void 0:o.sign_in_second_factor)||null});case 10:case"end":return e.stop()}}),e)}))),Ri.apply(this,arguments)}function ji(e){return 1e3*Number(e)}function Di(e){var t=l(e.split("."),3),n=t[0],r=t[1],i=t[2];if(void 0===n||void 0===r||void 0===i)return Yr("JWT malformed, contained fewer than 3 sections"),null;try{var a=Nt(r);return a?JSON.parse(a):(Yr("Failed to decode base64 JWT payload"),null)}catch(o){return Yr("Caught error parsing JWT payload as JSON",null===o||void 0===o?void 0:o.toString()),null}}function Li(e,t){return Mi.apply(this,arguments)}function Mi(){return Mi=Ze($e().mark((function e(t,n){var r=arguments;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r.length>2&&void 0!==r[2]&&r[2])){e.next=3;break}return e.abrupt("return",n);case 3:return e.prev=3,e.next=6,n;case 6:return e.abrupt("return",e.sent);case 9:if(e.prev=9,e.t0=e.catch(3),!(e.t0 instanceof Bt&&Ui(e.t0))){e.next=15;break}if(t.auth.currentUser!==t){e.next=15;break}return e.next=15,t.auth.signOut();case 15:throw e.t0;case 16:case"end":return e.stop()}}),e,null,[[3,9]])}))),Mi.apply(this,arguments)}function Ui(e){var t=e.code;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}var Fi=function(){function e(t){h(this,e),this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}return g(e,[{key:"_start",value:function(){this.isRunning||(this.isRunning=!0,this.schedule())}},{key:"_stop",value:function(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}},{key:"getInterval",value:function(e){var t;if(e){var n=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),n}this.errorBackoff=3e4;var r=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,r)}},{key:"schedule",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.isRunning){var n=this.getInterval(t);this.timerId=setTimeout(Ze($e().mark((function t(){return $e().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.iteration();case 2:case"end":return t.stop()}}),t)}))),n)}}},{key:"iteration",value:function(){var e=Ze($e().mark((function e(){return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.user.getIdToken(!0);case 3:e.next=9;break;case 5:return e.prev=5,e.t0=e.catch(0),(null===e.t0||void 0===e.t0?void 0:e.t0.code)==="auth/".concat("network-request-failed")&&this.schedule(!0),e.abrupt("return");case 9:this.schedule();case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(){return e.apply(this,arguments)}}()}]),e}(),zi=function(){function e(t,n){h(this,e),this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}return g(e,[{key:"_initializeTime",value:function(){this.lastSignInTime=Ai(this.lastLoginAt),this.creationTime=Ai(this.createdAt)}},{key:"_copy",value:function(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}},{key:"toJSON",value:function(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}]),e}();function Vi(e){return Bi.apply(this,arguments)}function Bi(){return Bi=Ze($e().mark((function e(t){var n,r,i,a,o,s,u,c,l,f,d;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.auth,e.next=3,t.getIdToken();case 3:return i=e.sent,e.next=6,Li(t,Oi(r,{idToken:i}));case 6:ti(null===(a=e.sent)||void 0===a?void 0:a.users.length,r,"internal-error"),o=a.users[0],t._notifyReloadListener(o),s=(null===(n=o.providerUserInfo)||void 0===n?void 0:n.length)?Wi(o.providerUserInfo):[],u=Hi(t.providerData,s),c=t.isAnonymous,l=!(t.email&&o.passwordHash)&&!(null===u||void 0===u?void 0:u.length),f=!!c&&l,d={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new zi(o.createdAt,o.lastLoginAt),isAnonymous:f},Object.assign(t,d);case 17:case"end":return e.stop()}}),e)}))),Bi.apply(this,arguments)}function qi(){return(qi=Ze($e().mark((function e(t){var n;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=tn(t),e.next=3,Vi(n);case 3:return e.next=5,n.auth._persistUserIfCurrent(n);case 5:n.auth._notifyListenersIfCurrent(n);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Hi(e,t){var n=e.filter((function(e){return!t.some((function(t){return t.providerId===e.providerId}))}));return[].concat(d(n),d(t))}function Wi(e){return e.map((function(e){var t=e.providerId,n=Pr(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}}))}function Gi(e,t){return Ki.apply(this,arguments)}function Ki(){return Ki=Ze($e().mark((function e(t,n){var r;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,vi(t,{},Ze($e().mark((function e(){var r,i,a,o,s,u;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Yt({grant_type:"refresh_token",refresh_token:n}).slice(1),i=t.config,a=i.tokenApiHost,o=i.apiKey,s=bi(t,a,"/v1/token","key=".concat(o)),e.next=5,t._getAdditionalHeaders();case 5:return(u=e.sent)["Content-Type"]="application/x-www-form-urlencoded",e.abrupt("return",ci.fetch()(s,{method:"POST",headers:u,body:r}));case 8:case"end":return e.stop()}}),e)}))));case 2:return r=e.sent,e.abrupt("return",{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token});case 4:case"end":return e.stop()}}),e)}))),Ki.apply(this,arguments)}var Qi=function(){function e(){h(this,e),this.refreshToken=null,this.accessToken=null,this.expirationTime=null}return g(e,[{key:"isExpired",get:function(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}},{key:"updateFromServerResponse",value:function(e){ti(e.idToken,"internal-error"),ti("undefined"!==typeof e.idToken,"internal-error"),ti("undefined"!==typeof e.refreshToken,"internal-error");var t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):function(e){var t=Di(e);return ti(t,"internal-error"),ti("undefined"!==typeof t.exp,"internal-error"),ti("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}},{key:"getToken",value:function(){var e=Ze($e().mark((function e(t){var n,r=arguments;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=r.length>1&&void 0!==r[1]&&r[1],ti(!this.accessToken||this.refreshToken,t,"user-token-expired"),n||!this.accessToken||this.isExpired){e.next=4;break}return e.abrupt("return",this.accessToken);case 4:if(!this.refreshToken){e.next=8;break}return e.next=7,this.refresh(t,this.refreshToken);case 7:return e.abrupt("return",this.accessToken);case 8:return e.abrupt("return",null);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearRefreshToken",value:function(){this.refreshToken=null}},{key:"refresh",value:function(){var e=Ze($e().mark((function e(t,n){var r,i,a,o;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Gi(t,n);case 2:r=e.sent,i=r.accessToken,a=r.refreshToken,o=r.expiresIn,this.updateTokensAndExpiration(i,a,Number(o));case 7:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"updateTokensAndExpiration",value:function(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}},{key:"toJSON",value:function(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}},{key:"_assign",value:function(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}},{key:"_clone",value:function(){return Object.assign(new e,this.toJSON())}},{key:"_performRefresh",value:function(){return ni("not implemented")}}],[{key:"fromJSON",value:function(t,n){var r=n.refreshToken,i=n.accessToken,a=n.expirationTime,o=new e;return r&&(ti("string"===typeof r,"internal-error",{appName:t}),o.refreshToken=r),i&&(ti("string"===typeof i,"internal-error",{appName:t}),o.accessToken=i),a&&(ti("number"===typeof a,"internal-error",{appName:t}),o.expirationTime=a),o}}]),e}();function Yi(e,t){ti("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}var Xi=function(){function e(t){h(this,e);var n=t.uid,r=t.auth,i=t.stsTokenManager,a=Pr(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Fi(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?d(a.providerData):[],this.metadata=new zi(a.createdAt||void 0,a.lastLoginAt||void 0)}return g(e,[{key:"getIdToken",value:function(){var e=Ze($e().mark((function e(t){var n;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Li(this,this.stsTokenManager.getToken(this.auth,t));case 2:if(ti(n=e.sent,this.auth,"internal-error"),this.accessToken===n){e.next=9;break}return this.accessToken=n,e.next=8,this.auth._persistUserIfCurrent(this);case 8:this.auth._notifyListenersIfCurrent(this);case 9:return e.abrupt("return",n);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getIdTokenResult",value:function(e){return function(e){return Ri.apply(this,arguments)}(this,e)}},{key:"reload",value:function(){return function(e){return qi.apply(this,arguments)}(this)}},{key:"_assign",value:function(e){this!==e&&(ti(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((function(e){return Object.assign({},e)})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}},{key:"_clone",value:function(t){var n=new e(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}},{key:"_onReload",value:function(e){ti(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}},{key:"_notifyReloadListener",value:function(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}},{key:"_startProactiveRefresh",value:function(){this.proactiveRefresh._start()}},{key:"_stopProactiveRefresh",value:function(){this.proactiveRefresh._stop()}},{key:"_updateTokensIfNecessary",value:function(){var e=Ze($e().mark((function e(t){var n,r,i=arguments;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]&&i[1],r=!1,t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),!n){e.next=6;break}return e.next=6,Vi(this);case 6:return e.next=8,this.auth._persistUserIfCurrent(this);case 8:r&&this.auth._notifyListenersIfCurrent(this);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){var e=Ze($e().mark((function e(){var t;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getIdToken();case 2:return t=e.sent,e.next=5,Li(this,Ii(this.auth,{idToken:t}));case 5:return this.stsTokenManager.clearRefreshToken(),e.abrupt("return",this.auth.signOut());case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"toJSON",value:function(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((function(e){return Object.assign({},e)})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}},{key:"refreshToken",get:function(){return this.stsTokenManager.refreshToken||""}}],[{key:"_fromJSON",value:function(t,n){var r,i,a,o,s,u,c,l,f=null!==(r=n.displayName)&&void 0!==r?r:void 0,d=null!==(i=n.email)&&void 0!==i?i:void 0,h=null!==(a=n.phoneNumber)&&void 0!==a?a:void 0,p=null!==(o=n.photoURL)&&void 0!==o?o:void 0,v=null!==(s=n.tenantId)&&void 0!==s?s:void 0,m=null!==(u=n._redirectEventId)&&void 0!==u?u:void 0,g=null!==(c=n.createdAt)&&void 0!==c?c:void 0,y=null!==(l=n.lastLoginAt)&&void 0!==l?l:void 0,b=n.uid,k=n.emailVerified,w=n.isAnonymous,x=n.providerData,_=n.stsTokenManager;ti(b&&_,t,"internal-error");var S=Qi.fromJSON(this.name,_);ti("string"===typeof b,t,"internal-error"),Yi(f,t.name),Yi(d,t.name),ti("boolean"===typeof k,t,"internal-error"),ti("boolean"===typeof w,t,"internal-error"),Yi(h,t.name),Yi(p,t.name),Yi(v,t.name),Yi(m,t.name),Yi(g,t.name),Yi(y,t.name);var E=new e({uid:b,auth:t,email:d,emailVerified:k,displayName:f,isAnonymous:w,photoURL:p,phoneNumber:h,tenantId:v,stsTokenManager:S,createdAt:g,lastLoginAt:y});return x&&Array.isArray(x)&&(E.providerData=x.map((function(e){return Object.assign({},e)}))),m&&(E._redirectEventId=m),E}},{key:"_fromIdTokenResponse",value:function(){var t=Ze($e().mark((function t(n,r){var i,a,o,s=arguments;return $e().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=s.length>2&&void 0!==s[2]&&s[2],(a=new Qi).updateFromServerResponse(r),o=new e({uid:r.localId,auth:n,stsTokenManager:a,isAnonymous:i}),t.next=6,Vi(o);case 6:return t.abrupt("return",o);case 7:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}]),e}(),$i=new Map;function Ji(e){ri(e instanceof Function,"Expected a class definition");var t=$i.get(e);return t?(ri(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,$i.set(e,t),t)}var Zi=function(){function e(){h(this,e),this.type="NONE",this.storage={}}return g(e,[{key:"_isAvailable",value:function(){var e=Ze($e().mark((function e(){return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",!0);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=Ze($e().mark((function e(t,n){return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.storage[t]=n;case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=Ze($e().mark((function e(t){var n;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.storage[t],e.abrupt("return",void 0===n?null:n);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=Ze($e().mark((function e(t){return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:delete this.storage[t];case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),e}();Zi.type="NONE";var ea=Zi;function ta(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}var na=function(){function e(t,n,r){h(this,e),this.persistence=t,this.auth=n,this.userKey=r;var i=this.auth,a=i.config,o=i.name;this.fullUserKey=ta(this.userKey,a.apiKey,o),this.fullPersistenceKey=ta("persistence",a.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}return g(e,[{key:"setCurrentUser",value:function(e){return this.persistence._set(this.fullUserKey,e.toJSON())}},{key:"getCurrentUser",value:function(){var e=Ze($e().mark((function e(){var t;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.persistence._get(this.fullUserKey);case 2:return t=e.sent,e.abrupt("return",t?Xi._fromJSON(this.auth,t):null);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"removeCurrentUser",value:function(){return this.persistence._remove(this.fullUserKey)}},{key:"savePersistenceForRedirect",value:function(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}},{key:"setPersistence",value:function(){var e=Ze($e().mark((function e(t){var n;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.persistence!==t){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.getCurrentUser();case 4:return n=e.sent,e.next=7,this.removeCurrentUser();case 7:if(this.persistence=t,!n){e.next=10;break}return e.abrupt("return",this.setCurrentUser(n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}}],[{key:"create",value:function(){var t=Ze($e().mark((function t(n,r){var i,a,o,s,u,c,l,f,d,h,p,v=arguments;return $e().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=v.length>2&&void 0!==v[2]?v[2]:"authUser",r.length){t.next=3;break}return t.abrupt("return",new e(Ji(ea),n,i));case 3:return t.next=5,Promise.all(r.map(function(){var e=Ze($e().mark((function e(t){return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._isAvailable();case 2:if(!e.sent){e.next=4;break}return e.abrupt("return",t);case 4:return e.abrupt("return",void 0);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 5:a=t.sent.filter((function(e){return e})),o=a[0]||Ji(ea),s=ta(i,n.config.apiKey,n.name),u=null,c=T(r),t.prev=10,c.s();case 12:if((l=c.n()).done){t.next=29;break}return f=l.value,t.prev=14,t.next=17,f._get(s);case 17:if(!(d=t.sent)){t.next=23;break}return h=Xi._fromJSON(n,d),f!==o&&(u=h),o=f,t.abrupt("break",29);case 23:t.next=27;break;case 25:t.prev=25,t.t0=t.catch(14);case 27:t.next=12;break;case 29:t.next=34;break;case 31:t.prev=31,t.t1=t.catch(10),c.e(t.t1);case 34:return t.prev=34,c.f(),t.finish(34);case 37:if(p=a.filter((function(e){return e._shouldAllowMigration})),o._shouldAllowMigration&&p.length){t.next=40;break}return t.abrupt("return",new e(o,n,i));case 40:if(o=p[0],!u){t.next=44;break}return t.next=44,o._set(s,u.toJSON());case 44:return t.next=46,Promise.all(r.map(function(){var e=Ze($e().mark((function e(t){return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t===o){e.next=8;break}return e.prev=1,e.next=4,t._remove(s);case 4:e.next=8;break;case 6:e.prev=6,e.t0=e.catch(1);case 8:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t){return e.apply(this,arguments)}}()));case 46:return t.abrupt("return",new e(o,n,i));case 47:case"end":return t.stop()}}),t,null,[[10,31,34,37],[14,25]])})));return function(e,n){return t.apply(this,arguments)}}()}]),e}();function ra(e){var t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(sa(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(ia(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(ca(t))return"Blackberry";if(la(t))return"Webos";if(aa(t))return"Safari";if((t.includes("chrome/")||oa(t))&&!t.includes("edge/"))return"Chrome";if(ua(t))return"Android";var n=e.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);return 2===(null===n||void 0===n?void 0:n.length)?n[1]:"Other"}function ia(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Lt();return/firefox\//i.test(e)}function aa(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:Lt()).toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function oa(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Lt();return/crios\//i.test(e)}function sa(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Lt();return/iemobile/i.test(e)}function ua(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Lt();return/android/i.test(e)}function ca(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Lt();return/blackberry/i.test(e)}function la(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Lt();return/webos/i.test(e)}function fa(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Lt();return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function da(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Lt();return fa(e)||ua(e)||la(e)||ca(e)||/windows phone/i.test(e)||sa(e)}function ha(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=ra(Lt());break;case"Worker":t="".concat(ra(Lt()),"-").concat(e);break;default:t=e}var r=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat($n,"/").concat(r)}var pa=function(){function e(t){h(this,e),this.auth=t,this.queue=[]}return g(e,[{key:"pushCallback",value:function(e,t){var n=this,r=function(t){return new Promise((function(n,r){try{n(e(t))}catch(i){r(i)}}))};r.onAbort=t,this.queue.push(r);var i=this.queue.length-1;return function(){n.queue[i]=function(){return Promise.resolve()}}}},{key:"runMiddleware",value:function(){var e=Ze($e().mark((function e(t){var n,r,i,a,o,s,u;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.auth.currentUser!==t){e.next=2;break}return e.abrupt("return");case 2:n=[],e.prev=3,r=T(this.queue),e.prev=5,r.s();case 7:if((i=r.n()).done){e.next=14;break}return a=i.value,e.next=11,a(t);case 11:a.onAbort&&n.push(a.onAbort);case 12:e.next=7;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(5),r.e(e.t0);case 19:return e.prev=19,r.f(),e.finish(19);case 22:e.next=30;break;case 24:e.prev=24,e.t1=e.catch(3),n.reverse(),o=T(n);try{for(o.s();!(s=o.n()).done;){u=s.value;try{u()}catch(mD){}}}catch(c){o.e(c)}finally{o.f()}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===e.t1||void 0===e.t1?void 0:e.t1.message});case 30:case"end":return e.stop()}}),e,this,[[3,24],[5,16,19,22]])})));return function(t){return e.apply(this,arguments)}}()}]),e}();function va(e){return ma.apply(this,arguments)}function ma(){return ma=Ze($e().mark((function e(t){var n,r=arguments;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:{},e.abrupt("return",hi(t,"GET","/v2/passwordPolicy",di(t,n)));case 2:case"end":return e.stop()}}),e)}))),ma.apply(this,arguments)}var ga=function(){function e(t){var n,r,i,a;h(this,e);var o=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(n=o.minPasswordLength)&&void 0!==n?n:6,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),void 0!==o.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),void 0!==o.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),void 0!==o.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),void 0!==o.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(i=null===(r=t.allowedNonAlphanumericCharacters)||void 0===r?void 0:r.join(""))&&void 0!==i?i:"",this.forceUpgradeOnSignin=null!==(a=t.forceUpgradeOnSignin)&&void 0!==a&&a,this.schemaVersion=t.schemaVersion}return g(e,[{key:"validatePassword",value:function(e){var t,n,r,i,a,o,s={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,s),this.validatePasswordCharacterOptions(e,s),s.isValid&&(s.isValid=null===(t=s.meetsMinPasswordLength)||void 0===t||t),s.isValid&&(s.isValid=null===(n=s.meetsMaxPasswordLength)||void 0===n||n),s.isValid&&(s.isValid=null===(r=s.containsLowercaseLetter)||void 0===r||r),s.isValid&&(s.isValid=null===(i=s.containsUppercaseLetter)||void 0===i||i),s.isValid&&(s.isValid=null===(a=s.containsNumericCharacter)||void 0===a||a),s.isValid&&(s.isValid=null===(o=s.containsNonAlphanumericCharacter)||void 0===o||o),s}},{key:"validatePasswordLengthOptions",value:function(e,t){var n=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;n&&(t.meetsMinPasswordLength=e.length>=n),r&&(t.meetsMaxPasswordLength=e.length<=r)}},{key:"validatePasswordCharacterOptions",value:function(e,t){var n;this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);for(var r=0;r<e.length;r++)n=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(t,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}},{key:"updatePasswordCharacterOptionsStatuses",value:function(e,t,n,r,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}]),e}(),ya=function(){function e(t,n,r,i){h(this,e),this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new ka(this),this.idTokenSubscription=new ka(this),this.beforeStateQueue=new pa(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Gr,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=i.sdkClientVersion}return g(e,[{key:"_initializeWithPersistence",value:function(e,t){var n=this;return t&&(this._popupRedirectResolver=Ji(t)),this._initializationPromise=this.queue(Ze($e().mark((function r(){var i,a;return $e().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!n._deleted){r.next=2;break}return r.abrupt("return");case 2:return r.next=4,na.create(n,e);case 4:if(n.persistenceManager=r.sent,!n._deleted){r.next=7;break}return r.abrupt("return");case 7:if(!(null===(i=n._popupRedirectResolver)||void 0===i?void 0:i._shouldInitProactively)){r.next=15;break}return r.prev=8,r.next=11,n._popupRedirectResolver._initialize(n);case 11:r.next=15;break;case 13:r.prev=13,r.t0=r.catch(8);case 15:return r.next=17,n.initializeCurrentUser(t);case 17:if(n.lastNotifiedUid=(null===(a=n.currentUser)||void 0===a?void 0:a.uid)||null,!n._deleted){r.next=20;break}return r.abrupt("return");case 20:n._isInitialized=!0;case 21:case"end":return r.stop()}}),r,null,[[8,13]])})))),this._initializationPromise}},{key:"_onStorageEvent",value:function(){var e=Ze($e().mark((function e(){var t;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._deleted){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.assertedPersistence.getCurrentUser();case 4:if(t=e.sent,this.currentUser||t){e.next=7;break}return e.abrupt("return");case 7:if(!this.currentUser||!t||this.currentUser.uid!==t.uid){e.next=12;break}return this._currentUser._assign(t),e.next=11,this.currentUser.getIdToken();case 11:return e.abrupt("return");case 12:return e.next=14,this._updateCurrentUser(t,!0);case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeCurrentUser",value:function(){var e=Ze($e().mark((function e(t){var n,r,i,a,o,s,u;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.assertedPersistence.getCurrentUser();case 2:if(r=e.sent,i=r,a=!1,!t||!this.config.authDomain){e.next=14;break}return e.next=8,this.getOrInitRedirectPersistenceManager();case 8:return o=null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId,s=null===i||void 0===i?void 0:i._redirectEventId,e.next=12,this.tryRedirectSignIn(t);case 12:u=e.sent,o&&o!==s||!(null===u||void 0===u?void 0:u.user)||(i=u.user,a=!0);case 14:if(i){e.next=16;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 16:if(i._redirectEventId){e.next=32;break}if(!a){e.next=27;break}return e.prev=18,e.next=21,this.beforeStateQueue.runMiddleware(i);case 21:e.next=27;break;case 23:e.prev=23,e.t0=e.catch(18),i=r,this._popupRedirectResolver._overrideRedirectResult(this,(function(){return Promise.reject(e.t0)}));case 27:if(!i){e.next=31;break}return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(i));case 31:return e.abrupt("return",this.directlySetCurrentUser(null));case 32:return ti(this._popupRedirectResolver,this,"argument-error"),e.next=35,this.getOrInitRedirectPersistenceManager();case 35:if(!this.redirectUser||this.redirectUser._redirectEventId!==i._redirectEventId){e.next=37;break}return e.abrupt("return",this.directlySetCurrentUser(i));case 37:return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(i));case 38:case"end":return e.stop()}}),e,this,[[18,23]])})));return function(t){return e.apply(this,arguments)}}()},{key:"tryRedirectSignIn",value:function(){var e=Ze($e().mark((function e(t){var n;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=null,e.prev=1,e.next=4,this._popupRedirectResolver._completeRedirectFn(this,t,!0);case 4:n=e.sent,e.next=11;break;case 7:return e.prev=7,e.t0=e.catch(1),e.next=11,this._setRedirectUser(null);case 11:return e.abrupt("return",n);case 12:case"end":return e.stop()}}),e,this,[[1,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"reloadAndSetCurrentUserOrClear",value:function(){var e=Ze($e().mark((function e(t){return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Vi(t);case 3:e.next=9;break;case 5:if(e.prev=5,e.t0=e.catch(0),(null===e.t0||void 0===e.t0?void 0:e.t0.code)==="auth/".concat("network-request-failed")){e.next=9;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 9:return e.abrupt("return",this.directlySetCurrentUser(t));case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(t){return e.apply(this,arguments)}}()},{key:"useDeviceLanguage",value:function(){this.languageCode=function(){if("undefined"===typeof navigator)return null;var e=navigator;return e.languages&&e.languages[0]||e.language||null}()}},{key:"_delete",value:function(){var e=Ze($e().mark((function e(){return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this._deleted=!0;case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"updateCurrentUser",value:function(){var e=Ze($e().mark((function e(t){var n;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=t?tn(t):null)&&ti(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),e.abrupt("return",this._updateCurrentUser(n&&n._clone(this)));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_updateCurrentUser",value:function(){var e=Ze($e().mark((function e(t){var n,r=this,i=arguments;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]&&i[1],!this._deleted){e.next=3;break}return e.abrupt("return");case 3:if(t&&ti(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n){e.next=7;break}return e.next=7,this.beforeStateQueue.runMiddleware(t);case 7:return e.abrupt("return",this.queue(Ze($e().mark((function e(){return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.directlySetCurrentUser(t);case 2:r.notifyAuthListeners();case 3:case"end":return e.stop()}}),e)})))));case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signOut",value:function(){var e=Ze($e().mark((function e(){return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.beforeStateQueue.runMiddleware(null);case 2:if(!this.redirectPersistenceManager&&!this._popupRedirectResolver){e.next=5;break}return e.next=5,this._setRedirectUser(null);case 5:return e.abrupt("return",this._updateCurrentUser(null,!0));case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setPersistence",value:function(e){var t=this;return this.queue(Ze($e().mark((function n(){return $e().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.assertedPersistence.setPersistence(Ji(e));case 2:case"end":return n.stop()}}),n)}))))}},{key:"_getRecaptchaConfig",value:function(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}},{key:"validatePassword",value:function(){var e=Ze($e().mark((function e(t){var n;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this._getPasswordPolicyInternal()){e.next=3;break}return e.next=3,this._updatePasswordPolicy();case 3:if((n=this._getPasswordPolicyInternal()).schemaVersion===this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION){e.next=6;break}return e.abrupt("return",Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})));case 6:return e.abrupt("return",n.validatePassword(t));case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_getPasswordPolicyInternal",value:function(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}},{key:"_updatePasswordPolicy",value:function(){var e=Ze($e().mark((function e(){var t,n;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,va(this);case 2:t=e.sent,n=new ga(t),null===this.tenantId?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n;case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_getPersistence",value:function(){return this.assertedPersistence.persistence.type}},{key:"_updateErrorMap",value:function(e){this._errorFactory=new qt("auth","Firebase",e())}},{key:"onAuthStateChanged",value:function(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}},{key:"beforeAuthStateChanged",value:function(e,t){return this.beforeStateQueue.pushCallback(e,t)}},{key:"onIdTokenChanged",value:function(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}},{key:"authStateReady",value:function(){var e=this;return new Promise((function(t,n){if(e.currentUser)t();else var r=e.onAuthStateChanged((function(){r(),t()}),n)}))}},{key:"toJSON",value:function(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}},{key:"_setRedirectUser",value:function(){var e=Ze($e().mark((function e(t,n){var r;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getOrInitRedirectPersistenceManager(n);case 2:return r=e.sent,e.abrupt("return",null===t?r.removeCurrentUser():r.setCurrentUser(t));case 4:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getOrInitRedirectPersistenceManager",value:function(){var e=Ze($e().mark((function e(t){var n;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.redirectPersistenceManager){e.next=9;break}return ti(n=t&&Ji(t)||this._popupRedirectResolver,this,"argument-error"),e.next=5,na.create(this,[Ji(n._redirectPersistence)],"redirectUser");case 5:return this.redirectPersistenceManager=e.sent,e.next=8,this.redirectPersistenceManager.getCurrentUser();case 8:this.redirectUser=e.sent;case 9:return e.abrupt("return",this.redirectPersistenceManager);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_redirectUserForId",value:function(){var e=Ze($e().mark((function e(t){var n,r;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._isInitialized){e.next=3;break}return e.next=3,this.queue(Ze($e().mark((function e(){return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))));case 3:if((null===(n=this._currentUser)||void 0===n?void 0:n._redirectEventId)!==t){e.next=5;break}return e.abrupt("return",this._currentUser);case 5:if((null===(r=this.redirectUser)||void 0===r?void 0:r._redirectEventId)!==t){e.next=7;break}return e.abrupt("return",this.redirectUser);case 7:return e.abrupt("return",null);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_persistUserIfCurrent",value:function(){var e=Ze($e().mark((function e(t){var n=this;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t!==this.currentUser){e.next=2;break}return e.abrupt("return",this.queue(Ze($e().mark((function e(){return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",n.directlySetCurrentUser(t));case 1:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_notifyListenersIfCurrent",value:function(e){e===this.currentUser&&this.notifyAuthListeners()}},{key:"_key",value:function(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}},{key:"_startProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}},{key:"_stopProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}},{key:"_currentUser",get:function(){return this.currentUser}},{key:"notifyAuthListeners",value:function(){var e,t;if(this._isInitialized){this.idTokenSubscription.next(this.currentUser);var n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}}},{key:"registerStateListener",value:function(e,t,n,r){var i=this;if(this._deleted)return function(){};var a="function"===typeof t?t:t.next.bind(t),o=!1,s=this._isInitialized?Promise.resolve():this._initializationPromise;if(ti(s,this,"internal-error"),s.then((function(){o||a(i.currentUser)})),"function"===typeof t){var u=e.addObserver(t,n,r);return function(){o=!0,u()}}var c=e.addObserver(t);return function(){o=!0,c()}}},{key:"directlySetCurrentUser",value:function(){var e=Ze($e().mark((function e(t){return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,!t){e.next=8;break}return e.next=6,this.assertedPersistence.setCurrentUser(t);case 6:e.next=10;break;case 8:return e.next=10,this.assertedPersistence.removeCurrentUser();case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"queue",value:function(e){return this.operations=this.operations.then(e,e),this.operations}},{key:"assertedPersistence",get:function(){return ti(this.persistenceManager,this,"internal-error"),this.persistenceManager}},{key:"_logFramework",value:function(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=ha(this.config.clientPlatform,this._getFrameworks()))}},{key:"_getFrameworks",value:function(){return this.frameworks}},{key:"_getAdditionalHeaders",value:function(){var e=Ze($e().mark((function e(){var t,n,r,i;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=xt({},"X-Client-Version",this.clientVersion),this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId),e.next=4,null===(t=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getHeartbeatsHeader();case 4:return(r=e.sent)&&(n["X-Firebase-Client"]=r),e.next=8,this._getAppCheckToken();case 8:return(i=e.sent)&&(n["X-Firebase-AppCheck"]=i),e.abrupt("return",n);case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_getAppCheckToken",value:function(){var e=Ze($e().mark((function e(){var t,n;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,null===(t=this.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getToken();case 2:return(null===(n=e.sent)||void 0===n?void 0:n.error)&&Qr("Error while retrieving App Check token: ".concat(n.error)),e.abrupt("return",null===n||void 0===n?void 0:n.token);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function ba(e){return tn(e)}var ka=function(){function e(t){var n=this;h(this,e),this.auth=t,this.observer=null,this.addObserver=Jt((function(e){return n.observer=e}))}return g(e,[{key:"next",get:function(){return ti(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}]),e}();function wa(e){return new Promise((function(t,n){var r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=function(e){var t=$r("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)}))}function xa(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}var _a=function(){function e(t){h(this,e),this.type="recaptcha-enterprise",this.auth=ba(t)}return g(e,[{key:"verify",value:function(){var e=Ze($e().mark((function e(){var t,n,r,i,a,o=this,s=arguments;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=function(e,n,r){var i=window.grecaptcha;Vr(i)?i.enterprise.ready((function(){i.enterprise.execute(e,{action:t}).then((function(e){n(e)})).catch((function(){n("NO_RECAPTCHA")}))})):r(Error("No reCAPTCHA enterprise script loaded."))},i=function(){return i=Ze($e().mark((function e(t){return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n){e.next=5;break}if(null!=t.tenantId||null==t._agentRecaptchaConfig){e.next=3;break}return e.abrupt("return",t._agentRecaptchaConfig.siteKey);case 3:if(null==t.tenantId||void 0===t._tenantRecaptchaConfigs[t.tenantId]){e.next=5;break}return e.abrupt("return",t._tenantRecaptchaConfigs[t.tenantId].siteKey);case 5:return e.abrupt("return",new Promise(function(){var e=Ze($e().mark((function e(n,r){return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Si(t,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then((function(e){if(void 0!==e.recaptchaKey){var i=new Br(e);return null==t.tenantId?t._agentRecaptchaConfig=i:t._tenantRecaptchaConfigs[t.tenantId]=i,n(i.siteKey)}r(new Error("recaptcha Enterprise site key undefined"))})).catch((function(e){r(e)}));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()));case 6:case"end":return e.stop()}}),e)}))),i.apply(this,arguments)},r=function(e){return i.apply(this,arguments)},t=s.length>0&&void 0!==s[0]?s[0]:"verify",n=s.length>1&&void 0!==s[1]&&s[1],e.abrupt("return",new Promise((function(e,t){r(o.auth).then((function(r){if(!n&&Vr(window.grecaptcha))a(r,e,t);else{if("undefined"===typeof window)return void t(new Error("RecaptchaVerifier is only supported in browser"));wa("https://www.google.com/recaptcha/enterprise.js?render="+r).then((function(){a(r,e,t)})).catch((function(e){t(e)}))}})).catch((function(e){t(e)}))})));case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()}]),e}();function Sa(e,t,n){return Ea.apply(this,arguments)}function Ea(){return Ea=Ze($e().mark((function e(t,n,r){var i,a,o,s,u=arguments;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=u.length>3&&void 0!==u[3]&&u[3],a=new _a(t),e.prev=2,e.next=5,a.verify(r);case 5:o=e.sent,e.next=13;break;case 8:return e.prev=8,e.t0=e.catch(2),e.next=12,a.verify(r,!0);case 12:o=e.sent;case 13:return s=Object.assign({},n),i?Object.assign(s,{captchaResp:o}):Object.assign(s,{captchaResponse:o}),Object.assign(s,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(s,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),e.abrupt("return",s);case 18:case"end":return e.stop()}}),e,null,[[2,8]])}))),Ea.apply(this,arguments)}function Ia(e,t,n){var r=ba(e);ti(r._canInitEmulator,r,"emulator-config-failed"),ti(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");var i=!!(null===n||void 0===n?void 0:n.disableWarnings),a=Ta(t),o=function(e){var t=Ta(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};var r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){var a=i[1];return{host:a,port:Ca(r.substr(a.length+1))}}var o=l(r.split(":"),2);return{host:o[0],port:Ca(o[1])}}(t),s=o.host,u=o.port,c=null===u?"":":".concat(u);r.config.emulator={url:"".concat(a,"//").concat(s).concat(c,"/")},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:s,port:u,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function(){function e(){var e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function Ta(e){var t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function Ca(e){if(!e)return null;var t=Number(e);return isNaN(t)?null:t}var Na=function(){function e(t,n){h(this,e),this.providerId=t,this.signInMethod=n}return g(e,[{key:"toJSON",value:function(){return ni("not implemented")}},{key:"_getIdTokenResponse",value:function(e){return ni("not implemented")}},{key:"_linkToIdToken",value:function(e,t){return ni("not implemented")}},{key:"_getReauthenticationResolver",value:function(e){return ni("not implemented")}}]),e}();function Oa(e,t){return Pa.apply(this,arguments)}function Pa(){return Pa=Ze($e().mark((function e(t,n){return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",hi(t,"POST","/v1/accounts:resetPassword",di(t,n)));case 1:case"end":return e.stop()}}),e)}))),Pa.apply(this,arguments)}function Aa(e,t){return Ra.apply(this,arguments)}function Ra(){return Ra=Ze($e().mark((function e(t,n){return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",hi(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)}))),Ra.apply(this,arguments)}function ja(e,t){return Da.apply(this,arguments)}function Da(){return Da=Ze($e().mark((function e(t,n){return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",hi(t,"POST","/v1/accounts:update",di(t,n)));case 1:case"end":return e.stop()}}),e)}))),Da.apply(this,arguments)}function La(e,t){return Ma.apply(this,arguments)}function Ma(){return Ma=Ze($e().mark((function e(t,n){return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",gi(t,"POST","/v1/accounts:signInWithPassword",di(t,n)));case 1:case"end":return e.stop()}}),e)}))),Ma.apply(this,arguments)}function Ua(e,t){return Fa.apply(this,arguments)}function Fa(){return Fa=Ze($e().mark((function e(t,n){return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",hi(t,"POST","/v1/accounts:sendOobCode",di(t,n)));case 1:case"end":return e.stop()}}),e)}))),Fa.apply(this,arguments)}function za(e,t){return Va.apply(this,arguments)}function Va(){return Va=Ze($e().mark((function e(t,n){return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ua(t,n));case 1:case"end":return e.stop()}}),e)}))),Va.apply(this,arguments)}function Ba(e,t){return qa.apply(this,arguments)}function qa(){return qa=Ze($e().mark((function e(t,n){return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ua(t,n));case 1:case"end":return e.stop()}}),e)}))),qa.apply(this,arguments)}function Ha(e,t){return Wa.apply(this,arguments)}function Wa(){return Wa=Ze($e().mark((function e(t,n){return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ua(t,n));case 1:case"end":return e.stop()}}),e)}))),Wa.apply(this,arguments)}function Ga(e,t){return Ka.apply(this,arguments)}function Ka(){return Ka=Ze($e().mark((function e(t,n){return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ua(t,n));case 1:case"end":return e.stop()}}),e)}))),Ka.apply(this,arguments)}function Qa(e,t){return Ya.apply(this,arguments)}function Ya(){return Ya=Ze($e().mark((function e(t,n){return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",gi(t,"POST","/v1/accounts:signInWithEmailLink",di(t,n)));case 1:case"end":return e.stop()}}),e)}))),Ya.apply(this,arguments)}function Xa(e,t){return $a.apply(this,arguments)}function $a(){return $a=Ze($e().mark((function e(t,n){return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",gi(t,"POST","/v1/accounts:signInWithEmailLink",di(t,n)));case 1:case"end":return e.stop()}}),e)}))),$a.apply(this,arguments)}var Ja=function(e){b(n,e);var t=_(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return h(this,n),(a=t.call(this,"password",i))._email=e,a._password=r,a._tenantId=o,a}return g(n,[{key:"toJSON",value:function(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}},{key:"_getIdTokenResponse",value:function(){var e=Ze($e().mark((function e(t){var n,r,i;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?12:13;break;case 3:if(r={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},!(null===(n=t._getRecaptchaConfig())||void 0===n?void 0:n.emailPasswordEnabled)){e.next=11;break}return e.next=7,Sa(t,r,"signInWithPassword");case 7:return i=e.sent,e.abrupt("return",La(t,i));case 11:return e.abrupt("return",La(t,r).catch(function(){var e=Ze($e().mark((function e(n){var i;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.code!=="auth/".concat("missing-recaptcha-token")){e.next=8;break}return console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow."),e.next=4,Sa(t,r,"signInWithPassword");case 4:return i=e.sent,e.abrupt("return",La(t,i));case 8:return e.abrupt("return",Promise.reject(n));case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 12:return e.abrupt("return",Qa(t,{email:this._email,oobCode:this._password}));case 13:Xr(t,"internal-error");case 14:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_linkToIdToken",value:function(){var e=Ze($e().mark((function e(t,n){return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?4:5;break;case 3:return e.abrupt("return",Aa(t,{idToken:n,returnSecureToken:!0,email:this._email,password:this._password}));case 4:return e.abrupt("return",Xa(t,{idToken:n,email:this._email,oobCode:this._password}));case 5:Xr(t,"internal-error");case 6:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_getReauthenticationResolver",value:function(e){return this._getIdTokenResponse(e)}}],[{key:"_fromEmailAndPassword",value:function(e,t){return new n(e,t,"password")}},{key:"_fromEmailAndCode",value:function(e,t){return new n(e,t,"emailLink",arguments.length>2&&void 0!==arguments[2]?arguments[2]:null)}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}}]),n}(Na);function Za(e,t){return eo.apply(this,arguments)}function eo(){return eo=Ze($e().mark((function e(t,n){return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",gi(t,"POST","/v1/accounts:signInWithIdp",di(t,n)));case 1:case"end":return e.stop()}}),e)}))),eo.apply(this,arguments)}var to=function(e){b(n,e);var t=_(n);function n(){var e;return h(this,n),(e=t.apply(this,arguments)).pendingToken=null,e}return g(n,[{key:"toJSON",value:function(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}},{key:"_getIdTokenResponse",value:function(e){return Za(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,Za(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,Za(e,t)}},{key:"buildRequest",value:function(){var e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{var t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Yt(t)}return e}}],[{key:"_fromParams",value:function(e){var t=new n(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Xr("argument-error"),t}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e,r=t.providerId,i=t.signInMethod,a=Pr(t,["providerId","signInMethod"]);if(!r||!i)return null;var o=new n(r,i);return o.idToken=a.idToken||void 0,o.accessToken=a.accessToken||void 0,o.secret=a.secret,o.nonce=a.nonce,o.pendingToken=a.pendingToken||null,o}}]),n}(Na);function no(e,t){return ro.apply(this,arguments)}function ro(){return ro=Ze($e().mark((function e(t,n){return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",hi(t,"POST","/v1/accounts:sendVerificationCode",di(t,n)));case 1:case"end":return e.stop()}}),e)}))),ro.apply(this,arguments)}function io(){return io=Ze($e().mark((function e(t,n){return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",gi(t,"POST","/v1/accounts:signInWithPhoneNumber",di(t,n)));case 1:case"end":return e.stop()}}),e)}))),io.apply(this,arguments)}function ao(){return ao=Ze($e().mark((function e(t,n){var r;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,gi(t,"POST","/v1/accounts:signInWithPhoneNumber",di(t,n));case 2:if(!(r=e.sent).temporaryProof){e.next=5;break}throw wi(t,"account-exists-with-different-credential",r);case 5:return e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)}))),ao.apply(this,arguments)}var oo=xt({},"USER_NOT_FOUND","user-not-found");function so(){return so=Ze($e().mark((function e(t,n){var r;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object.assign(Object.assign({},n),{operation:"REAUTH"}),e.abrupt("return",gi(t,"POST","/v1/accounts:signInWithPhoneNumber",di(t,r),oo));case 2:case"end":return e.stop()}}),e)}))),so.apply(this,arguments)}var uo=function(e){b(n,e);var t=_(n);function n(e){var r;return h(this,n),(r=t.call(this,"phone","phone")).params=e,r}return g(n,[{key:"_getIdTokenResponse",value:function(e){return function(e,t){return io.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_linkToIdToken",value:function(e,t){return function(e,t){return ao.apply(this,arguments)}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}},{key:"_getReauthenticationResolver",value:function(e){return function(e,t){return so.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_makeVerificationRequest",value:function(){var e=this.params,t=e.temporaryProof,n=e.phoneNumber,r=e.verificationId,i=e.verificationCode;return t&&n?{temporaryProof:t,phoneNumber:n}:{sessionInfo:r,code:i}}},{key:"toJSON",value:function(){var e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}}],[{key:"_fromVerification",value:function(e,t){return new n({verificationId:e,verificationCode:t})}},{key:"_fromTokenResponse",value:function(e,t){return new n({phoneNumber:e,temporaryProof:t})}},{key:"fromJSON",value:function(e){"string"===typeof e&&(e=JSON.parse(e));var t=e,r=t.verificationId,i=t.verificationCode,a=t.phoneNumber,o=t.temporaryProof;return i||r||a||o?new n({verificationId:r,verificationCode:i,phoneNumber:a,temporaryProof:o}):null}}]),n}(Na);var co=function(){function e(t){var n,r,i,a,o,s;h(this,e);var u=Xt($t(t)),c=null!==(n=u.apiKey)&&void 0!==n?n:null,l=null!==(r=u.oobCode)&&void 0!==r?r:null,f=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(i=u.mode)&&void 0!==i?i:null);ti(c&&l&&f,"argument-error"),this.apiKey=c,this.operation=f,this.code=l,this.continueUrl=null!==(a=u.continueUrl)&&void 0!==a?a:null,this.languageCode=null!==(o=u.languageCode)&&void 0!==o?o:null,this.tenantId=null!==(s=u.tenantId)&&void 0!==s?s:null}return g(e,null,[{key:"parseLink",value:function(t){var n=function(e){var t=Xt($t(e)).link,n=t?Xt($t(t)).deep_link_id:null,r=Xt($t(e)).deep_link_id;return(r?Xt($t(r)).link:null)||r||n||t||e}(t);try{return new e(n)}catch(r){return null}}}]),e}();var lo=function(){function e(){h(this,e),this.providerId=e.PROVIDER_ID}return g(e,null,[{key:"credential",value:function(e,t){return Ja._fromEmailAndPassword(e,t)}},{key:"credentialWithLink",value:function(e,t){var n=co.parseLink(t);return ti(n,"argument-error"),Ja._fromEmailAndCode(e,n.code,n.tenantId)}}]),e}();lo.PROVIDER_ID="password",lo.EMAIL_PASSWORD_SIGN_IN_METHOD="password",lo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";var fo=function(){function e(t){h(this,e),this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}return g(e,[{key:"setDefaultLanguage",value:function(e){this.defaultLanguageCode=e}},{key:"setCustomParameters",value:function(e){return this.customParameters=e,this}},{key:"getCustomParameters",value:function(){return this.customParameters}}]),e}(),ho=function(e){b(n,e);var t=_(n);function n(){var e;return h(this,n),(e=t.apply(this,arguments)).scopes=[],e}return g(n,[{key:"addScope",value:function(e){return this.scopes.includes(e)||this.scopes.push(e),this}},{key:"getScopes",value:function(){return d(this.scopes)}}]),n}(fo),po=function(e){b(n,e);var t=_(n);function n(){return h(this,n),t.apply(this,arguments)}return g(n,[{key:"credential",value:function(e){return this._credential(Object.assign(Object.assign({},e),{nonce:e.rawNonce}))}},{key:"_credential",value:function(e){return ti(e.idToken||e.accessToken,"argument-error"),to._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}}],[{key:"credentialFromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;return ti("providerId"in t&&"signInMethod"in t,"argument-error"),to._fromParams(t)}},{key:"credentialFromResult",value:function(e){return n.oauthCredentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.oauthCredentialFromTaggedObject(e.customData||{})}},{key:"oauthCredentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,i=t.oauthAccessToken,a=t.oauthTokenSecret,o=t.pendingToken,s=t.nonce,u=t.providerId;if(!i&&!a&&!r&&!o)return null;if(!u)return null;try{return new n(u)._credential({idToken:r,accessToken:i,nonce:s,pendingToken:o})}catch(c){return null}}}]),n}(ho),vo=function(e){b(n,e);var t=_(n);function n(){return h(this,n),t.call(this,"facebook.com")}return g(n,null,[{key:"credential",value:function(e){return to._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(r){return null}}}]),n}(ho);vo.FACEBOOK_SIGN_IN_METHOD="facebook.com",vo.PROVIDER_ID="facebook.com";var mo=function(e){b(n,e);var t=_(n);function n(){var e;return h(this,n),(e=t.call(this,"google.com")).addScope("profile"),e}return g(n,null,[{key:"credential",value:function(e,t){return to._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,i=t.oauthAccessToken;if(!r&&!i)return null;try{return n.credential(r,i)}catch(a){return null}}}]),n}(ho);mo.GOOGLE_SIGN_IN_METHOD="google.com",mo.PROVIDER_ID="google.com";var go=function(e){b(n,e);var t=_(n);function n(){return h(this,n),t.call(this,"github.com")}return g(n,null,[{key:"credential",value:function(e){return to._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GITHUB_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(r){return null}}}]),n}(ho);go.GITHUB_SIGN_IN_METHOD="github.com",go.PROVIDER_ID="github.com";var yo=function(e){b(n,e);var t=_(n);function n(e,r){var i;return h(this,n),(i=t.call(this,e,e)).pendingToken=r,i}return g(n,[{key:"_getIdTokenResponse",value:function(e){return Za(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,Za(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,Za(e,t)}},{key:"toJSON",value:function(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}},{key:"buildRequest",value:function(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}],[{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e,r=t.providerId,i=t.signInMethod,a=t.pendingToken;return r&&i&&a&&r===i?new n(r,a):null}},{key:"_create",value:function(e,t){return new n(e,t)}}]),n}(Na),bo=function(e){b(n,e);var t=_(n);function n(e){return h(this,n),ti(e.startsWith("saml."),"argument-error"),t.call(this,e)}return g(n,null,[{key:"credentialFromResult",value:function(e){return n.samlCredentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.samlCredentialFromTaggedObject(e.customData||{})}},{key:"credentialFromJSON",value:function(e){var t=yo.fromJSON(e);return ti(t,"argument-error"),t}},{key:"samlCredentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.pendingToken,r=t.providerId;if(!n||!r)return null;try{return yo._create(r,n)}catch(i){return null}}}]),n}(fo),ko=function(e){b(n,e);var t=_(n);function n(){return h(this,n),t.call(this,"twitter.com")}return g(n,null,[{key:"credential",value:function(e,t){return to._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthAccessToken,i=t.oauthTokenSecret;if(!r||!i)return null;try{return n.credential(r,i)}catch(a){return null}}}]),n}(ho);function wo(e,t){return xo.apply(this,arguments)}function xo(){return xo=Ze($e().mark((function e(t,n){return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",gi(t,"POST","/v1/accounts:signUp",di(t,n)));case 1:case"end":return e.stop()}}),e)}))),xo.apply(this,arguments)}ko.TWITTER_SIGN_IN_METHOD="twitter.com",ko.PROVIDER_ID="twitter.com";var _o=function(){function e(t){h(this,e),this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}return g(e,null,[{key:"_fromIdTokenResponse",value:function(){var t=Ze($e().mark((function t(n,r,i){var a,o,s,u,c=arguments;return $e().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=c.length>3&&void 0!==c[3]&&c[3],t.next=3,Xi._fromIdTokenResponse(n,i,a);case 3:return o=t.sent,s=So(i),u=new e({user:o,providerId:s,_tokenResponse:i,operationType:r}),t.abrupt("return",u);case 7:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()},{key:"_forOperation",value:function(){var t=Ze($e().mark((function t(n,r,i){var a;return $e().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n._updateTokensIfNecessary(i,!0);case 2:return a=So(i),t.abrupt("return",new e({user:n,providerId:a,_tokenResponse:i,operationType:r}));case 4:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()}]),e}();function So(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}function Eo(){return Eo=Ze($e().mark((function e(t){var n,r,i,a;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=ba(t),e.next=3,r._initializationPromise;case 3:if(!(null===(n=r.currentUser)||void 0===n?void 0:n.isAnonymous)){e.next=5;break}return e.abrupt("return",new _o({user:r.currentUser,providerId:null,operationType:"signIn"}));case 5:return e.next=7,wo(r,{returnSecureToken:!0});case 7:return i=e.sent,e.next=10,_o._fromIdTokenResponse(r,"signIn",i,!0);case 10:return a=e.sent,e.next=13,r._updateCurrentUser(a.user);case 13:return e.abrupt("return",a);case 14:case"end":return e.stop()}}),e)}))),Eo.apply(this,arguments)}var Io=function(e){b(n,e);var t=_(n);function n(e,r,i,a){var o,s;return h(this,n),(o=t.call(this,r.code,r.message)).operationType=i,o.user=a,Object.setPrototypeOf(x(o),n.prototype),o.customData={appName:e.name,tenantId:null!==(s=e.tenantId)&&void 0!==s?s:void 0,_serverResponse:r.customData._serverResponse,operationType:i},o}return g(n,null,[{key:"_fromErrorAndOperation",value:function(e,t,r,i){return new n(e,t,r,i)}}]),n}(Bt);function To(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch((function(n){if(n.code==="auth/".concat("multi-factor-auth-required"))throw Io._fromErrorAndOperation(e,n,t,r);throw n}))}function Co(e){return new Set(e.map((function(e){return e.providerId})).filter((function(e){return!!e})))}function No(e,t){return Oo.apply(this,arguments)}function Oo(){return Oo=Ze($e().mark((function e(t,n){var r,i,a,o;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=tn(t),e.next=3,Ro(!0,r,n);case 3:return e.t0=Ci,e.t1=r.auth,e.next=7,r.getIdToken();case 7:return e.t2=e.sent,e.t3=[n],e.t4={idToken:e.t2,deleteProvider:e.t3},e.next=12,(0,e.t0)(e.t1,e.t4);case 12:return i=e.sent,a=i.providerUserInfo,o=Co(a||[]),r.providerData=r.providerData.filter((function(e){return o.has(e.providerId)})),o.has("phone")||(r.phoneNumber=null),e.next=19,r.auth._persistUserIfCurrent(r);case 19:return e.abrupt("return",r);case 20:case"end":return e.stop()}}),e)}))),Oo.apply(this,arguments)}function Po(e,t){return Ao.apply(this,arguments)}function Ao(){return Ao=Ze($e().mark((function e(t,n){var r,i,a=arguments;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>2&&void 0!==a[2]&&a[2],e.t0=Li,e.t1=t,e.t2=n,e.t3=t.auth,e.next=7,t.getIdToken();case 7:return e.t4=e.sent,e.t5=e.t2._linkToIdToken.call(e.t2,e.t3,e.t4),e.t6=r,e.next=12,(0,e.t0)(e.t1,e.t5,e.t6);case 12:return i=e.sent,e.abrupt("return",_o._forOperation(t,"link",i));case 14:case"end":return e.stop()}}),e)}))),Ao.apply(this,arguments)}function Ro(e,t,n){return jo.apply(this,arguments)}function jo(){return(jo=Ze($e().mark((function e(t,n,r){var i,a;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Vi(n);case 2:i=Co(n.providerData),a=!1===t?"provider-already-linked":"no-such-provider",ti(i.has(r)===t,n.auth,a);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Do(e,t){return Lo.apply(this,arguments)}function Lo(){return Lo=Ze($e().mark((function e(t,n){var r,i,a,o,s,u,c=arguments;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=c.length>2&&void 0!==c[2]&&c[2],i=t.auth,a="reauthenticate",e.prev=3,e.next=6,Li(t,To(i,a,n,t),r);case 6:return ti((o=e.sent).idToken,i,"internal-error"),ti(s=Di(o.idToken),i,"internal-error"),u=s.sub,ti(t.uid===u,i,"user-mismatch"),e.abrupt("return",_o._forOperation(t,a,o));case 15:throw e.prev=15,e.t0=e.catch(3),(null===e.t0||void 0===e.t0?void 0:e.t0.code)==="auth/".concat("user-not-found")&&Xr(i,"user-mismatch"),e.t0;case 19:case"end":return e.stop()}}),e,null,[[3,15]])}))),Lo.apply(this,arguments)}function Mo(e,t){return Uo.apply(this,arguments)}function Uo(){return Uo=Ze($e().mark((function e(t,n){var r,i,a,o,s=arguments;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=s.length>2&&void 0!==s[2]&&s[2],i="signIn",e.next=4,To(t,i,n);case 4:return a=e.sent,e.next=7,_o._fromIdTokenResponse(t,i,a);case 7:if(o=e.sent,r){e.next=11;break}return e.next=11,t._updateCurrentUser(o.user);case 11:return e.abrupt("return",o);case 12:case"end":return e.stop()}}),e)}))),Uo.apply(this,arguments)}function Fo(e,t){return zo.apply(this,arguments)}function zo(){return zo=Ze($e().mark((function e(t,n){return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Mo(ba(t),n));case 1:case"end":return e.stop()}}),e)}))),zo.apply(this,arguments)}function Vo(e,t){return Bo.apply(this,arguments)}function Bo(){return(Bo=Ze($e().mark((function e(t,n){var r;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=tn(t),e.next=3,Ro(!1,r,n.providerId);case 3:return e.abrupt("return",Po(r,n));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function qo(e,t){return Ho.apply(this,arguments)}function Ho(){return(Ho=Ze($e().mark((function e(t,n){return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Do(tn(t),n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Wo(e,t){return Go.apply(this,arguments)}function Go(){return Go=Ze($e().mark((function e(t,n){return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",gi(t,"POST","/v1/accounts:signInWithCustomToken",di(t,n)));case 1:case"end":return e.stop()}}),e)}))),Go.apply(this,arguments)}function Ko(){return Ko=Ze($e().mark((function e(t,n){var r,i,a;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=ba(t),e.next=3,Wo(r,{token:n,returnSecureToken:!0});case 3:return i=e.sent,e.next=6,_o._fromIdTokenResponse(r,"signIn",i);case 6:return a=e.sent,e.next=9,r._updateCurrentUser(a.user);case 9:return e.abrupt("return",a);case 10:case"end":return e.stop()}}),e)}))),Ko.apply(this,arguments)}var Qo=function(){function e(t,n){h(this,e),this.factorId=t,this.uid=n.mfaEnrollmentId,this.enrollmentTime=new Date(n.enrolledAt).toUTCString(),this.displayName=n.displayName}return g(e,null,[{key:"_fromServerResponse",value:function(e,t){return"phoneInfo"in t?Yo._fromServerResponse(e,t):"totpInfo"in t?Xo._fromServerResponse(e,t):Xr(e,"internal-error")}}]),e}(),Yo=function(e){b(n,e);var t=_(n);function n(e){var r;return h(this,n),(r=t.call(this,"phone",e)).phoneNumber=e.phoneInfo,r}return g(n,null,[{key:"_fromServerResponse",value:function(e,t){return new n(t)}}]),n}(Qo),Xo=function(e){b(n,e);var t=_(n);function n(e){return h(this,n),t.call(this,"totp",e)}return g(n,null,[{key:"_fromServerResponse",value:function(e,t){return new n(t)}}]),n}(Qo);function $o(e,t,n){var r;ti((null===(r=n.url)||void 0===r?void 0:r.length)>0,e,"invalid-continue-uri"),ti("undefined"===typeof n.dynamicLinkDomain||n.dynamicLinkDomain.length>0,e,"invalid-dynamic-link-domain"),t.continueUrl=n.url,t.dynamicLinkDomain=n.dynamicLinkDomain,t.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(ti(n.iOS.bundleId.length>0,e,"missing-ios-bundle-id"),t.iOSBundleId=n.iOS.bundleId),n.android&&(ti(n.android.packageName.length>0,e,"missing-android-pkg-name"),t.androidInstallApp=n.android.installApp,t.androidMinimumVersionCode=n.android.minimumVersion,t.androidPackageName=n.android.packageName)}function Jo(e){return Zo.apply(this,arguments)}function Zo(){return Zo=Ze($e().mark((function e(t){var n;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(n=ba(t))._getPasswordPolicyInternal()){e.next=4;break}return e.next=4,n._updatePasswordPolicy();case 4:case"end":return e.stop()}}),e)}))),Zo.apply(this,arguments)}function es(){return es=Ze($e().mark((function e(t,n,r){var i,a,o,s;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=ba(t),o={requestType:"PASSWORD_RESET",email:n,clientType:"CLIENT_TYPE_WEB"},!(null===(i=a._getRecaptchaConfig())||void 0===i?void 0:i.emailPasswordEnabled)){e.next=11;break}return e.next=5,Sa(a,o,"getOobCode",!0);case 5:return s=e.sent,r&&$o(a,s,r),e.next=9,Ba(a,s);case 9:e.next=14;break;case 11:return r&&$o(a,o,r),e.next=14,Ba(a,o).catch(function(){var e=Ze($e().mark((function e(t){var n;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.code!=="auth/".concat("missing-recaptcha-token")){e.next=10;break}return console.log("Password resets are protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the password reset flow."),e.next=4,Sa(a,o,"getOobCode",!0);case 4:return n=e.sent,r&&$o(a,n,r),e.next=8,Ba(a,n);case 8:e.next=11;break;case 10:return e.abrupt("return",Promise.reject(t));case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 14:case"end":return e.stop()}}),e)}))),es.apply(this,arguments)}function ts(){return ts=Ze($e().mark((function e(t,n,r){return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Oa(tn(t),{oobCode:n,newPassword:r}).catch(function(){var e=Ze($e().mark((function e(n){return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:throw n.code==="auth/".concat("password-does-not-meet-requirements")&&Jo(t),n;case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 2:case"end":return e.stop()}}),e)}))),ts.apply(this,arguments)}function ns(){return ns=Ze($e().mark((function e(t,n){return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ja(tn(t),{oobCode:n});case 2:case"end":return e.stop()}}),e)}))),ns.apply(this,arguments)}function rs(e,t){return is.apply(this,arguments)}function is(){return is=Ze($e().mark((function e(t,n){var r,i,a,o;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=tn(t),e.next=3,Oa(r,{oobCode:n});case 3:i=e.sent,ti(a=i.requestType,r,"internal-error"),e.t0=a,e.next="EMAIL_SIGNIN"===e.t0?9:"VERIFY_AND_CHANGE_EMAIL"===e.t0?10:"REVERT_SECOND_FACTOR_ADDITION"===e.t0?12:13;break;case 9:return e.abrupt("break",14);case 10:return ti(i.newEmail,r,"internal-error"),e.abrupt("break",14);case 12:ti(i.mfaInfo,r,"internal-error");case 13:ti(i.email,r,"internal-error");case 14:return o=null,i.mfaInfo&&(o=Qo._fromServerResponse(ba(r),i.mfaInfo)),e.abrupt("return",{data:{email:("VERIFY_AND_CHANGE_EMAIL"===i.requestType?i.newEmail:i.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===i.requestType?i.email:i.newEmail)||null,multiFactorInfo:o},operation:a});case 17:case"end":return e.stop()}}),e)}))),is.apply(this,arguments)}function as(){return as=Ze($e().mark((function e(t,n){var r,i;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,rs(tn(t),n);case 2:return r=e.sent,i=r.data,e.abrupt("return",i.email);case 5:case"end":return e.stop()}}),e)}))),as.apply(this,arguments)}function os(e,t,n){return ss.apply(this,arguments)}function ss(){return ss=Ze($e().mark((function e(t,n,r){var i,a,o,s,u,c,l;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=ba(t),o={returnSecureToken:!0,email:n,password:r,clientType:"CLIENT_TYPE_WEB"},!(null===(i=a._getRecaptchaConfig())||void 0===i?void 0:i.emailPasswordEnabled)){e.next=9;break}return e.next=5,Sa(a,o,"signUpPassword");case 5:u=e.sent,s=wo(a,u),e.next=10;break;case 9:s=wo(a,o).catch(function(){var e=Ze($e().mark((function e(t){var n;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.code!=="auth/".concat("missing-recaptcha-token")){e.next=6;break}return console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow."),e.next=4,Sa(a,o,"signUpPassword");case 4:return n=e.sent,e.abrupt("return",wo(a,n));case 6:throw t;case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 10:return e.next=12,s.catch((function(e){throw e.code==="auth/".concat("password-does-not-meet-requirements")&&Jo(t),e}));case 12:return c=e.sent,e.next=15,_o._fromIdTokenResponse(a,"signIn",c);case 15:return l=e.sent,e.next=18,a._updateCurrentUser(l.user);case 18:return e.abrupt("return",l);case 19:case"end":return e.stop()}}),e)}))),ss.apply(this,arguments)}function us(){return us=Ze($e().mark((function e(t,n,r){var i,a,o,s,u;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s=function(e,t){ti(t.handleCodeInApp,a,"argument-error"),t&&$o(a,e,t)},a=ba(t),o={requestType:"EMAIL_SIGNIN",email:n,clientType:"CLIENT_TYPE_WEB"},!(null===(i=a._getRecaptchaConfig())||void 0===i?void 0:i.emailPasswordEnabled)){e.next=12;break}return e.next=6,Sa(a,o,"getOobCode",!0);case 6:return u=e.sent,s(u,r),e.next=10,Ha(a,u);case 10:e.next=15;break;case 12:return s(o,r),e.next=15,Ha(a,o).catch(function(){var e=Ze($e().mark((function e(t){var n;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.code!=="auth/".concat("missing-recaptcha-token")){e.next=10;break}return console.log("Email link sign-in is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow."),e.next=4,Sa(a,o,"getOobCode",!0);case 4:return n=e.sent,s(n,r),e.next=8,Ha(a,n);case 8:e.next=11;break;case 10:return e.abrupt("return",Promise.reject(t));case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 15:case"end":return e.stop()}}),e)}))),us.apply(this,arguments)}function cs(){return cs=Ze($e().mark((function e(t,n,r){var i,a;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=tn(t),ti((a=lo.credentialWithLink(n,r||ii()))._tenantId===(i.tenantId||null),i,"tenant-id-mismatch"),e.abrupt("return",Fo(i,a));case 4:case"end":return e.stop()}}),e)}))),cs.apply(this,arguments)}function ls(e,t){return fs.apply(this,arguments)}function fs(){return fs=Ze($e().mark((function e(t,n){return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",hi(t,"POST","/v1/accounts:createAuthUri",di(t,n)));case 1:case"end":return e.stop()}}),e)}))),fs.apply(this,arguments)}function ds(){return ds=Ze($e().mark((function e(t,n){var r,i,a,o;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=ai()?ii():"http://localhost",i={identifier:n,continueUri:r},e.next=4,ls(tn(t),i);case 4:return a=e.sent,o=a.signinMethods,e.abrupt("return",o||[]);case 7:case"end":return e.stop()}}),e)}))),ds.apply(this,arguments)}function hs(){return(hs=Ze($e().mark((function e(t,n){var r,i,a,o;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=tn(t),e.next=3,t.getIdToken();case 3:return i=e.sent,a={requestType:"VERIFY_EMAIL",idToken:i},n&&$o(r.auth,a,n),e.next=8,za(r.auth,a);case 8:if(o=e.sent,o.email===t.email){e.next=13;break}return e.next=13,t.reload();case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ps(){return(ps=Ze($e().mark((function e(t,n,r){var i,a,o,s;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=tn(t),e.next=3,t.getIdToken();case 3:return a=e.sent,o={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:a,newEmail:n},r&&$o(i.auth,o,r),e.next=8,Ga(i.auth,o);case 8:if(s=e.sent,s.email===t.email){e.next=13;break}return e.next=13,t.reload();case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function vs(e,t){return ms.apply(this,arguments)}function ms(){return ms=Ze($e().mark((function e(t,n){return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",hi(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)}))),ms.apply(this,arguments)}function gs(){return(gs=Ze($e().mark((function e(t,n){var r,i,a,o,s,u,c;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.displayName,i=n.photoURL,void 0!==r||void 0!==i){e.next=3;break}return e.abrupt("return");case 3:return a=tn(t),e.next=6,a.getIdToken();case 6:return o=e.sent,s={idToken:o,displayName:r,photoUrl:i,returnSecureToken:!0},e.next=10,Li(a,vs(a.auth,s));case 10:return u=e.sent,a.displayName=u.displayName||null,a.photoURL=u.photoUrl||null,(c=a.providerData.find((function(e){return"password"===e.providerId})))&&(c.displayName=a.displayName,c.photoURL=a.photoURL),e.next=17,a._updateTokensIfNecessary(u);case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ys(e,t,n){return bs.apply(this,arguments)}function bs(){return bs=Ze($e().mark((function e(t,n,r){var i,a,o,s;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.auth,e.next=3,t.getIdToken();case 3:return a=e.sent,o={idToken:a,returnSecureToken:!0},n&&(o.email=n),r&&(o.password=r),e.next=9,Li(t,Aa(i,o));case 9:return s=e.sent,e.next=12,t._updateTokensIfNecessary(s,!0);case 12:case"end":return e.stop()}}),e)}))),bs.apply(this,arguments)}var ks=g((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};h(this,e),this.isNewUser=t,this.providerId=n,this.profile=r})),ws=function(e){b(n,e);var t=_(n);function n(e,r,i,a){var o;return h(this,n),(o=t.call(this,e,r,i)).username=a,o}return g(n)}(ks),xs=function(e){b(n,e);var t=_(n);function n(e,r){return h(this,n),t.call(this,e,"facebook.com",r)}return g(n)}(ks),_s=function(e){b(n,e);var t=_(n);function n(e,r){return h(this,n),t.call(this,e,"github.com",r,"string"===typeof(null===r||void 0===r?void 0:r.login)?null===r||void 0===r?void 0:r.login:null)}return g(n)}(ws),Ss=function(e){b(n,e);var t=_(n);function n(e,r){return h(this,n),t.call(this,e,"google.com",r)}return g(n)}(ks),Es=function(e){b(n,e);var t=_(n);function n(e,r,i){return h(this,n),t.call(this,e,"twitter.com",r,i)}return g(n)}(ws);function Is(e){var t=e.user,n=e._tokenResponse;return t.isAnonymous&&!n?{providerId:null,isNewUser:!1,profile:null}:function(e){var t,n;if(!e)return null;var r=e.providerId,i=e.rawUserInfo?JSON.parse(e.rawUserInfo):{},a=e.isNewUser||"identitytoolkit#SignupNewUserResponse"===e.kind;if(!r&&(null===e||void 0===e?void 0:e.idToken)){var o=null===(n=null===(t=Di(e.idToken))||void 0===t?void 0:t.firebase)||void 0===n?void 0:n.sign_in_provider;if(o)return new ks(a,"anonymous"!==o&&"custom"!==o?o:null)}if(!r)return null;switch(r){case"facebook.com":return new xs(a,i);case"github.com":return new _s(a,i);case"google.com":return new Ss(a,i);case"twitter.com":return new Es(a,i,e.screenName||null);case"custom":case"anonymous":return new ks(a,null);default:return new ks(a,r,i)}}(n)}var Ts=function(){function e(t,n,r){h(this,e),this.type=t,this.credential=n,this.user=r}return g(e,[{key:"toJSON",value:function(){return{multiFactorSession:xt({},"enroll"===this.type?"idToken":"pendingCredential",this.credential)}}}],[{key:"_fromIdtoken",value:function(t,n){return new e("enroll",t,n)}},{key:"_fromMfaPendingCredential",value:function(t){return new e("signin",t)}},{key:"fromJSON",value:function(t){var n,r;if(null===t||void 0===t?void 0:t.multiFactorSession){if(null===(n=t.multiFactorSession)||void 0===n?void 0:n.pendingCredential)return e._fromMfaPendingCredential(t.multiFactorSession.pendingCredential);if(null===(r=t.multiFactorSession)||void 0===r?void 0:r.idToken)return e._fromIdtoken(t.multiFactorSession.idToken)}return null}}]),e}(),Cs=function(){function e(t,n,r){h(this,e),this.session=t,this.hints=n,this.signInResolver=r}return g(e,[{key:"resolveSignIn",value:function(){var e=Ze($e().mark((function e(t){var n;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t,e.abrupt("return",this.signInResolver(n));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}],[{key:"_fromError",value:function(t,n){var r=ba(t),i=n.customData._serverResponse,a=(i.mfaInfo||[]).map((function(e){return Qo._fromServerResponse(r,e)}));ti(i.mfaPendingCredential,r,"internal-error");var o=Ts._fromMfaPendingCredential(i.mfaPendingCredential);return new e(o,a,function(){var e=Ze($e().mark((function e(t){var a,s,u;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._process(r,o);case 2:a=e.sent,delete i.mfaInfo,delete i.mfaPendingCredential,s=Object.assign(Object.assign({},i),{idToken:a.idToken,refreshToken:a.refreshToken}),e.t0=n.operationType,e.next="signIn"===e.t0?9:"reauthenticate"===e.t0?15:17;break;case 9:return e.next=11,_o._fromIdTokenResponse(r,n.operationType,s);case 11:return u=e.sent,e.next=14,r._updateCurrentUser(u.user);case 14:return e.abrupt("return",u);case 15:return ti(n.user,r,"internal-error"),e.abrupt("return",_o._forOperation(n.user,n.operationType,s));case 17:Xr(r,"internal-error");case 18:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}}]),e}();function Ns(e,t){return hi(e,"POST","/v2/accounts/mfaEnrollment:start",di(e,t))}function Os(e,t){return hi(e,"POST","/v2/accounts/mfaEnrollment:start",di(e,t))}function Ps(e,t){return hi(e,"POST","/v2/accounts/mfaEnrollment:finalize",di(e,t))}function As(e,t){return hi(e,"POST","/v2/accounts/mfaEnrollment:withdraw",di(e,t))}var Rs=function(){function e(t){var n=this;h(this,e),this.user=t,this.enrolledFactors=[],t._onReload((function(e){e.mfaInfo&&(n.enrolledFactors=e.mfaInfo.map((function(e){return Qo._fromServerResponse(t.auth,e)})))}))}return g(e,[{key:"getSession",value:function(){var e=Ze($e().mark((function e(){return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=Ts,e.next=3,this.user.getIdToken();case 3:return e.t1=e.sent,e.t2=this.user,e.abrupt("return",e.t0._fromIdtoken.call(e.t0,e.t1,e.t2));case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"enroll",value:function(){var e=Ze($e().mark((function e(t,n){var r,i,a;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t,e.next=3,this.getSession();case 3:return i=e.sent,e.next=6,Li(this.user,r._process(this.user.auth,i,n));case 6:return a=e.sent,e.next=9,this.user._updateTokensIfNecessary(a);case 9:return e.abrupt("return",this.user.reload());case 10:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"unenroll",value:function(){var e=Ze($e().mark((function e(t){var n,r,i;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="string"===typeof t?t:t.uid,e.next=3,this.user.getIdToken();case 3:return r=e.sent,e.prev=4,e.next=7,Li(this.user,As(this.user.auth,{idToken:r,mfaEnrollmentId:n}));case 7:return i=e.sent,this.enrolledFactors=this.enrolledFactors.filter((function(e){return e.uid!==n})),e.next=11,this.user._updateTokensIfNecessary(i);case 11:return e.next=13,this.user.reload();case 13:e.next=18;break;case 15:throw e.prev=15,e.t0=e.catch(4),e.t0;case 18:case"end":return e.stop()}}),e,this,[[4,15]])})));return function(t){return e.apply(this,arguments)}}()}],[{key:"_fromUser",value:function(t){return new e(t)}}]),e}(),js=new WeakMap;var Ds="__sak",Ls=function(){function e(t,n){h(this,e),this.storageRetriever=t,this.type=n}return g(e,[{key:"_isAvailable",value:function(){try{return this.storage?(this.storage.setItem(Ds,"1"),this.storage.removeItem(Ds),Promise.resolve(!0)):Promise.resolve(!1)}catch(e){return Promise.resolve(!1)}}},{key:"_set",value:function(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}},{key:"_get",value:function(e){var t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}},{key:"_remove",value:function(e){return this.storage.removeItem(e),Promise.resolve()}},{key:"storage",get:function(){return this.storageRetriever()}}]),e}();var Ms=function(e){b(n,e);var t=_(n);function n(){var e;return h(this,n),(e=t.call(this,(function(){return window.localStorage}),"LOCAL")).boundEventHandler=function(t,n){return e.onStorageEvent(t,n)},e.listeners={},e.localCache={},e.pollTimer=null,e.safariLocalStorageNotSynced=function(){var e=Lt();return aa(e)||fa(e)}()&&function(){try{return!(!window||window===window.top)}catch(e){return!1}}(),e.fallbackToPolling=da(),e._shouldAllowMigration=!0,e}return g(n,[{key:"forAllChangedKeys",value:function(e){for(var t=0,n=Object.keys(this.listeners);t<n.length;t++){var r=n[t],i=this.storage.getItem(r),a=this.localCache[r];i!==a&&e(r,a,i)}}},{key:"onStorageEvent",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e.key){var r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){var i=this.storage.getItem(r);if(e.newValue!==i)null!==e.newValue?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}var a=function(){var e=t.storage.getItem(r);(n||t.localCache[r]!==e)&&t.notifyListeners(r,e)},o=this.storage.getItem(r);zt()&&10===document.documentMode&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,10):a()}else this.forAllChangedKeys((function(e,n,r){t.notifyListeners(e,r)}))}},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t?JSON.parse(t):t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval((function(){e.forAllChangedKeys((function(t,n,r){e.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:r}),!0)}))}),1e3)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"attachListener",value:function(){window.addEventListener("storage",this.boundEventHandler)}},{key:"detachListener",value:function(){window.removeEventListener("storage",this.boundEventHandler)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}},{key:"_set",value:function(){var e=Ze($e().mark((function e(t,r){return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Or(k(n.prototype),"_set",this).call(this,t,r);case 2:this.localCache[t]=JSON.stringify(r);case 3:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=Ze($e().mark((function e(t){var r;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Or(k(n.prototype),"_get",this).call(this,t);case 2:return r=e.sent,this.localCache[t]=JSON.stringify(r),e.abrupt("return",r);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=Ze($e().mark((function e(t){return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Or(k(n.prototype),"_remove",this).call(this,t);case 2:delete this.localCache[t];case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),n}(Ls);Ms.type="LOCAL";var Us=Ms,Fs=function(e){b(n,e);var t=_(n);function n(){return h(this,n),t.call(this,(function(){return window.sessionStorage}),"SESSION")}return g(n,[{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),n}(Ls);Fs.type="SESSION";var zs=Fs;function Vs(e){return Promise.all(e.map(function(){var e=Ze($e().mark((function e(t){var n;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t;case 3:return n=e.sent,e.abrupt("return",{fulfilled:!0,value:n});case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",{fulfilled:!1,reason:e.t0});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()))}var Bs=function(){function e(t){h(this,e),this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}return g(e,[{key:"isListeningto",value:function(e){return this.eventTarget===e}},{key:"handleEvent",value:function(){var e=Ze($e().mark((function e(t){var n,r,i,a,o,s,u,c;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=(n=t).data,i=r.eventId,a=r.eventType,o=r.data,null===(s=this.handlersMap[a])||void 0===s?void 0:s.size){e.next=5;break}return e.abrupt("return");case 5:return n.ports[0].postMessage({status:"ack",eventId:i,eventType:a}),u=Array.from(s).map(function(){var e=Ze($e().mark((function e(t){return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t(n.origin,o));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.next=9,Vs(u);case 9:c=e.sent,n.ports[0].postMessage({status:"done",eventId:i,eventType:a,response:c});case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_subscribe",value:function(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}},{key:"_unsubscribe",value:function(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}],[{key:"_getInstance",value:function(t){var n=this.receivers.find((function(e){return e.isListeningto(t)}));if(n)return n;var r=new e(t);return this.receivers.push(r),r}}]),e}();function qs(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="",r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}Bs.receivers=[];var Hs=function(){function e(t){h(this,e),this.target=t,this.handlers=new Set}return g(e,[{key:"removeMessageHandler",value:function(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}},{key:"_send",value:function(){var e=Ze($e().mark((function e(t,n){var r,i,a,o,s=this,u=arguments;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=u.length>2&&void 0!==u[2]?u[2]:50,i="undefined"!==typeof MessageChannel?new MessageChannel:null){e.next=4;break}throw new Error("connection_unavailable");case 4:return e.abrupt("return",new Promise((function(e,u){var c=qs("",20);i.port1.start();var l=setTimeout((function(){u(new Error("unsupported_event"))}),r);o={messageChannel:i,onMessage:function(t){var n=t;if(n.data.eventId===c)switch(n.data.status){case"ack":clearTimeout(l),a=setTimeout((function(){u(new Error("timeout"))}),3e3);break;case"done":clearTimeout(a),e(n.data.response);break;default:clearTimeout(l),clearTimeout(a),u(new Error("invalid_response"))}}},s.handlers.add(o),i.port1.addEventListener("message",o.onMessage),s.target.postMessage({eventType:t,eventId:c,data:n},[i.port2])})).finally((function(){o&&s.removeMessageHandler(o)})));case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}();function Ws(){return window}function Gs(e){Ws().location.href=e}function Ks(){return"undefined"!==typeof Ws().WorkerGlobalScope&&"function"===typeof Ws().importScripts}function Qs(){return Ys.apply(this,arguments)}function Ys(){return(Ys=Ze($e().mark((function e(){var t;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===navigator||void 0===navigator?void 0:navigator.serviceWorker){e.next=2;break}return e.abrupt("return",null);case 2:return e.prev=2,e.next=5,navigator.serviceWorker.ready;case 5:return t=e.sent,e.abrupt("return",t.active);case 9:return e.prev=9,e.t0=e.catch(2),e.abrupt("return",null);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})))).apply(this,arguments)}function Xs(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}var $s="firebaseLocalStorageDb",Js="firebaseLocalStorage",Zs="fbase_key",eu=function(){function e(t){h(this,e),this.request=t}return g(e,[{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.request.addEventListener("success",(function(){t(e.request.result)})),e.request.addEventListener("error",(function(){n(e.request.error)}))}))}}]),e}();function tu(e,t){return e.transaction([Js],t?"readwrite":"readonly").objectStore(Js)}function nu(){var e=indexedDB.deleteDatabase($s);return new eu(e).toPromise()}function ru(){var e=indexedDB.open($s,1);return new Promise((function(t,n){e.addEventListener("error",(function(){n(e.error)})),e.addEventListener("upgradeneeded",(function(){var t=e.result;try{t.createObjectStore(Js,{keyPath:Zs})}catch(r){n(r)}})),e.addEventListener("success",Ze($e().mark((function n(){var r;return $e().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if((r=e.result).objectStoreNames.contains(Js)){n.next=12;break}return r.close(),n.next=5,nu();case 5:return n.t0=t,n.next=8,ru();case 8:n.t1=n.sent,(0,n.t0)(n.t1),n.next=13;break;case 12:t(r);case 13:case"end":return n.stop()}}),n)}))))}))}function iu(e,t,n){return au.apply(this,arguments)}function au(){return au=Ze($e().mark((function e(t,n,r){var i,a;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=tu(t,!0).put((xt(i={},Zs,n),xt(i,"value",r),i)),e.abrupt("return",new eu(a).toPromise());case 2:case"end":return e.stop()}}),e)}))),au.apply(this,arguments)}function ou(e,t){return su.apply(this,arguments)}function su(){return su=Ze($e().mark((function e(t,n){var r,i;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=tu(t,!1).get(n),e.next=3,new eu(r).toPromise();case 3:return i=e.sent,e.abrupt("return",void 0===i?null:i.value);case 5:case"end":return e.stop()}}),e)}))),su.apply(this,arguments)}function uu(e,t){var n=tu(e,!0).delete(t);return new eu(n).toPromise()}var cu=function(){function e(){h(this,e),this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((function(){}),(function(){}))}return g(e,[{key:"_openDb",value:function(){var e=Ze($e().mark((function e(){return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.db){e.next=2;break}return e.abrupt("return",this.db);case 2:return e.next=4,ru();case 4:return this.db=e.sent,e.abrupt("return",this.db);case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_withRetries",value:function(){var e=Ze($e().mark((function e(t){var n,r;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=0;case 1:return e.prev=2,e.next=5,this._openDb();case 5:return r=e.sent,e.next=8,t(r);case 8:return e.abrupt("return",e.sent);case 11:if(e.prev=11,e.t0=e.catch(2),!(n++>3)){e.next=15;break}throw e.t0;case 15:this.db&&(this.db.close(),this.db=void 0);case 16:e.next=1;break;case 18:case"end":return e.stop()}}),e,this,[[2,11]])})));return function(t){return e.apply(this,arguments)}}()},{key:"initializeServiceWorkerMessaging",value:function(){var e=Ze($e().mark((function e(){return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ks()?this.initializeReceiver():this.initializeSender());case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeReceiver",value:function(){var e=Ze($e().mark((function e(){var t=this;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.receiver=Bs._getInstance(Ks()?self:null),this.receiver._subscribe("keyChanged",function(){var e=Ze($e().mark((function e(n,r){var i;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._poll();case 2:return i=e.sent,e.abrupt("return",{keyProcessed:i.includes(r.key)});case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),this.receiver._subscribe("ping",function(){var e=Ze($e().mark((function e(t,n){return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",["keyChanged"]);case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeSender",value:function(){var e=Ze($e().mark((function e(){var t,n,r;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Qs();case 2:if(this.activeServiceWorker=e.sent,this.activeServiceWorker){e.next=5;break}return e.abrupt("return");case 5:return this.sender=new Hs(this.activeServiceWorker),e.next=8,this.sender._send("ping",{},800);case 8:if(r=e.sent){e.next=11;break}return e.abrupt("return");case 11:(null===(t=r[0])||void 0===t?void 0:t.fulfilled)&&(null===(n=r[0])||void 0===n?void 0:n.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0);case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyServiceWorker",value:function(){var e=Ze($e().mark((function e(t){return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.sender&&this.activeServiceWorker&&Xs()===this.activeServiceWorker){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50);case 5:e.next=9;break;case 7:e.prev=7,e.t0=e.catch(2);case 9:case"end":return e.stop()}}),e,this,[[2,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_isAvailable",value:function(){var e=Ze($e().mark((function e(){var t;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,indexedDB){e.next=3;break}return e.abrupt("return",!1);case 3:return e.next=5,ru();case 5:return t=e.sent,e.next=8,iu(t,Ds,"1");case 8:return e.next=10,uu(t,Ds);case 10:return e.abrupt("return",!0);case 13:e.prev=13,e.t0=e.catch(0);case 15:return e.abrupt("return",!1);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(){return e.apply(this,arguments)}}()},{key:"_withPendingWrite",value:function(){var e=Ze($e().mark((function e(t){return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.pendingWrites++,e.prev=1,e.next=4,t();case 4:return e.prev=4,this.pendingWrites--,e.finish(4);case 7:case"end":return e.stop()}}),e,this,[[1,,4,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=Ze($e().mark((function e(t,n){var r=this;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(Ze($e().mark((function e(){return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r._withRetries((function(e){return iu(e,t,n)}));case 2:return r.localCache[t]=n,e.abrupt("return",r.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=Ze($e().mark((function e(t){var n;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){return ou(e,t)}));case 2:return n=e.sent,this.localCache[t]=n,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=Ze($e().mark((function e(t){var n=this;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(Ze($e().mark((function e(){return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n._withRetries((function(e){return uu(e,t)}));case 2:return delete n.localCache[t],e.abrupt("return",n.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_poll",value:function(){var e=Ze($e().mark((function e(){var t,n,r,i,a,o,s,u,c,l,f;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){var t=tu(e,!1).getAll();return new eu(t).toPromise()}));case 2:if(t=e.sent){e.next=5;break}return e.abrupt("return",[]);case 5:if(0===this.pendingWrites){e.next=7;break}return e.abrupt("return",[]);case 7:n=[],r=new Set,i=T(t);try{for(i.s();!(a=i.n()).done;)o=a.value,s=o.fbase_key,u=o.value,r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(u)&&(this.notifyListeners(s,u),n.push(s))}catch(d){i.e(d)}finally{i.f()}for(c=0,l=Object.keys(this.localCache);c<l.length;c++)f=l[c],this.localCache[f]&&!r.has(f)&&(this.notifyListeners(f,null),n.push(f));return e.abrupt("return",n);case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval(Ze($e().mark((function t(){return $e().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e._poll());case 1:case"end":return t.stop()}}),t)}))),800)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}]),e}();cu.type="LOCAL";var lu=cu;function fu(e,t){return hi(e,"POST","/v2/accounts/mfaSignIn:start",di(e,t))}function du(e,t){return hi(e,"POST","/v2/accounts/mfaSignIn:finalize",di(e,t))}var hu=1e12,pu=function(){function e(t){h(this,e),this.auth=t,this.counter=hu,this._widgets=new Map}return g(e,[{key:"render",value:function(e,t){var n=this.counter;return this._widgets.set(n,new vu(e,this.auth.name,t||{})),this.counter++,n}},{key:"reset",value:function(e){var t,n=e||hu;null===(t=this._widgets.get(n))||void 0===t||t.delete(),this._widgets.delete(n)}},{key:"getResponse",value:function(e){var t,n=e||hu;return(null===(t=this._widgets.get(n))||void 0===t?void 0:t.getResponse())||""}},{key:"execute",value:function(){var e=Ze($e().mark((function e(t){var n,r;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t||hu,null===(n=this._widgets.get(r))||void 0===n||n.execute(),e.abrupt("return","");case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}(),vu=function(){function e(t,n,r){var i=this;h(this,e),this.params=r,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=function(){i.execute()};var a="string"===typeof t?document.getElementById(t):t;ti(a,"argument-error",{appName:n}),this.container=a,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}return g(e,[{key:"getResponse",value:function(){return this.checkIfDeleted(),this.responseToken}},{key:"delete",value:function(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}},{key:"execute",value:function(){var e=this;this.checkIfDeleted(),this.timerId||(this.timerId=window.setTimeout((function(){e.responseToken=function(e){for(var t=[],n="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",r=0;r<e;r++)t.push(n.charAt(Math.floor(Math.random()*n.length)));return t.join("")}(50);var t=e.params,n=t.callback,r=t["expired-callback"];if(n)try{n(e.responseToken)}catch(i){}e.timerId=window.setTimeout((function(){if(e.timerId=null,e.responseToken=null,r)try{r()}catch(i){}e.isVisible&&e.execute()}),6e4)}),500))}},{key:"checkIfDeleted",value:function(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}]),e}();var mu=xa("rcb"),gu=new si(3e4,6e4),yu=function(){function e(){var t;h(this,e),this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!(null===(t=Ws().grecaptcha)||void 0===t?void 0:t.render)}return g(e,[{key:"load",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return ti(function(e){return e.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(e)}(n),e,"argument-error"),this.shouldResolveImmediately(n)&&zr(Ws().grecaptcha)?Promise.resolve(Ws().grecaptcha):new Promise((function(r,i){var a=Ws().setTimeout((function(){i($r(e,"network-request-failed"))}),gu.get());Ws()[mu]=function(){Ws().clearTimeout(a),delete Ws()[mu];var o=Ws().grecaptcha;if(o&&zr(o)){var s=o.render;o.render=function(e,n){var r=s(e,n);return t.counter++,r},t.hostLanguage=n,r(o)}else i($r(e,"internal-error"))},wa("".concat("https://www.google.com/recaptcha/api.js?","?").concat(Yt({onload:mu,render:"explicit",hl:n}))).catch((function(){clearTimeout(a),i($r(e,"internal-error"))}))}))}},{key:"clearedOneInstance",value:function(){this.counter--}},{key:"shouldResolveImmediately",value:function(e){var t;return!!(null===(t=Ws().grecaptcha)||void 0===t?void 0:t.render)&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}]),e}();var bu=function(){function e(){h(this,e)}return g(e,[{key:"load",value:function(){var e=Ze($e().mark((function e(t){return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new pu(t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearedOneInstance",value:function(){}}]),e}(),ku="recaptcha",wu={theme:"light",type:"image"},xu=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Object.assign({},wu);h(this,e),this.parameters=r,this.type=ku,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=ba(t),this.isInvisible="invisible"===this.parameters.size,ti("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment");var i="string"===typeof n?document.getElementById(n):n;ti(i,this.auth,"argument-error"),this.container=i,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new bu:new yu,this.validateStartingState()}return g(e,[{key:"verify",value:function(){var e=Ze($e().mark((function e(){var t,n,r,i=this;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertNotDestroyed(),e.next=3,this.render();case 3:if(t=e.sent,n=this.getAssertedRecaptcha(),!(r=n.getResponse(t))){e.next=8;break}return e.abrupt("return",r);case 8:return e.abrupt("return",new Promise((function(e){i.tokenChangeListeners.add((function t(n){n&&(i.tokenChangeListeners.delete(t),e(n))})),i.isInvisible&&n.execute(t)})));case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;try{this.assertNotDestroyed()}catch(t){return Promise.reject(t)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch((function(t){throw e.renderPromise=null,t}))),this.renderPromise}},{key:"_reset",value:function(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}},{key:"clear",value:function(){var e=this;this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach((function(t){e.container.removeChild(t)}))}},{key:"validateStartingState",value:function(){ti(!this.parameters.sitekey,this.auth,"argument-error"),ti(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),ti("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment")}},{key:"makeTokenCallback",value:function(e){var t=this;return function(n){if(t.tokenChangeListeners.forEach((function(e){return e(n)})),"function"===typeof e)e(n);else if("string"===typeof e){var r=Ws()[e];"function"===typeof r&&r(n)}}}},{key:"assertNotDestroyed",value:function(){ti(!this.destroyed,this.auth,"internal-error")}},{key:"makeRenderPromise",value:function(){var e=Ze($e().mark((function e(){var t,n;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.init();case 2:return this.widgetId||(t=this.container,this.isInvisible||(n=document.createElement("div"),t.appendChild(n),t=n),this.widgetId=this.getAssertedRecaptcha().render(t,this.parameters)),e.abrupt("return",this.widgetId);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"init",value:function(){var e=Ze($e().mark((function e(){var t;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ti(ai()&&!Ks(),this.auth,"internal-error"),e.next=3,_u();case 3:return e.next=5,this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);case 5:return this.recaptcha=e.sent,e.next=8,xi(this.auth);case 8:ti(t=e.sent,this.auth,"internal-error"),this.parameters.sitekey=t;case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getAssertedRecaptcha",value:function(){return ti(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}]),e}();function _u(){var e=null;return new Promise((function(t){"complete"!==document.readyState?(e=function(){return t()},window.addEventListener("load",e)):t()})).catch((function(t){throw e&&window.removeEventListener("load",e),t}))}var Su=function(){function e(t,n){h(this,e),this.verificationId=t,this.onConfirmation=n}return g(e,[{key:"confirm",value:function(e){var t=uo._fromVerification(this.verificationId,e);return this.onConfirmation(t)}}]),e}();function Eu(){return Eu=Ze($e().mark((function e(t,n,r){var i,a;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=ba(t),e.next=3,Nu(i,n,tn(r));case 3:return a=e.sent,e.abrupt("return",new Su(a,(function(e){return Fo(i,e)})));case 5:case"end":return e.stop()}}),e)}))),Eu.apply(this,arguments)}function Iu(e,t,n){return Tu.apply(this,arguments)}function Tu(){return(Tu=Ze($e().mark((function e(t,n,r){var i,a;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=tn(t),e.next=3,Ro(!1,i,"phone");case 3:return e.next=5,Nu(i.auth,n,tn(r));case 5:return a=e.sent,e.abrupt("return",new Su(a,(function(e){return Vo(i,e)})));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Cu(){return(Cu=Ze($e().mark((function e(t,n,r){var i,a;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=tn(t),e.next=3,Nu(i.auth,n,tn(r));case 3:return a=e.sent,e.abrupt("return",new Su(a,(function(e){return qo(i,e)})));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Nu(e,t,n){return Ou.apply(this,arguments)}function Ou(){return Ou=Ze($e().mark((function e(t,n,r){var i,a,o,s,u,c,l,f,d;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.verify();case 2:if(a=e.sent,e.prev=3,ti("string"===typeof a,t,"argument-error"),ti(r.type===ku,t,"argument-error"),!("session"in(o="string"===typeof n?{phoneNumber:n}:n))){e.next=26;break}if(s=o.session,!("phoneNumber"in o)){e.next=17;break}return ti("enroll"===s.type,t,"internal-error"),e.next=13,Ns(t,{idToken:s.credential,phoneEnrollmentInfo:{phoneNumber:o.phoneNumber,recaptchaToken:a}});case 13:return u=e.sent,e.abrupt("return",u.phoneSessionInfo.sessionInfo);case 17:return ti("signin"===s.type,t,"internal-error"),ti(c=(null===(i=o.multiFactorHint)||void 0===i?void 0:i.uid)||o.multiFactorUid,t,"missing-multi-factor-info"),e.next=22,fu(t,{mfaPendingCredential:s.credential,mfaEnrollmentId:c,phoneSignInInfo:{recaptchaToken:a}});case 22:return l=e.sent,e.abrupt("return",l.phoneResponseInfo.sessionInfo);case 24:e.next=31;break;case 26:return e.next=28,no(t,{phoneNumber:o.phoneNumber,recaptchaToken:a});case 28:return f=e.sent,d=f.sessionInfo,e.abrupt("return",d);case 31:return e.prev=31,r._reset(),e.finish(31);case 34:case"end":return e.stop()}}),e,null,[[3,,31,34]])}))),Ou.apply(this,arguments)}function Pu(){return(Pu=Ze($e().mark((function e(t,n){return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Po(tn(t),n);case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Au=function(){function e(t){h(this,e),this.providerId=e.PROVIDER_ID,this.auth=ba(t)}return g(e,[{key:"verifyPhoneNumber",value:function(e,t){return Nu(this.auth,e,tn(t))}}],[{key:"credential",value:function(e,t){return uo._fromVerification(e,t)}},{key:"credentialFromResult",value:function(t){var n=t;return e.credentialFromTaggedObject(n)}},{key:"credentialFromError",value:function(t){return e.credentialFromTaggedObject(t.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.phoneNumber,r=t.temporaryProof;return n&&r?uo._fromTokenResponse(n,r):null}}]),e}();function Ru(e,t){return t?Ji(t):(ti(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}Au.PROVIDER_ID="phone",Au.PHONE_SIGN_IN_METHOD="phone";var ju=function(e){b(n,e);var t=_(n);function n(e){var r;return h(this,n),(r=t.call(this,"custom","custom")).params=e,r}return g(n,[{key:"_getIdTokenResponse",value:function(e){return Za(e,this._buildIdpRequest())}},{key:"_linkToIdToken",value:function(e,t){return Za(e,this._buildIdpRequest(t))}},{key:"_getReauthenticationResolver",value:function(e){return Za(e,this._buildIdpRequest())}},{key:"_buildIdpRequest",value:function(e){var t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}]),n}(Na);function Du(e){return Mo(e.auth,new ju(e),e.bypassAuthState)}function Lu(e){var t=e.auth,n=e.user;return ti(n,t,"internal-error"),Do(n,new ju(e),e.bypassAuthState)}function Mu(e){return Uu.apply(this,arguments)}function Uu(){return Uu=Ze($e().mark((function e(t){var n,r;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.auth,ti(r=t.user,n,"internal-error"),e.abrupt("return",Po(r,new ju(t),t.bypassAuthState));case 3:case"end":return e.stop()}}),e)}))),Uu.apply(this,arguments)}var Fu=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];h(this,e),this.auth=t,this.resolver=r,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}return g(e,[{key:"execute",value:function(){var e=this;return new Promise(function(){var t=Ze($e().mark((function t(n,r){return $e().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.pendingPromise={resolve:n,reject:r},t.prev=1,t.next=4,e.resolver._initialize(e.auth);case 4:return e.eventManager=t.sent,t.next=7,e.onExecution();case 7:e.eventManager.registerConsumer(e),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(1),e.reject(t.t0);case 13:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e,n){return t.apply(this,arguments)}}())}},{key:"onAuthEvent",value:function(){var e=Ze($e().mark((function e(t){var n,r,i,a,o,s,u;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.urlResponse,r=t.sessionId,i=t.postBody,a=t.tenantId,o=t.error,s=t.type,!o){e.next=4;break}return this.reject(o),e.abrupt("return");case 4:return u={auth:this.auth,requestUri:n,sessionId:r,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState},e.prev=5,e.t0=this,e.next=9,this.getIdpTask(s)(u);case 9:e.t1=e.sent,e.t0.resolve.call(e.t0,e.t1),e.next=16;break;case 13:e.prev=13,e.t2=e.catch(5),this.reject(e.t2);case 16:case"end":return e.stop()}}),e,this,[[5,13]])})));return function(t){return e.apply(this,arguments)}}()},{key:"onError",value:function(e){this.reject(e)}},{key:"getIdpTask",value:function(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Du;case"linkViaPopup":case"linkViaRedirect":return Mu;case"reauthViaPopup":case"reauthViaRedirect":return Lu;default:Xr(this.auth,"internal-error")}}},{key:"resolve",value:function(e){ri(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}},{key:"reject",value:function(e){ri(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}},{key:"unregisterAndCleanUp",value:function(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}]),e}(),zu=new si(2e3,1e4);function Vu(e,t,n){return Bu.apply(this,arguments)}function Bu(){return Bu=Ze($e().mark((function e(t,n,r){var i,a,o;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=ba(t),Zr(t,n,fo),a=Ru(i,r),o=new Gu(i,"signInViaPopup",n,a),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)}))),Bu.apply(this,arguments)}function qu(){return(qu=Ze($e().mark((function e(t,n,r){var i,a,o;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Zr((i=tn(t)).auth,n,fo),a=Ru(i.auth,r),o=new Gu(i.auth,"reauthViaPopup",n,a,i),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Hu(e,t,n){return Wu.apply(this,arguments)}function Wu(){return(Wu=Ze($e().mark((function e(t,n,r){var i,a,o;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Zr((i=tn(t)).auth,n,fo),a=Ru(i.auth,r),o=new Gu(i.auth,"linkViaPopup",n,a,i),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Gu=function(e){b(n,e);var t=_(n);function n(e,r,i,a,o){var s;return h(this,n),(s=t.call(this,e,r,a,o)).provider=i,s.authWindow=null,s.pollId=null,n.currentPopupAction&&n.currentPopupAction.cancel(),n.currentPopupAction=x(s),s}return g(n,[{key:"executeNotNull",value:function(){var e=Ze($e().mark((function e(){var t;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.execute();case 2:return ti(t=e.sent,this.auth,"internal-error"),e.abrupt("return",t);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=Ze($e().mark((function e(){var t,n=this;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ri(1===this.filter.length,"Popup operations only handle one event"),t=qs(),e.next=4,this.resolver._openPopup(this.auth,this.provider,this.filter[0],t);case 4:this.authWindow=e.sent,this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch((function(e){n.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(function(e){e||n.reject($r(n.auth,"web-storage-unsupported"))})),this.pollUserCancellation();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"eventId",get:function(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}},{key:"cancel",value:function(){this.reject($r(this.auth,"cancelled-popup-request"))}},{key:"cleanUp",value:function(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,n.currentPopupAction=null}},{key:"pollUserCancellation",value:function(){var e=this;!function t(){var n,r;(null===(r=null===(n=e.authWindow)||void 0===n?void 0:n.window)||void 0===r?void 0:r.closed)?e.pollId=window.setTimeout((function(){e.pollId=null,e.reject($r(e.auth,"popup-closed-by-user"))}),8e3):e.pollId=window.setTimeout(t,zu.get())}()}}]),n}(Fu);Gu.currentPopupAction=null;var Ku="pendingRedirect",Qu=new Map,Yu=function(e){b(n,e);var t=_(n);function n(e,r){var i,a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return h(this,n),(i=t.call(this,e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,a)).eventId=null,i}return g(n,[{key:"execute",value:function(){var e=Ze($e().mark((function e(){var t,r;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=Qu.get(this.auth._key())){e.next=21;break}return e.prev=2,e.next=5,Xu(this.resolver,this.auth);case 5:if(!e.sent){e.next=12;break}return e.next=9,Or(k(n.prototype),"execute",this).call(this);case 9:e.t0=e.sent,e.next=13;break;case 12:e.t0=null;case 13:r=e.t0,t=function(){return Promise.resolve(r)},e.next=20;break;case 17:e.prev=17,e.t1=e.catch(2),t=function(){return Promise.reject(e.t1)};case 20:Qu.set(this.auth._key(),t);case 21:return this.bypassAuthState||Qu.set(this.auth._key(),(function(){return Promise.resolve(null)})),e.abrupt("return",t());case 23:case"end":return e.stop()}}),e,this,[[2,17]])})));return function(){return e.apply(this,arguments)}}()},{key:"onAuthEvent",value:function(){var e=Ze($e().mark((function e(t){var r;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("signInViaRedirect"!==t.type){e.next=4;break}return e.abrupt("return",Or(k(n.prototype),"onAuthEvent",this).call(this,t));case 4:if("unknown"!==t.type){e.next=7;break}return this.resolve(null),e.abrupt("return");case 7:if(!t.eventId){e.next=17;break}return e.next=10,this.auth._redirectUserForId(t.eventId);case 10:if(!(r=e.sent)){e.next=16;break}return this.user=r,e.abrupt("return",Or(k(n.prototype),"onAuthEvent",this).call(this,t));case 16:this.resolve(null);case 17:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=Ze($e().mark((function e(){return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"cleanUp",value:function(){}}]),n}(Fu);function Xu(e,t){return $u.apply(this,arguments)}function $u(){return $u=Ze($e().mark((function e(t,n){var r,i,a;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=nc(n),i=tc(t),e.next=4,i._isAvailable();case 4:if(e.sent){e.next=6;break}return e.abrupt("return",!1);case 6:return e.next=8,i._get(r);case 8:return e.t0=e.sent,a="true"===e.t0,e.next=12,i._remove(r);case 12:return e.abrupt("return",a);case 13:case"end":return e.stop()}}),e)}))),$u.apply(this,arguments)}function Ju(e,t){return Zu.apply(this,arguments)}function Zu(){return Zu=Ze($e().mark((function e(t,n){return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",tc(t)._set(nc(n),"true"));case 1:case"end":return e.stop()}}),e)}))),Zu.apply(this,arguments)}function ec(e,t){Qu.set(e._key(),t)}function tc(e){return Ji(e._redirectPersistence)}function nc(e){return ta(Ku,e.config.apiKey,e.name)}function rc(e,t,n){return function(e,t,n){return ic.apply(this,arguments)}(e,t,n)}function ic(){return ic=Ze($e().mark((function e(t,n,r){var i,a;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=ba(t),Zr(t,n,fo),e.next=4,i._initializationPromise;case 4:return a=Ru(i,r),e.next=7,Ju(a,i);case 7:return e.abrupt("return",a._openRedirect(i,n,"signInViaRedirect"));case 8:case"end":return e.stop()}}),e)}))),ic.apply(this,arguments)}function ac(e,t,n){return function(e,t,n){return oc.apply(this,arguments)}(e,t,n)}function oc(){return(oc=Ze($e().mark((function e(t,n,r){var i,a,o;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Zr((i=tn(t)).auth,n,fo),e.next=4,i.auth._initializationPromise;case 4:return a=Ru(i.auth,r),e.next=7,Ju(a,i.auth);case 7:return e.next=9,hc(i);case 9:return o=e.sent,e.abrupt("return",a._openRedirect(i.auth,n,"reauthViaRedirect",o));case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function sc(e,t,n){return function(e,t,n){return uc.apply(this,arguments)}(e,t,n)}function uc(){return(uc=Ze($e().mark((function e(t,n,r){var i,a,o;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Zr((i=tn(t)).auth,n,fo),e.next=4,i.auth._initializationPromise;case 4:return a=Ru(i.auth,r),e.next=7,Ro(!1,i,n.providerId);case 7:return e.next=9,Ju(a,i.auth);case 9:return e.next=11,hc(i);case 11:return o=e.sent,e.abrupt("return",a._openRedirect(i.auth,n,"linkViaRedirect",o));case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function cc(e,t){return lc.apply(this,arguments)}function lc(){return lc=Ze($e().mark((function e(t,n){return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ba(t)._initializationPromise;case 2:return e.abrupt("return",fc(t,n,!1));case 3:case"end":return e.stop()}}),e)}))),lc.apply(this,arguments)}function fc(e,t){return dc.apply(this,arguments)}function dc(){return dc=Ze($e().mark((function e(t,n){var r,i,a,o,s,u=arguments;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=u.length>2&&void 0!==u[2]&&u[2],i=ba(t),a=Ru(i,n),o=new Yu(i,a,r),e.next=6,o.execute();case 6:if(!(s=e.sent)||r){e.next=13;break}return delete s.user._redirectEventId,e.next=11,i._persistUserIfCurrent(s.user);case 11:return e.next=13,i._setRedirectUser(null,n);case 13:return e.abrupt("return",s);case 14:case"end":return e.stop()}}),e)}))),dc.apply(this,arguments)}function hc(e){return pc.apply(this,arguments)}function pc(){return(pc=Ze($e().mark((function e(t){var n;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=qs("".concat(t.uid,":::")),t._redirectEventId=n,e.next=4,t.auth._setRedirectUser(t);case 4:return e.next=6,t.auth._persistUserIfCurrent(t);case 6:return e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var vc=function(){function e(t){h(this,e),this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}return g(e,[{key:"registerConsumer",value:function(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}},{key:"unregisterConsumer",value:function(e){this.consumers.delete(e)}},{key:"onEvent",value:function(e){var t=this;if(this.hasEventBeenHandled(e))return!1;var n=!1;return this.consumers.forEach((function(r){t.isEventForConsumer(e,r)&&(n=!0,t.sendToConsumer(e,r),t.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return gc(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}},{key:"sendToConsumer",value:function(e,t){var n;if(e.error&&!gc(e)){var r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError($r(this.auth,r))}else t.onAuthEvent(e)}},{key:"isEventForConsumer",value:function(e,t){var n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}},{key:"hasEventBeenHandled",value:function(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(mc(e))}},{key:"saveEventToCache",value:function(e){this.cachedEventUids.add(mc(e)),this.lastProcessedEventTime=Date.now()}}]),e}();function mc(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((function(e){return e})).join("-")}function gc(e){var t=e.type,n=e.error;return"unknown"===t&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}function yc(e){return bc.apply(this,arguments)}function bc(){return bc=Ze($e().mark((function e(t){var n,r=arguments;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:{},e.abrupt("return",hi(t,"GET","/v1/projects",n));case 2:case"end":return e.stop()}}),e)}))),bc.apply(this,arguments)}var kc=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,wc=/^https?/;function xc(){return xc=Ze($e().mark((function e(t){var n,r,i,a,o;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.config.emulator){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,yc(t);case 4:n=e.sent,r=n.authorizedDomains,i=T(r),e.prev=7,i.s();case 9:if((a=i.n()).done){e.next=20;break}if(o=a.value,e.prev=11,!_c(o)){e.next=14;break}return e.abrupt("return");case 14:e.next=18;break;case 16:e.prev=16,e.t0=e.catch(11);case 18:e.next=9;break;case 20:e.next=25;break;case 22:e.prev=22,e.t1=e.catch(7),i.e(e.t1);case 25:return e.prev=25,i.f(),e.finish(25);case 28:Xr(t,"unauthorized-domain");case 29:case"end":return e.stop()}}),e,null,[[7,22,25,28],[11,16]])}))),xc.apply(this,arguments)}function _c(e){var t=ii(),n=new URL(t),r=n.protocol,i=n.hostname;if(e.startsWith("chrome-extension://")){var a=new URL(e);return""===a.hostname&&""===i?"chrome-extension:"===r&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===r&&a.hostname===i}if(!wc.test(r))return!1;if(kc.test(e))return i===e;var o=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(i)}var Sc=new si(3e4,6e4);function Ec(){var e=Ws().___jsl;if(null===e||void 0===e?void 0:e.H)for(var t=0,n=Object.keys(e.H);t<n.length;t++){var r=n[t];if(e.H[r].r=e.H[r].r||[],e.H[r].L=e.H[r].L||[],e.H[r].r=d(e.H[r].L),e.CP)for(var i=0;i<e.CP.length;i++)e.CP[i]=null}}var Ic=null;function Tc(e){return Ic=Ic||function(e){return new Promise((function(t,n){var r,i,a;function o(){Ec(),gapi.load("gapi.iframes",{callback:function(){t(gapi.iframes.getContext())},ontimeout:function(){Ec(),n($r(e,"network-request-failed"))},timeout:Sc.get()})}if(null===(i=null===(r=Ws().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(a=Ws().gapi)||void 0===a?void 0:a.load)){var s=xa("iframefcb");return Ws()[s]=function(){gapi.load?o():n($r(e,"network-request-failed"))},wa("https://apis.google.com/js/api.js?onload=".concat(s)).catch((function(e){return n(e)}))}o()}})).catch((function(e){throw Ic=null,e}))}(e),Ic}var Cc=new si(5e3,15e3),Nc="__/auth/iframe",Oc="emulator/auth/iframe",Pc={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Ac=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Rc(e){var t=e.config;ti(t.authDomain,e,"auth-domain-config-required");var n=t.emulator?ui(t,Oc):"https://".concat(e.config.authDomain,"/").concat(Nc),r={apiKey:t.apiKey,appName:e.name,v:$n},i=Ac.get(e.config.apiHost);i&&(r.eid=i);var a=e._getFrameworks();return a.length&&(r.fw=a.join(",")),"".concat(n,"?").concat(Yt(r).slice(1))}function jc(e){return Dc.apply(this,arguments)}function Dc(){return Dc=Ze($e().mark((function e(t){var n,r;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Tc(t);case 2:return n=e.sent,ti(r=Ws().gapi,t,"internal-error"),e.abrupt("return",n.open({where:document.body,url:Rc(t),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Pc,dontclear:!0},(function(e){return new Promise(function(){var n=Ze($e().mark((function n(r,i){var a,o,s;return $e().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return s=function(){Ws().clearTimeout(o),r(e)},n.next=3,e.restyle({setHideOnLeave:!1});case 3:a=$r(t,"network-request-failed"),o=Ws().setTimeout((function(){i(a)}),Cc.get()),e.ping(s).then(s,(function(){i(a)}));case 6:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}())})));case 6:case"end":return e.stop()}}),e)}))),Dc.apply(this,arguments)}var Lc={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Mc=function(){function e(t){h(this,e),this.window=t,this.associatedEvent=null}return g(e,[{key:"close",value:function(){if(this.window)try{this.window.close()}catch(e){}}}]),e}();function Uc(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600,a=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString(),s="",u=Object.assign(Object.assign({},Lc),{width:r.toString(),height:i.toString(),top:a,left:o}),c=Lt().toLowerCase();n&&(s=oa(c)?"_blank":n),ia(c)&&(t=t||"http://localhost",u.scrollbars="yes");var f=Object.entries(u).reduce((function(e,t){var n=l(t,2),r=n[0],i=n[1];return"".concat(e).concat(r,"=").concat(i,",")}),"");if(function(){var e;return fa(arguments.length>0&&void 0!==arguments[0]?arguments[0]:Lt())&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}(c)&&"_self"!==s)return function(e,t){var n=document.createElement("a");n.href=e,n.target=t;var r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(t||"",s),new Mc(null);var d=window.open(t||"",s,f);ti(d,e,"popup-blocked");try{d.focus()}catch(h){}return new Mc(d)}var Fc="__/auth/handler",zc="emulator/auth/handler",Vc=encodeURIComponent("fac");function Bc(e,t,n,r,i,a){return qc.apply(this,arguments)}function qc(){return qc=Ze($e().mark((function e(t,n,r,i,a,o){var s,u,c,f,d,h,p,v,m,g,y,b,k;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(ti(t.config.authDomain,t,"auth-domain-config-required"),ti(t.config.apiKey,t,"invalid-api-key"),s={apiKey:t.config.apiKey,appName:t.name,authType:r,redirectUrl:i,v:$n,eventId:a},n instanceof fo)for(n.setDefaultLanguage(t.languageCode),s.providerId=n.providerId||"",Gt(n.getCustomParameters())||(s.customParameters=JSON.stringify(n.getCustomParameters())),u=0,c=Object.entries(o||{});u<c.length;u++)f=l(c[u],2),d=f[0],h=f[1],s[d]=h;for(n instanceof ho&&(p=n.getScopes().filter((function(e){return""!==e}))).length>0&&(s.scopes=p.join(",")),t.tenantId&&(s.tid=t.tenantId),v=s,m=0,g=Object.keys(v);m<g.length;m++)y=g[m],void 0===v[y]&&delete v[y];return e.next=10,t._getAppCheckToken();case 10:return b=e.sent,k=b?"#".concat(Vc,"=").concat(encodeURIComponent(b)):"",e.abrupt("return","".concat(Hc(t),"?").concat(Yt(v).slice(1)).concat(k));case 13:case"end":return e.stop()}}),e)}))),qc.apply(this,arguments)}function Hc(e){var t=e.config;return t.emulator?ui(t,zc):"https://".concat(t.authDomain,"/").concat(Fc)}var Wc="webStorageSupport",Gc=function(){function e(){h(this,e),this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=zs,this._completeRedirectFn=fc,this._overrideRedirectResult=ec}return g(e,[{key:"_openPopup",value:function(){var e=Ze($e().mark((function e(t,n,r,i){var a,o;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ri(null===(a=this.eventManagers[t._key()])||void 0===a?void 0:a.manager,"_initialize() not called before _openPopup()"),e.next=3,Bc(t,n,r,ii(),i);case 3:return o=e.sent,e.abrupt("return",Uc(t,o,qs()));case 5:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_openRedirect",value:function(){var e=Ze($e().mark((function e(t,n,r,i){return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._originValidation(t);case 2:return e.next=4,Bc(t,n,r,ii(),i);case 4:return Gs(e.sent),e.abrupt("return",new Promise((function(){})));case 7:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_initialize",value:function(e){var t=this,n=e._key();if(this.eventManagers[n]){var r=this.eventManagers[n],i=r.manager,a=r.promise;return i?Promise.resolve(i):(ri(a,"If manager is not set, promise should be"),a)}var o=this.initAndGetManager(e);return this.eventManagers[n]={promise:o},o.catch((function(){delete t.eventManagers[n]})),o}},{key:"initAndGetManager",value:function(){var e=Ze($e().mark((function e(t){var n,r;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,jc(t);case 2:return n=e.sent,r=new vc(t),n.register("authEvent",(function(e){return ti(null===e||void 0===e?void 0:e.authEvent,t,"invalid-auth-event"),{status:r.onEvent(e.authEvent)?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=n,e.abrupt("return",r);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){this.iframes[e._key()].send(Wc,{type:Wc},(function(n){var r,i=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r[Wc];void 0!==i&&t(!!i),Xr(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return xc.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"_shouldInitProactively",get:function(){return da()||aa()||fa()}}]),e}(),Kc=Gc,Qc=function(){function e(t){h(this,e),this.factorId=t}return g(e,[{key:"_process",value:function(e,t,n){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,n);case"signin":return this._finalizeSignIn(e,t.credential);default:return ni("unexpected MultiFactorSessionType")}}}]),e}(),Yc=function(e){b(n,e);var t=_(n);function n(e){var r;return h(this,n),(r=t.call(this,"phone")).credential=e,r}return g(n,[{key:"_finalizeEnroll",value:function(e,t,n){return function(e,t){return hi(e,"POST","/v2/accounts/mfaEnrollment:finalize",di(e,t))}(e,{idToken:t,displayName:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}},{key:"_finalizeSignIn",value:function(e,t){return function(e,t){return hi(e,"POST","/v2/accounts/mfaSignIn:finalize",di(e,t))}(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}],[{key:"_fromCredential",value:function(e){return new n(e)}}]),n}(Qc),Xc=function(){function e(){h(this,e)}return g(e,null,[{key:"assertion",value:function(e){return Yc._fromCredential(e)}}]),e}();Xc.FACTOR_ID="phone";var $c=function(){function e(){h(this,e)}return g(e,null,[{key:"assertionForEnrollment",value:function(e,t){return Jc._fromSecret(e,t)}},{key:"assertionForSignIn",value:function(e,t){return Jc._fromEnrollmentId(e,t)}},{key:"generateSecret",value:function(){var e=Ze($e().mark((function e(t){var n,r,i;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ti("undefined"!==typeof(null===(n=(r=t).user)||void 0===n?void 0:n.auth),"internal-error"),e.next=4,Os(r.user.auth,{idToken:r.credential,totpEnrollmentInfo:{}});case 4:return i=e.sent,e.abrupt("return",Zc._fromStartTotpMfaEnrollmentResponse(i,r.user.auth));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}]),e}();$c.FACTOR_ID="totp";var Jc=function(e){b(n,e);var t=_(n);function n(e,r,i){var a;return h(this,n),(a=t.call(this,"totp")).otp=e,a.enrollmentId=r,a.secret=i,a}return g(n,[{key:"_finalizeEnroll",value:function(){var e=Ze($e().mark((function e(t,n,r){return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ti("undefined"!==typeof this.secret,t,"argument-error"),e.abrupt("return",Ps(t,{idToken:n,displayName:r,totpVerificationInfo:this.secret._makeTotpVerificationInfo(this.otp)}));case 2:case"end":return e.stop()}}),e,this)})));return function(t,n,r){return e.apply(this,arguments)}}()},{key:"_finalizeSignIn",value:function(){var e=Ze($e().mark((function e(t,n){var r;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ti(void 0!==this.enrollmentId&&void 0!==this.otp,t,"argument-error"),r={verificationCode:this.otp},e.abrupt("return",du(t,{mfaPendingCredential:n,mfaEnrollmentId:this.enrollmentId,totpVerificationInfo:r}));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()}],[{key:"_fromSecret",value:function(e,t){return new n(t,void 0,e)}},{key:"_fromEnrollmentId",value:function(e,t){return new n(t,e)}}]),n}(Qc),Zc=function(){function e(t,n,r,i,a,o,s){h(this,e),this.sessionInfo=o,this.auth=s,this.secretKey=t,this.hashingAlgorithm=n,this.codeLength=r,this.codeIntervalSeconds=i,this.enrollmentCompletionDeadline=a}return g(e,[{key:"_makeTotpVerificationInfo",value:function(e){return{sessionInfo:this.sessionInfo,verificationCode:e}}},{key:"generateQrCodeUrl",value:function(e,t){var n,r=!1;return(el(e)||el(t))&&(r=!0),r&&(el(e)&&(e=(null===(n=this.auth.currentUser)||void 0===n?void 0:n.email)||"unknownuser"),el(t)&&(t=this.auth.name)),"otpauth://totp/".concat(t,":").concat(e,"?secret=").concat(this.secretKey,"&issuer=").concat(t,"&algorithm=").concat(this.hashingAlgorithm,"&digits=").concat(this.codeLength)}}],[{key:"_fromStartTotpMfaEnrollmentResponse",value:function(t,n){return new e(t.totpSessionInfo.sharedSecretKey,t.totpSessionInfo.hashingAlgorithm,t.totpSessionInfo.verificationCodeLength,t.totpSessionInfo.periodSec,new Date(t.totpSessionInfo.finalizeEnrollmentTime).toUTCString(),t.totpSessionInfo.sessionInfo,n)}}]),e}();function el(e){return"undefined"===typeof e||0===(null===e||void 0===e?void 0:e.length)}var tl="@firebase/auth",nl="1.3.0",rl=function(){function e(t){h(this,e),this.auth=t,this.internalListeners=new Map}return g(e,[{key:"getUid",value:function(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}},{key:"getToken",value:function(){var e=Ze($e().mark((function e(t){var n;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertAuthConfigured(),e.next=3,this.auth._initializationPromise;case 3:if(this.auth.currentUser){e.next=5;break}return e.abrupt("return",null);case 5:return e.next=7,this.auth.currentUser.getIdToken(t);case 7:return n=e.sent,e.abrupt("return",{accessToken:n});case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"addAuthTokenListener",value:function(e){if(this.assertAuthConfigured(),!this.internalListeners.has(e)){var t=this.auth.onIdTokenChanged((function(t){e((null===t||void 0===t?void 0:t.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}}},{key:"removeAuthTokenListener",value:function(e){this.assertAuthConfigured();var t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}},{key:"assertAuthConfigured",value:function(){ti(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}},{key:"updateProactiveRefresh",value:function(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}]),e}();var il;!function(e){var t;null===(t=At())||void 0===t||t["_".concat(e)]}("authIdTokenMaxAge");function al(){return window}il="Browser",Hn(new nn("auth",(function(e,t){var n=t.options,r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),o=r.options,s=o.apiKey,u=o.authDomain;ti(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});var c={apiKey:s,authDomain:u,clientPlatform:il,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:ha(il)},l=new ya(r,i,a,c);return function(e,t){var n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Ji);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(l,n),l}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((function(e,t,n){e.getProvider("auth-internal").initialize()}))),Hn(new nn("auth-internal",(function(e){return function(e){return new rl(e)}(ba(e.getProvider("auth").getImmediate()))}),"PRIVATE").setInstantiationMode("EXPLICIT")),rr(tl,nl,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(il)),rr(tl,nl,"esm2017");var ol=2e3;function sl(e,t,n){return ul.apply(this,arguments)}function ul(){return ul=Ze($e().mark((function e(t,n,r){var i,a,o,s,u;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=al(),o=a.BuildInfo,ri(n.sessionId,"AuthEvent did not contain a session ID"),e.next=4,pl(n.sessionId);case 4:return s=e.sent,u={},fa()?u.ibi=o.packageName:ua()?u.apn=o.packageName:Xr(t,"operation-not-supported-in-this-environment"),o.displayName&&(u.appDisplayName=o.displayName),u.sessionId=s,e.abrupt("return",Bc(t,r,n.type,void 0,null!==(i=n.eventId)&&void 0!==i?i:void 0,u));case 10:case"end":return e.stop()}}),e)}))),ul.apply(this,arguments)}function cl(){return cl=Ze($e().mark((function e(t){var n,r,i;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=al(),r=n.BuildInfo,i={},fa()?i.iosBundleId=r.packageName:ua()?i.androidPackageName=r.packageName:Xr(t,"operation-not-supported-in-this-environment"),e.next=5,yc(t,i);case 5:case"end":return e.stop()}}),e)}))),cl.apply(this,arguments)}function ll(e){var t=al().cordova;return new Promise((function(n){t.plugins.browsertab.isAvailable((function(r){var i=null;r?t.plugins.browsertab.openUrl(e):i=t.InAppBrowser.open(e,function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Lt();return/(iPad|iPhone|iPod).*OS 7_\d/i.test(e)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(e)}()?"_blank":"_system","location=yes"),n(i)}))}))}function fl(e,t,n){return dl.apply(this,arguments)}function dl(){return dl=Ze($e().mark((function e(t,n,r){var i,a,o;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=al(),a=i.cordova,o=function(){},e.prev=2,e.next=5,new Promise((function(e,i){var s=null;function u(){var t;e();var n=null===(t=a.plugins.browsertab)||void 0===t?void 0:t.close;"function"===typeof n&&n(),"function"===typeof(null===r||void 0===r?void 0:r.close)&&r.close()}function c(){s||(s=window.setTimeout((function(){i($r(t,"redirect-cancelled-by-user"))}),ol))}function l(){"visible"===(null===document||void 0===document?void 0:document.visibilityState)&&c()}n.addPassiveListener(u),document.addEventListener("resume",c,!1),ua()&&document.addEventListener("visibilitychange",l,!1),o=function(){n.removePassiveListener(u),document.removeEventListener("resume",c,!1),document.removeEventListener("visibilitychange",l,!1),s&&window.clearTimeout(s)}}));case 5:return e.prev=5,o(),e.finish(5);case 8:case"end":return e.stop()}}),e,null,[[2,,5,8]])}))),dl.apply(this,arguments)}function hl(e){var t,n,r,i,a,o,s,u,c,l,f=al();ti("function"===typeof(null===(t=null===f||void 0===f?void 0:f.universalLinks)||void 0===t?void 0:t.subscribe),e,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),ti("undefined"!==typeof(null===(n=null===f||void 0===f?void 0:f.BuildInfo)||void 0===n?void 0:n.packageName),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),ti("function"===typeof(null===(a=null===(i=null===(r=null===f||void 0===f?void 0:f.cordova)||void 0===r?void 0:r.plugins)||void 0===i?void 0:i.browsertab)||void 0===a?void 0:a.openUrl),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),ti("function"===typeof(null===(u=null===(s=null===(o=null===f||void 0===f?void 0:f.cordova)||void 0===o?void 0:o.plugins)||void 0===s?void 0:s.browsertab)||void 0===u?void 0:u.isAvailable),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),ti("function"===typeof(null===(l=null===(c=null===f||void 0===f?void 0:f.cordova)||void 0===c?void 0:c.InAppBrowser)||void 0===l?void 0:l.open),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}function pl(e){return vl.apply(this,arguments)}function vl(){return(vl=Ze($e().mark((function e(t){var n,r,i;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=ml(t),e.next=3,crypto.subtle.digest("SHA-256",n);case 3:return r=e.sent,i=Array.from(new Uint8Array(r)),e.abrupt("return",i.map((function(e){return e.toString(16).padStart(2,"0")})).join(""));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ml(e){if(ri(/[0-9a-zA-Z]+/.test(e),"Can only convert alpha-numeric strings"),"undefined"!==typeof TextEncoder)return(new TextEncoder).encode(e);for(var t=new ArrayBuffer(e.length),n=new Uint8Array(t),r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}var gl=20,yl=function(e){b(n,e);var t=_(n);function n(){var e;return h(this,n),(e=t.apply(this,arguments)).passiveListeners=new Set,e.initPromise=new Promise((function(t){e.resolveInialized=t})),e}return g(n,[{key:"addPassiveListener",value:function(e){this.passiveListeners.add(e)}},{key:"removePassiveListener",value:function(e){this.passiveListeners.delete(e)}},{key:"resetRedirect",value:function(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}},{key:"onEvent",value:function(e){return this.resolveInialized(),this.passiveListeners.forEach((function(t){return t(e)})),Or(k(n.prototype),"onEvent",this).call(this,e)}},{key:"initialized",value:function(){var e=Ze($e().mark((function e(){return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.initPromise;case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(vc);function bl(e,t){return{type:t,eventId:arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,urlResponse:null,sessionId:Sl(),postBody:null,tenantId:e.tenantId,error:$r(e,"no-auth-event")}}function kl(e,t){return El()._set(Il(e),t)}function wl(e){return xl.apply(this,arguments)}function xl(){return xl=Ze($e().mark((function e(t){var n;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,El()._get(Il(t));case 2:if(!(n=e.sent)){e.next=6;break}return e.next=6,El()._remove(Il(t));case 6:return e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)}))),xl.apply(this,arguments)}function _l(e,t){var n,r,i=function(e){var t=Tl(e),n=t.link?decodeURIComponent(t.link):void 0,r=Tl(n).link,i=t.deep_link_id?decodeURIComponent(t.deep_link_id):void 0;return Tl(i).link||i||r||n||e}(t);if(i.includes("/__/auth/callback")){var a=Tl(i),o=a.firebaseError?function(e){try{return JSON.parse(e)}catch(t){return null}}(decodeURIComponent(a.firebaseError)):null,s=null===(r=null===(n=null===o||void 0===o?void 0:o.code)||void 0===n?void 0:n.split("auth/"))||void 0===r?void 0:r[1],u=s?$r(s):null;return u?{type:e.type,eventId:e.eventId,tenantId:e.tenantId,error:u,urlResponse:null,sessionId:null,postBody:null}:{type:e.type,eventId:e.eventId,tenantId:e.tenantId,sessionId:e.sessionId,urlResponse:i,postBody:null}}return null}function Sl(){for(var e=[],t="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",n=0;n<gl;n++){var r=Math.floor(62*Math.random());e.push(t.charAt(r))}return e.join("")}function El(){return Ji(Us)}function Il(e){return ta("authEvent",e.config.apiKey,e.name)}function Tl(e){if(!(null===e||void 0===e?void 0:e.includes("?")))return{};var t=I(e.split("?"));t[0];return Xt(t.slice(1).join("?"))}var Cl=function(){function e(){h(this,e),this._redirectPersistence=zs,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=fc,this._overrideRedirectResult=ec}return g(e,[{key:"_initialize",value:function(){var e=Ze($e().mark((function e(t){var n,r;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t._key(),(r=this.eventManagers.get(n))||(r=new yl(t),this.eventManagers.set(n,r),this.attachCallbackListeners(t,r)),e.abrupt("return",r);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_openPopup",value:function(e){Xr(e,"operation-not-supported-in-this-environment")}},{key:"_openRedirect",value:function(){var e=Ze($e().mark((function e(t,n,r,i){var a,o,s,u;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return hl(t),e.next=3,this._initialize(t);case 3:return a=e.sent,e.next=6,a.initialized();case 6:return a.resetRedirect(),Qu.clear(),e.next=10,this._originValidation(t);case 10:return o=bl(t,r,i),e.next=13,kl(t,o);case 13:return e.next=15,sl(t,o,n);case 15:return s=e.sent,e.next=18,ll(s);case 18:return u=e.sent,e.abrupt("return",fl(t,a,u));case 20:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){throw new Error("Method not implemented.")}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return cl.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"attachCallbackListeners",value:function(e,t){var n=al(),r=n.universalLinks,i=n.handleOpenURL,a=n.BuildInfo,o=setTimeout(Ze($e().mark((function n(){return $e().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,wl(e);case 2:t.onEvent(Ol());case 3:case"end":return n.stop()}}),n)}))),500),s=function(){var n=Ze($e().mark((function n(r){var i,a;return $e().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return clearTimeout(o),n.next=3,wl(e);case 3:i=n.sent,a=null,i&&(null===r||void 0===r?void 0:r.url)&&(a=_l(i,r.url)),t.onEvent(a||Ol());case 7:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();"undefined"!==typeof r&&"function"===typeof r.subscribe&&r.subscribe(null,s);var u=i,c="".concat(a.packageName.toLowerCase(),"://");al().handleOpenURL=function(){var e=Ze($e().mark((function e(t){return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.toLowerCase().startsWith(c)&&s({url:t}),"function"===typeof u)try{u(t)}catch(n){console.error(n)}case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}}]),e}(),Nl=Cl;function Ol(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:$r("no-auth-event")}}var Pl=1e3;function Al(){var e;return(null===(e=null===self||void 0===self?void 0:self.location)||void 0===e?void 0:e.protocol)||null}function Rl(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Lt();return!("file:"!==Al()&&"ionic:"!==Al()&&"capacitor:"!==Al()||!e.toLowerCase().match(/iphone|ipad|ipod|android/))}function jl(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Lt();return zt()&&11===(null===document||void 0===document?void 0:document.documentMode)||function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Lt();return/Edge\/\d+/.test(e)}(e)}function Dl(){try{var e=self.localStorage,t=qs();if(e)return e.setItem(t,"1"),e.removeItem(t),!jl()||Vt()}catch(n){return Ll()&&Vt()}return!1}function Ll(){return"undefined"!==typeof n.g&&"WorkerGlobalScope"in n.g&&"importScripts"in n.g}function Ml(){return("http:"===Al()||"https:"===Al()||Ut()||Rl())&&!(Ft()||Mt())&&Dl()&&!Ll()}function Ul(){return Rl()&&"undefined"!==typeof document}function Fl(){return zl.apply(this,arguments)}function zl(){return(zl=Ze($e().mark((function e(){return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Ul()){e.next=2;break}return e.abrupt("return",!1);case 2:return e.abrupt("return",new Promise((function(e){var t=setTimeout((function(){e(!1)}),Pl);document.addEventListener("deviceready",(function(){clearTimeout(t),e(!0)}))})));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Vl={LOCAL:"local",NONE:"none",SESSION:"session"},Bl=ti,ql="persistence";function Hl(e,t){Bl(Object.values(Vl).includes(t),e,"invalid-persistence-type"),Ft()?Bl(t!==Vl.SESSION,e,"unsupported-persistence-type"):Mt()?Bl(t===Vl.NONE,e,"unsupported-persistence-type"):Ll()?Bl(t===Vl.NONE||t===Vl.LOCAL&&Vt(),e,"unsupported-persistence-type"):Bl(t===Vl.NONE||Dl(),e,"unsupported-persistence-type")}function Wl(e){return Gl.apply(this,arguments)}function Gl(){return Gl=Ze($e().mark((function e(t){var n,r;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._initializationPromise;case 2:n=Kl(),r=ta(ql,t.config.apiKey,t.name),n&&n.setItem(r,t._getPersistence());case 5:case"end":return e.stop()}}),e)}))),Gl.apply(this,arguments)}function Kl(){var e;try{return(null===(e="undefined"!==typeof window?window:null)||void 0===e?void 0:e.sessionStorage)||null}catch(t){return null}}var Ql=ti,Yl=function(){function e(){h(this,e),this.browserResolver=Ji(Kc),this.cordovaResolver=Ji(Nl),this.underlyingResolver=null,this._redirectPersistence=zs,this._completeRedirectFn=fc,this._overrideRedirectResult=ec}return g(e,[{key:"_initialize",value:function(){var e=Ze($e().mark((function e(t){return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._initialize(t));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_openPopup",value:function(){var e=Ze($e().mark((function e(t,n,r,i){return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._openPopup(t,n,r,i));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_openRedirect",value:function(){var e=Ze($e().mark((function e(t,n,r,i){return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._openRedirect(t,n,r,i));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){this.assertedUnderlyingResolver._isIframeWebStorageSupported(e,t)}},{key:"_originValidation",value:function(e){return this.assertedUnderlyingResolver._originValidation(e)}},{key:"_shouldInitProactively",get:function(){return Ul()||this.browserResolver._shouldInitProactively}},{key:"assertedUnderlyingResolver",get:function(){return Ql(this.underlyingResolver,"internal-error"),this.underlyingResolver}},{key:"selectUnderlyingResolver",value:function(){var e=Ze($e().mark((function e(){var t;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.underlyingResolver){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,Fl();case 4:t=e.sent,this.underlyingResolver=t?this.cordovaResolver:this.browserResolver;case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function Xl(e){return e.unwrap()}function $l(e,t){var n,r=null===(n=t.customData)||void 0===n?void 0:n._tokenResponse;if("auth/multi-factor-auth-required"===(null===t||void 0===t?void 0:t.code))t.resolver=new nf(e,function(e,t){var n,r=tn(e),i=t;return ti(t.customData.operationType,r,"argument-error"),ti(null===(n=i.customData._serverResponse)||void 0===n?void 0:n.mfaPendingCredential,r,"argument-error"),Cs._fromError(r,i)}(e,t));else if(r){var i=Jl(t),a=t;i&&(a.credential=i,a.tenantId=r.tenantId||void 0,a.email=r.email||void 0,a.phoneNumber=r.phoneNumber||void 0)}}function Jl(e){var t=(e instanceof Bt?e.customData:e)._tokenResponse;if(!t)return null;if(!(e instanceof Bt)&&"temporaryProof"in t&&"phoneNumber"in t)return Au.credentialFromResult(e);var n,r=t.providerId;if(!r||r===Rr.PASSWORD)return null;switch(r){case Rr.GOOGLE:n=mo;break;case Rr.FACEBOOK:n=vo;break;case Rr.GITHUB:n=go;break;case Rr.TWITTER:n=ko;break;default:var i=t.oauthIdToken,a=t.oauthAccessToken,o=t.oauthTokenSecret,s=t.pendingToken,u=t.nonce;return a||o||i||s?s?r.startsWith("saml.")?yo._create(r,s):to._fromParams({providerId:r,signInMethod:r,pendingToken:s,idToken:i,accessToken:a}):new po(r).credential({idToken:i,accessToken:a,rawNonce:u}):null}return e instanceof Bt?n.credentialFromError(e):n.credentialFromResult(e)}function Zl(e,t){return t.catch((function(t){throw t instanceof Bt&&$l(e,t),t})).then((function(e){var t,n=e.operationType,r=e.user;return{operationType:n,credential:(t=e,Jl(t)),additionalUserInfo:Is(e),user:rf.getOrCreate(r)}}))}function ef(e,t){return tf.apply(this,arguments)}function tf(){return tf=Ze($e().mark((function e(t,n){var r;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n;case 2:return r=e.sent,e.abrupt("return",{verificationId:r.verificationId,confirm:function(e){return Zl(t,r.confirm(e))}});case 4:case"end":return e.stop()}}),e)}))),tf.apply(this,arguments)}var nf=function(){function e(t,n){h(this,e),this.resolver=n,this.auth=t.wrapped()}return g(e,[{key:"session",get:function(){return this.resolver.session}},{key:"hints",get:function(){return this.resolver.hints}},{key:"resolveSignIn",value:function(e){return Zl(Xl(this.auth),this.resolver.resolveSignIn(e))}}]),e}(),rf=function(){function e(t){h(this,e),this._delegate=t,this.multiFactor=function(e){var t=tn(e);return js.has(t)||js.set(t,Rs._fromUser(t)),js.get(t)}(t)}return g(e,[{key:"delete",value:function(){return this._delegate.delete()}},{key:"reload",value:function(){return this._delegate.reload()}},{key:"toJSON",value:function(){return this._delegate.toJSON()}},{key:"getIdTokenResult",value:function(e){return this._delegate.getIdTokenResult(e)}},{key:"getIdToken",value:function(e){return this._delegate.getIdToken(e)}},{key:"linkAndRetrieveDataWithCredential",value:function(e){return this.linkWithCredential(e)}},{key:"linkWithCredential",value:function(){var e=Ze($e().mark((function e(t){return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Zl(this.auth,Vo(this._delegate,t)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"linkWithPhoneNumber",value:function(){var e=Ze($e().mark((function e(t,n){return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ef(this.auth,Iu(this._delegate,t,n)));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"linkWithPopup",value:function(){var e=Ze($e().mark((function e(t){return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Zl(this.auth,Hu(this._delegate,t,Yl)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"linkWithRedirect",value:function(){var e=Ze($e().mark((function e(t){return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Wl(ba(this.auth));case 2:return e.abrupt("return",sc(this._delegate,t,Yl));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"reauthenticateAndRetrieveDataWithCredential",value:function(e){return this.reauthenticateWithCredential(e)}},{key:"reauthenticateWithCredential",value:function(){var e=Ze($e().mark((function e(t){return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Zl(this.auth,qo(this._delegate,t)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"reauthenticateWithPhoneNumber",value:function(e,t){return ef(this.auth,function(e,t,n){return Cu.apply(this,arguments)}(this._delegate,e,t))}},{key:"reauthenticateWithPopup",value:function(e){return Zl(this.auth,function(e,t,n){return qu.apply(this,arguments)}(this._delegate,e,Yl))}},{key:"reauthenticateWithRedirect",value:function(){var e=Ze($e().mark((function e(t){return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Wl(ba(this.auth));case 2:return e.abrupt("return",ac(this._delegate,t,Yl));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"sendEmailVerification",value:function(e){return function(e,t){return hs.apply(this,arguments)}(this._delegate,e)}},{key:"unlink",value:function(){var e=Ze($e().mark((function e(t){return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,No(this._delegate,t);case 2:return e.abrupt("return",this);case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateEmail",value:function(e){return function(e,t){return ys(tn(e),t,null)}(this._delegate,e)}},{key:"updatePassword",value:function(e){return function(e,t){return ys(tn(e),null,t)}(this._delegate,e)}},{key:"updatePhoneNumber",value:function(e){return function(e,t){return Pu.apply(this,arguments)}(this._delegate,e)}},{key:"updateProfile",value:function(e){return function(e,t){return gs.apply(this,arguments)}(this._delegate,e)}},{key:"verifyBeforeUpdateEmail",value:function(e,t){return function(e,t,n){return ps.apply(this,arguments)}(this._delegate,e,t)}},{key:"emailVerified",get:function(){return this._delegate.emailVerified}},{key:"isAnonymous",get:function(){return this._delegate.isAnonymous}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"phoneNumber",get:function(){return this._delegate.phoneNumber}},{key:"providerData",get:function(){return this._delegate.providerData}},{key:"refreshToken",get:function(){return this._delegate.refreshToken}},{key:"tenantId",get:function(){return this._delegate.tenantId}},{key:"displayName",get:function(){return this._delegate.displayName}},{key:"email",get:function(){return this._delegate.email}},{key:"photoURL",get:function(){return this._delegate.photoURL}},{key:"providerId",get:function(){return this._delegate.providerId}},{key:"uid",get:function(){return this._delegate.uid}},{key:"auth",get:function(){return this._delegate.auth}}],[{key:"getOrCreate",value:function(t){return e.USER_MAP.has(t)||e.USER_MAP.set(t,new e(t)),e.USER_MAP.get(t)}}]),e}();rf.USER_MAP=new WeakMap;var af=ti,of=function(){function e(t,n){if(h(this,e),this.app=t,n.isInitialized())return this._delegate=n.getImmediate(),void this.linkUnderlyingAuth();var r=t.options.apiKey;af(r,"invalid-api-key",{appName:t.name}),af(r,"invalid-api-key",{appName:t.name});var i="undefined"!==typeof window?Yl:void 0;this._delegate=n.initialize({options:{persistence:uf(r,t.name),popupRedirectResolver:i}}),this._delegate._updateErrorMap(Hr),this.linkUnderlyingAuth()}return g(e,[{key:"emulatorConfig",get:function(){return this._delegate.emulatorConfig}},{key:"currentUser",get:function(){return this._delegate.currentUser?rf.getOrCreate(this._delegate.currentUser):null}},{key:"languageCode",get:function(){return this._delegate.languageCode},set:function(e){this._delegate.languageCode=e}},{key:"settings",get:function(){return this._delegate.settings}},{key:"tenantId",get:function(){return this._delegate.tenantId},set:function(e){this._delegate.tenantId=e}},{key:"useDeviceLanguage",value:function(){this._delegate.useDeviceLanguage()}},{key:"signOut",value:function(){return this._delegate.signOut()}},{key:"useEmulator",value:function(e,t){Ia(this._delegate,e,t)}},{key:"applyActionCode",value:function(e){return function(e,t){return ns.apply(this,arguments)}(this._delegate,e)}},{key:"checkActionCode",value:function(e){return rs(this._delegate,e)}},{key:"confirmPasswordReset",value:function(e,t){return function(e,t,n){return ts.apply(this,arguments)}(this._delegate,e,t)}},{key:"createUserWithEmailAndPassword",value:function(){var e=Ze($e().mark((function e(t,n){return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Zl(this._delegate,os(this._delegate,t,n)));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"fetchProvidersForEmail",value:function(e){return this.fetchSignInMethodsForEmail(e)}},{key:"fetchSignInMethodsForEmail",value:function(e){return function(e,t){return ds.apply(this,arguments)}(this._delegate,e)}},{key:"isSignInWithEmailLink",value:function(e){return function(e,t){var n=co.parseLink(t);return"EMAIL_SIGNIN"===(null===n||void 0===n?void 0:n.operation)}(this._delegate,e)}},{key:"getRedirectResult",value:function(){var e=Ze($e().mark((function e(){var t;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return af(Ml(),this._delegate,"operation-not-supported-in-this-environment"),e.next=3,cc(this._delegate,Yl);case 3:if(t=e.sent){e.next=6;break}return e.abrupt("return",{credential:null,user:null});case 6:return e.abrupt("return",Zl(this._delegate,Promise.resolve(t)));case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"addFrameworkForLogging",value:function(e){!function(e,t){ba(e)._logFramework(t)}(this._delegate,e)}},{key:"onAuthStateChanged",value:function(e,t,n){var r=sf(e,t,n),i=r.next,a=r.error,o=r.complete;return this._delegate.onAuthStateChanged(i,a,o)}},{key:"onIdTokenChanged",value:function(e,t,n){var r=sf(e,t,n),i=r.next,a=r.error,o=r.complete;return this._delegate.onIdTokenChanged(i,a,o)}},{key:"sendSignInLinkToEmail",value:function(e,t){return function(e,t,n){return us.apply(this,arguments)}(this._delegate,e,t)}},{key:"sendPasswordResetEmail",value:function(e,t){return function(e,t,n){return es.apply(this,arguments)}(this._delegate,e,t||void 0)}},{key:"setPersistence",value:function(){var e=Ze($e().mark((function e(t){var n,r;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Hl(this._delegate,t),e.t0=t,e.next=e.t0===Vl.SESSION?4:e.t0===Vl.LOCAL?6:e.t0===Vl.NONE?11:13;break;case 4:return n=zs,e.abrupt("break",14);case 6:return e.next=8,Ji(lu)._isAvailable();case 8:return r=e.sent,n=r?lu:Us,e.abrupt("break",14);case 11:return n=ea,e.abrupt("break",14);case 13:return e.abrupt("return",Xr("argument-error",{appName:this._delegate.name}));case 14:return e.abrupt("return",this._delegate.setPersistence(n));case 15:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signInAndRetrieveDataWithCredential",value:function(e){return this.signInWithCredential(e)}},{key:"signInAnonymously",value:function(){return Zl(this._delegate,function(e){return Eo.apply(this,arguments)}(this._delegate))}},{key:"signInWithCredential",value:function(e){return Zl(this._delegate,Fo(this._delegate,e))}},{key:"signInWithCustomToken",value:function(e){return Zl(this._delegate,function(e,t){return Ko.apply(this,arguments)}(this._delegate,e))}},{key:"signInWithEmailAndPassword",value:function(e,t){return Zl(this._delegate,function(e,t,n){return Fo(tn(e),lo.credential(t,n)).catch(function(){var t=Ze($e().mark((function t(n){return $e().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:throw n.code==="auth/".concat("password-does-not-meet-requirements")&&Jo(e),n;case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}(this._delegate,e,t))}},{key:"signInWithEmailLink",value:function(e,t){return Zl(this._delegate,function(e,t,n){return cs.apply(this,arguments)}(this._delegate,e,t))}},{key:"signInWithPhoneNumber",value:function(e,t){return ef(this._delegate,function(e,t,n){return Eu.apply(this,arguments)}(this._delegate,e,t))}},{key:"signInWithPopup",value:function(){var e=Ze($e().mark((function e(t){return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return af(Ml(),this._delegate,"operation-not-supported-in-this-environment"),e.abrupt("return",Zl(this._delegate,Vu(this._delegate,t,Yl)));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signInWithRedirect",value:function(){var e=Ze($e().mark((function e(t){return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return af(Ml(),this._delegate,"operation-not-supported-in-this-environment"),e.next=3,Wl(this._delegate);case 3:return e.abrupt("return",rc(this._delegate,t,Yl));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateCurrentUser",value:function(e){return this._delegate.updateCurrentUser(e)}},{key:"verifyPasswordResetCode",value:function(e){return function(e,t){return as.apply(this,arguments)}(this._delegate,e)}},{key:"unwrap",value:function(){return this._delegate}},{key:"_delete",value:function(){return this._delegate._delete()}},{key:"linkUnderlyingAuth",value:function(){var e=this;this._delegate.wrapped=function(){return e}}}]),e}();function sf(e,t,n){var r=e;"function"!==typeof e&&(r=e.next,t=e.error,n=e.complete);var i=r;return{next:function(e){return i(e&&rf.getOrCreate(e))},error:t,complete:n}}function uf(e,t){var n=function(e,t){var n=Kl();if(!n)return[];var r=ta(ql,e,t);switch(n.getItem(r)){case Vl.NONE:return[ea];case Vl.LOCAL:return[lu,zs];case Vl.SESSION:return[zs];default:return[]}}(e,t);if("undefined"===typeof self||n.includes(lu)||n.push(lu),"undefined"!==typeof window)for(var r=0,i=[Us,zs];r<i.length;r++){var a=i[r];n.includes(a)||n.push(a)}return n.includes(ea)||n.push(ea),n}of.Persistence=Vl;var cf=function(){function e(){h(this,e),this.providerId="phone",this._delegate=new Au(Xl(Nr.auth()))}return g(e,[{key:"verifyPhoneNumber",value:function(e,t){return this._delegate.verifyPhoneNumber(e,t)}},{key:"unwrap",value:function(){return this._delegate}}],[{key:"credential",value:function(e,t){return Au.credential(e,t)}}]),e}();cf.PHONE_SIGN_IN_METHOD=Au.PHONE_SIGN_IN_METHOD,cf.PROVIDER_ID=Au.PROVIDER_ID;var lf,ff=ti,df=function(){function e(t,n){var r,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Nr.app();h(this,e),ff(null===(r=i.options)||void 0===r?void 0:r.apiKey,"invalid-api-key",{appName:i.name}),this._delegate=new xu(i.auth(),t,n),this.type=this._delegate.type}return g(e,[{key:"clear",value:function(){this._delegate.clear()}},{key:"render",value:function(){return this._delegate.render()}},{key:"verify",value:function(){return this._delegate.verify()}}]),e}();(lf=Nr).INTERNAL.registerComponent(new nn("auth-compat",(function(e){var t=e.getProvider("app-compat").getImmediate(),n=e.getProvider("auth");return new of(t,n)}),"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:jr,PASSWORD_RESET:Dr,RECOVER_EMAIL:Lr,REVERT_SECOND_FACTOR_ADDITION:Mr,VERIFY_AND_CHANGE_EMAIL:Ur,VERIFY_EMAIL:Fr}},EmailAuthProvider:lo,FacebookAuthProvider:vo,GithubAuthProvider:go,GoogleAuthProvider:mo,OAuthProvider:po,SAMLAuthProvider:bo,PhoneAuthProvider:cf,PhoneMultiFactorGenerator:Xc,RecaptchaVerifier:df,TwitterAuthProvider:ko,Auth:of,AuthCredential:Na,Error:Bt}).setInstantiationMode("LAZY").setMultipleInstances(!1)),lf.registerVersion("@firebase/auth-compat","0.4.6");var hf,pf="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},vf={},mf=mf||{},gf=pf||self;function yf(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function bf(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var kf="closure_uid_"+(1e9*Math.random()>>>0),wf=0;function xf(e,t,n){return e.call.apply(e.bind,arguments)}function _f(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function Sf(e,t,n){return(Sf=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?xf:_f).apply(null,arguments)}function Ef(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function If(e,t){function n(){}n.prototype=t.prototype,e.$=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.ac=function(e,n,r){for(var i=Array(arguments.length-2),a=2;a<arguments.length;a++)i[a-2]=arguments[a];return t.prototype[n].apply(e,i)}}function Tf(){this.s=this.s,this.o=this.o}Tf.prototype.s=!1,Tf.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function(e){Object.prototype.hasOwnProperty.call(e,kf)&&e[kf]||(e[kf]=++wf)}(this)},Tf.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var Cf=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1};function Nf(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function Of(e,t){for(var n=1;n<arguments.length;n++){var r=arguments[n];if(yf(r)){var i=e.length||0,a=r.length||0;e.length=i+a;for(var o=0;o<a;o++)e[i+o]=r[o]}else e.push(r)}}function Pf(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}Pf.prototype.h=function(){this.defaultPrevented=!0};var Af=function(){if(!gf.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{gf.addEventListener("test",(function(){}),t),gf.removeEventListener("test",(function(){}),t)}catch(n){}return e}();function Rf(e){return/^[\s\xa0]*$/.test(e)}function jf(){var e=gf.navigator;return e&&(e=e.userAgent)?e:""}function Df(e){return-1!=jf().indexOf(e)}function Lf(e){return Lf[" "](e),e}Lf[" "]=function(){};var Mf,Uf,Ff=Df("Opera"),zf=Df("Trident")||Df("MSIE"),Vf=Df("Edge"),Bf=Vf||zf,qf=Df("Gecko")&&!(-1!=jf().toLowerCase().indexOf("webkit")&&!Df("Edge"))&&!(Df("Trident")||Df("MSIE"))&&!Df("Edge"),Hf=-1!=jf().toLowerCase().indexOf("webkit")&&!Df("Edge");function Wf(){var e=gf.document;return e?e.documentMode:void 0}e:{var Gf="",Kf=function(){var e=jf();return qf?/rv:([^\);]+)(\)|;)/.exec(e):Vf?/Edge\/([\d\.]+)/.exec(e):zf?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):Hf?/WebKit\/(\S+)/.exec(e):Ff?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(Kf&&(Gf=Kf?Kf[1]:""),zf){var Qf=Wf();if(null!=Qf&&Qf>parseFloat(Gf)){Mf=String(Qf);break e}}Mf=Gf}if(gf.document&&zf){var Yf=Wf();Uf=Yf||(parseInt(Mf,10)||void 0)}else Uf=void 0;var Xf=Uf;function $f(e,t){if(Pf.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(qf){e:{try{Lf(t.nodeName);var i=!0;break e}catch(lD){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:Jf[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&$f.$.h.call(this)}}If($f,Pf);var Jf={2:"touch",3:"pen",4:"mouse"};$f.prototype.h=function(){$f.$.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var Zf="closure_listenable_"+(1e6*Math.random()|0),ed=0;function td(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.la=i,this.key=++ed,this.fa=this.ia=!1}function nd(e){e.fa=!0,e.listener=null,e.proxy=null,e.src=null,e.la=null}function rd(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function id(e){var t={};for(var n in e)t[n]=e[n];return t}var ad="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function od(e,t){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])e[n]=r[n];for(var a=0;a<ad.length;a++)n=ad[a],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function sd(e){this.src=e,this.g={},this.h=0}function ud(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],a=Cf(i,t);(r=0<=a)&&Array.prototype.splice.call(i,a,1),r&&(nd(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function cd(e,t,n,r){for(var i=0;i<e.length;++i){var a=e[i];if(!a.fa&&a.listener==t&&a.capture==!!n&&a.la==r)return i}return-1}sd.prototype.add=function(e,t,n,r,i){var a=e.toString();(e=this.g[a])||(e=this.g[a]=[],this.h++);var o=cd(e,t,r,i);return-1<o?(t=e[o],n||(t.ia=!1)):((t=new td(t,this.src,a,!!r,i)).ia=n,e.push(t)),t};var ld="closure_lm_"+(1e6*Math.random()|0),fd={};function dd(e,t,n,r,i){if(r&&r.once)return pd(e,t,n,r,i);if(Array.isArray(t)){for(var a=0;a<t.length;a++)dd(e,t[a],n,r,i);return null}return n=wd(n),e&&e[Zf]?e.O(t,n,bf(r)?!!r.capture:!!r,i):hd(e,t,n,!1,r,i)}function hd(e,t,n,r,i,a){if(!t)throw Error("Invalid event type");var o=bf(i)?!!i.capture:!!i,s=bd(e);if(s||(e[ld]=s=new sd(e)),(n=s.add(t,n,r,o,a)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}var t=yd;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)Af||(i=o),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(gd(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function pd(e,t,n,r,i){if(Array.isArray(t)){for(var a=0;a<t.length;a++)pd(e,t[a],n,r,i);return null}return n=wd(n),e&&e[Zf]?e.P(t,n,bf(r)?!!r.capture:!!r,i):hd(e,t,n,!0,r,i)}function vd(e,t,n,r,i){if(Array.isArray(t))for(var a=0;a<t.length;a++)vd(e,t[a],n,r,i);else r=bf(r)?!!r.capture:!!r,n=wd(n),e&&e[Zf]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=cd(a=e.g[t],n,r,i))&&(nd(a[n]),Array.prototype.splice.call(a,n,1),0==a.length&&(delete e.g[t],e.h--)))):e&&(e=bd(e))&&(t=e.g[t.toString()],e=-1,t&&(e=cd(t,n,r,i)),(n=-1<e?t[e]:null)&&md(n))}function md(e){if("number"!==typeof e&&e&&!e.fa){var t=e.src;if(t&&t[Zf])ud(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(gd(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=bd(t))?(ud(n,e),0==n.h&&(n.src=null,t[ld]=null)):nd(e)}}}function gd(e){return e in fd?fd[e]:fd[e]="on"+e}function yd(e,t){if(e.fa)e=!0;else{t=new $f(t,this);var n=e.listener,r=e.la||e.src;e.ia&&md(e),e=n.call(r,t)}return e}function bd(e){return(e=e[ld])instanceof sd?e:null}var kd="__closure_events_fn_"+(1e9*Math.random()>>>0);function wd(e){return"function"===typeof e?e:(e[kd]||(e[kd]=function(t){return e.handleEvent(t)}),e[kd])}function xd(){Tf.call(this),this.i=new sd(this),this.S=this,this.J=null}function _d(e,t){var n,r=e.J;if(r)for(n=[];r;r=r.J)n.push(r);if(e=e.S,r=t.type||t,"string"===typeof t)t=new Pf(t,e);else if(t instanceof Pf)t.target=t.target||e;else{var i=t;od(t=new Pf(r,e),i)}if(i=!0,n)for(var a=n.length-1;0<=a;a--){var o=t.g=n[a];i=Sd(o,r,!0,t)&&i}if(i=Sd(o=t.g=e,r,!0,t)&&i,i=Sd(o,r,!1,t)&&i,n)for(a=0;a<n.length;a++)i=Sd(o=t.g=n[a],r,!1,t)&&i}function Sd(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,a=0;a<t.length;++a){var o=t[a];if(o&&!o.fa&&o.capture==n){var s=o.listener,u=o.la||o.src;o.ia&&ud(e.i,o),i=!1!==s.call(u,r)&&i}}return i&&!r.defaultPrevented}If(xd,Tf),xd.prototype[Zf]=!0,xd.prototype.removeEventListener=function(e,t,n,r){vd(this,e,t,n,r)},xd.prototype.N=function(){if(xd.$.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)nd(n[r]);delete t.g[e],t.h--}}this.J=null},xd.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},xd.prototype.P=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var Ed=gf.JSON.stringify,Id=function(){function e(t,n){h(this,e),this.i=t,this.j=n,this.h=0,this.g=null}return g(e,[{key:"get",value:function(){var e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}]),e}();function Td(){var e=Dd,t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var Cd=function(){function e(){h(this,e),this.h=this.g=null}return g(e,[{key:"add",value:function(e,t){var n=Nd.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}}]),e}(),Nd=new Id((function(){return new Od}),(function(e){return e.reset()})),Od=function(){function e(){h(this,e),this.next=this.g=this.h=null}return g(e,[{key:"set",value:function(e,t){this.h=e,this.g=t,this.next=null}},{key:"reset",value:function(){this.next=this.g=this.h=null}}]),e}();function Pd(e){var t=1;e=e.split(":");for(var n=[];0<t&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(":")),n}function Ad(e){gf.setTimeout((function(){throw e}),0)}var Rd,jd=!1,Dd=new Cd,Ld=function(){var e=gf.Promise.resolve(void 0);Rd=function(){e.then(Md)}},Md=function(){for(var e;e=Td();){try{e.h.call(e.g)}catch(n){Ad(n)}var t=Nd;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}jd=!1};function Ud(e,t){xd.call(this),this.h=e||1,this.g=t||gf,this.j=Sf(this.qb,this),this.l=Date.now()}function Fd(e){e.ga=!1,e.T&&(e.g.clearTimeout(e.T),e.T=null)}function zd(e,t,n){if("function"===typeof e)n&&(e=Sf(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=Sf(e.handleEvent,e)}return 2147483647<Number(t)?-1:gf.setTimeout(e,t||0)}function Vd(e){e.g=zd((function(){e.g=null,e.i&&(e.i=!1,Vd(e))}),e.j);var t=e.h;e.h=null,e.m.apply(null,t)}If(Ud,xd),(hf=Ud.prototype).ga=!1,hf.T=null,hf.qb=function(){if(this.ga){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-e):(this.T&&(this.g.clearTimeout(this.T),this.T=null),_d(this,"tick"),this.ga&&(Fd(this),this.start()))}},hf.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},hf.N=function(){Ud.$.N.call(this),Fd(this),delete this.g};var Bd=function(e){b(n,e);var t=_(n);function n(e,r){var i;return h(this,n),(i=t.call(this)).m=e,i.j=r,i.h=null,i.i=!1,i.g=null,i}return g(n,[{key:"l",value:function(e){this.h=arguments,this.g?this.i=!0:Vd(this)}},{key:"N",value:function(){Or(k(n.prototype),"N",this).call(this),this.g&&(gf.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}]),n}(Tf);function qd(e){Tf.call(this),this.h=e,this.g={}}If(qd,Tf);var Hd=[];function Wd(e,t,n,r){Array.isArray(n)||(n&&(Hd[0]=n.toString()),n=Hd);for(var i=0;i<n.length;i++){var a=dd(t,n[i],r||e.handleEvent,!1,e.h||e);if(!a)break;e.g[a.key]=a}}function Gd(e){rd(e.g,(function(e,t){this.g.hasOwnProperty(t)&&md(e)}),e),e.g={}}function Kd(){this.g=!0}function Qd(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var a=i[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(var o=1;o<i.length;o++)i[o]=""}}}return Ed(n)}catch(s){return t}}(e,n)+(r?" "+r:"")}))}qd.prototype.N=function(){qd.$.N.call(this),Gd(this)},qd.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Kd.prototype.Ea=function(){this.g=!1},Kd.prototype.info=function(){};var Yd={},Xd=null;function $d(){return Xd=Xd||new xd}function Jd(e){Pf.call(this,Yd.Ta,e)}function Zd(e){var t=$d();_d(t,new Jd(t))}function eh(e,t){Pf.call(this,Yd.STAT_EVENT,e),this.stat=t}function th(e){var t=$d();_d(t,new eh(t,e))}function nh(e,t){Pf.call(this,Yd.Ua,e),this.size=t}function rh(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return gf.setTimeout((function(){e()}),t)}Yd.Ta="serverreachability",If(Jd,Pf),Yd.STAT_EVENT="statevent",If(eh,Pf),Yd.Ua="timingevent",If(nh,Pf);var ih={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},ah={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function oh(){}function sh(e){return e.h||(e.h=e.i())}function uh(){}oh.prototype.h=null;var ch,lh={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function fh(){Pf.call(this,"d")}function dh(){Pf.call(this,"c")}function hh(){}function ph(e,t,n,r){this.l=e,this.j=t,this.m=n,this.W=r||1,this.U=new qd(this),this.P=mh,e=Bf?125:void 0,this.V=new Ud(e),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new vh}function vh(){this.i=null,this.g="",this.h=!1}If(fh,Pf),If(dh,Pf),If(hh,oh),hh.prototype.g=function(){return new XMLHttpRequest},hh.prototype.i=function(){return{}},ch=new hh;var mh=45e3,gh={},yh={};function bh(e,t,n){e.L=1,e.v=Uh(Rh(t)),e.s=n,e.S=!0,kh(e,null)}function kh(e,t){e.G=Date.now(),Sh(e),e.A=Rh(e.v);var n=e.A,r=e.W;Array.isArray(r)||(r=[String(r)]),$h(n.i,"t",r),e.C=0,n=e.l.J,e.h=new vh,e.g=$p(e.l,n?t:null,!e.s),0<e.O&&(e.M=new Bd(Sf(e.Pa,e,e.g),e.O)),Wd(e.U,e.g,"readystatechange",e.nb),t=e.I?id(e.I):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ha(e.A,e.u,e.s,t)):(e.u="GET",e.g.ha(e.A,e.u,null,t)),Zd(),function(e,t,n,r,i,a){e.info((function(){if(e.g)if(a)for(var o="",s=a.split("&"),u=0;u<s.length;u++){var c=s[u].split("=");if(1<c.length){var l=c[0];c=c[1];var f=l.split("_");o=2<=f.length&&"type"==f[1]?o+(l+"=")+c+"&":o+(l+"=redacted&")}}else o=null;else o=a;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+o}))}(e.j,e.u,e.A,e.m,e.W,e.s)}function wh(e){return!!e.g&&("GET"==e.u&&2!=e.L&&e.l.Ha)}function xh(e,t,n){for(var r,i=!0;!e.J&&e.C<n.length;){if((r=_h(e,n))==yh){4==t&&(e.o=4,th(14),i=!1),Qd(e.j,e.m,null,"[Incomplete Response]");break}if(r==gh){e.o=4,th(15),Qd(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}Qd(e.j,e.m,r,null),Nh(e,r)}wh(e)&&r!=yh&&r!=gh&&(e.h.g="",e.C=0),4!=t||0!=n.length||e.h.h||(e.o=1,th(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.ba&&(e.ba=!0,(t=e.l).g==e&&t.ca&&!t.M&&(t.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),qp(t),t.M=!0,th(11))):(Qd(e.j,e.m,n,"[Invalid Chunked Response]"),Ch(e),Th(e))}function _h(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?yh:(n=Number(t.substring(n,r)),isNaN(n)?gh:(r+=1)+n>t.length?yh:(t=t.slice(r,r+n),e.C=r+n,t))}function Sh(e){e.Y=Date.now()+e.P,Eh(e,e.P)}function Eh(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=rh(Sf(e.lb,e),t)}function Ih(e){e.B&&(gf.clearTimeout(e.B),e.B=null)}function Th(e){0==e.l.H||e.J||Gp(e.l,e)}function Ch(e){Ih(e);var t=e.M;t&&"function"==typeof t.sa&&t.sa(),e.M=null,Fd(e.V),Gd(e.U),e.g&&(t=e.g,e.g=null,t.abort(),t.sa())}function Nh(e,t){try{var n=e.l;if(0!=n.H&&(n.g==e||ip(n.i,e)))if(!e.K&&ip(n.i,e)&&3==n.H){try{var r=n.Ja.g.parse(t)}catch(a){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.G+3e3<e.G))break e;Wp(n),Dp(n)}Bp(n),th(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&0==n.A&&!n.v&&(n.v=rh(Sf(n.ib,n),6e3));if(1>=rp(n.i)&&n.oa){try{n.oa()}catch(a){}n.oa=void 0}}else Qp(n,11)}else if((e.K||n.g==e)&&Wp(n),!Rf(t))for(i=n.Ja.g.parse(t),t=0;t<i.length;t++){var a=i[t];if(n.V=a[0],a=a[1],2==n.H)if("c"==a[0]){n.K=a[1],n.pa=a[2];var o=a[3];null!=o&&(n.ra=o,n.l.info("VER="+n.ra));var s=a[4];null!=s&&(n.Ga=s,n.l.info("SVER="+n.Ga));var u=a[5];null!=u&&"number"===typeof u&&0<u&&(r=1.5*u,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;var c=e.g;if(c){var l=c.g?c.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var f=r.i;f.g||-1==l.indexOf("spdy")&&-1==l.indexOf("quic")&&-1==l.indexOf("h2")||(f.j=f.l,f.g=new Set,f.h&&(ap(f,f.h),f.h=null))}if(r.F){var d=c.g?c.g.getResponseHeader("X-HTTP-Session-Id"):null;d&&(r.Da=d,Mh(r.I,r.F,d))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-e.G,n.l.info("Handshake RTT: "+n.S+"ms"));var h=e;if((r=n).wa=Xp(r,r.J?r.pa:null,r.Y),h.K){op(r.i,h);var p=h,v=r.L;v&&p.setTimeout(v),p.B&&(Ih(p),Sh(p)),r.g=h}else Vp(r);0<n.j.length&&Mp(n)}else"stop"!=a[0]&&"close"!=a[0]||Qp(n,7);else 3==n.H&&("stop"==a[0]||"close"==a[0]?"stop"==a[0]?Qp(n,7):jp(n):"noop"!=a[0]&&n.h&&n.h.Aa(a),n.A=0)}Zd()}catch(a){}}function Oh(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(yf(e)||"string"===typeof e)Array.prototype.forEach.call(e,t,void 0);else for(var n=function(e){if(e.ta&&"function"==typeof e.ta)return e.ta();if(!e.Z||"function"!=typeof e.Z){if("undefined"!==typeof Map&&e instanceof Map)return Array.from(e.keys());if(!("undefined"!==typeof Set&&e instanceof Set)){if(yf(e)||"string"===typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}for(var r in t=[],n=0,e)t[n++]=r;return t}}}(e),r=function(e){if(e.Z&&"function"==typeof e.Z)return e.Z();if("undefined"!==typeof Map&&e instanceof Map||"undefined"!==typeof Set&&e instanceof Set)return Array.from(e.values());if("string"===typeof e)return e.split("");if(yf(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length,a=0;a<i;a++)t.call(void 0,r[a],n&&n[a],e)}(hf=ph.prototype).setTimeout=function(e){this.P=e},hf.nb=function(e){e=e.target;var t=this.M;t&&3==Cp(e)?t.l():this.Pa(e)},hf.Pa=function(e){try{if(e==this.g)e:{var t=Cp(this.g),n=this.g.Ia();this.g.da();if(!(3>t)&&(3!=t||Bf||this.g&&(this.h.h||this.g.ja()||Np(this.g)))){this.J||4!=t||7==n||Zd(),Ih(this);var r=this.g.da();this.ca=r;t:if(wh(this)){var i=Np(this.g);e="";var a=i.length,o=4==Cp(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){Ch(this),Th(this);var s="";break t}this.h.i=new gf.TextDecoder}for(n=0;n<a;n++)this.h.h=!0,e+=this.h.i.decode(i[n],{stream:o&&n==a-1});i.splice(0,a),this.h.g+=e,this.C=0,s=this.h.g}else s=this.g.ja();if(this.i=200==r,function(e,t,n,r,i,a,o){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+a+" "+o}))}(this.j,this.u,this.A,this.m,this.W,t,r),this.i){if(this.aa&&!this.K){t:{if(this.g){var u,c=this.g;if((u=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Rf(u)){var l=u;break t}}l=null}if(!(r=l)){this.i=!1,this.o=3,th(12),Ch(this),Th(this);break e}Qd(this.j,this.m,r,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Nh(this,r)}this.S?(xh(this,t,s),Bf&&this.i&&3==t&&(Wd(this.U,this.V,"tick",this.mb),this.V.start())):(Qd(this.j,this.m,s,null),Nh(this,s)),4==t&&Ch(this),this.i&&!this.J&&(4==t?Gp(this.l,this):(this.i=!1,Sh(this)))}else(function(e){var t={};e=(e.g&&2<=Cp(e)&&e.g.getAllResponseHeaders()||"").split("\r\n");for(var n=0;n<e.length;n++)if(!Rf(e[n])){var r=Pd(e[n]),i=r[0];if("string"===typeof(r=r[1])){r=r.trim();var a=t[i]||[];t[i]=a,a.push(r)}}!function(e,t){for(var n in e)t.call(void 0,e[n],n,e)}(t,(function(e){return e.join(", ")}))})(this.g),400==r&&0<s.indexOf("Unknown SID")?(this.o=3,th(12)):(this.o=0,th(13)),Ch(this),Th(this)}}}catch(t){}},hf.mb=function(){if(this.g){var e=Cp(this.g),t=this.g.ja();this.C<t.length&&(Ih(this),xh(this,e,t),this.i&&4!=e&&Sh(this))}},hf.cancel=function(){this.J=!0,Ch(this)},hf.lb=function(){this.B=null;var e=Date.now();0<=e-this.Y?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.j,this.A),2!=this.L&&(Zd(),th(17)),Ch(this),this.o=2,Th(this)):Eh(this,this.Y-e)};var Ph=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ah(e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,e instanceof Ah){this.h=e.h,jh(this,e.j),this.s=e.s,this.g=e.g,Dh(this,e.m),this.l=e.l;var t=e.i,n=new Kh;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),Lh(this,n),this.o=e.o}else e&&(t=String(e).match(Ph))?(this.h=!1,jh(this,t[1]||"",!0),this.s=Fh(t[2]||""),this.g=Fh(t[3]||"",!0),Dh(this,t[4]),this.l=Fh(t[5]||"",!0),Lh(this,t[6]||"",!0),this.o=Fh(t[7]||"")):(this.h=!1,this.i=new Kh(null,this.h))}function Rh(e){return new Ah(e)}function jh(e,t,n){e.j=n?Fh(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function Dh(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function Lh(e,t,n){t instanceof Kh?(e.i=t,function(e,t){t&&!e.j&&(Qh(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(Yh(this,t),$h(this,n,e))}),e)),e.j=t}(e.i,e.h)):(n||(t=zh(t,Wh)),e.i=new Kh(t,e.h))}function Mh(e,t,n){e.i.set(t,n)}function Uh(e){return Mh(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function Fh(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function zh(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,Vh),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function Vh(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}Ah.prototype.toString=function(){var e=[],t=this.j;t&&e.push(zh(t,Bh,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(zh(t,Bh,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(zh(n,"/"==n.charAt(0)?Hh:qh,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.o)&&e.push("#",zh(n,Gh)),e.join("")};var Bh=/[#\/\?@]/g,qh=/[#\?:]/g,Hh=/[#\?]/g,Wh=/[#\?@]/g,Gh=/#/g;function Kh(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function Qh(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var a=e[n].substring(0,r);i=e[n].substring(r+1)}else a=e[n];t(a,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function Yh(e,t){Qh(e),t=Jh(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function Xh(e,t){return Qh(e),t=Jh(e,t),e.g.has(t)}function $h(e,t,n){Yh(e,t),0<n.length&&(e.i=null,e.g.set(Jh(e,t),Nf(n)),e.h+=n.length)}function Jh(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(hf=Kh.prototype).add=function(e,t){Qh(this),this.i=null,e=Jh(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},hf.forEach=function(e,t){Qh(this),this.g.forEach((function(n,r){n.forEach((function(n){e.call(t,n,r,this)}),this)}),this)},hf.ta=function(){Qh(this);for(var e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[],r=0;r<t.length;r++)for(var i=e[r],a=0;a<i.length;a++)n.push(t[r]);return n},hf.Z=function(e){Qh(this);var t=[];if("string"===typeof e)Xh(this,e)&&(t=t.concat(this.g.get(Jh(this,e))));else{e=Array.from(this.g.values());for(var n=0;n<e.length;n++)t=t.concat(e[n])}return t},hf.set=function(e,t){return Qh(this),this.i=null,Xh(this,e=Jh(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},hf.get=function(e,t){return e&&0<(e=this.Z(e)).length?String(e[0]):t},hf.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=Array.from(this.g.keys()),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r)),a=this.Z(r);for(r=0;r<a.length;r++){var o=i;""!==a[r]&&(o+="="+encodeURIComponent(String(a[r]))),e.push(o)}}return this.i=e.join("&")};var Zh=g((function e(t,n){h(this,e),this.g=t,this.map=n}));function ep(e){this.l=e||tp,gf.PerformanceNavigationTiming?e=0<(e=gf.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(gf.g&&gf.g.Ka&&gf.g.Ka()&&gf.g.Ka().ec),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var tp=10;function np(e){return!!e.h||!!e.g&&e.g.size>=e.j}function rp(e){return e.h?1:e.g?e.g.size:0}function ip(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function ap(e,t){e.g?e.g.add(t):e.h=t}function op(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function sp(e){if(null!=e.h)return e.i.concat(e.h.F);if(null!=e.g&&0!==e.g.size){var t,n=e.i,r=T(e.g.values());try{for(r.s();!(t=r.n()).done;){var i=t.value;n=n.concat(i.F)}}catch(a){r.e(a)}finally{r.f()}return n}return Nf(e.i)}ep.prototype.cancel=function(){if(this.i=sp(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){var e,t=T(this.g.values());try{for(t.s();!(e=t.n()).done;){e.value.cancel()}}catch(n){t.e(n)}finally{t.f()}this.g.clear()}};var up=function(){function e(){h(this,e)}return g(e,[{key:"stringify",value:function(e){return gf.JSON.stringify(e,void 0)}},{key:"parse",value:function(e){return gf.JSON.parse(e,void 0)}}]),e}();function cp(){this.g=new up}function lp(e,t,n){var r=n||"";try{Oh(e,(function(e,n){var i=e;bf(e)&&(i=Ed(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function fp(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(lD){}}function dp(e){this.l=e.fc||null,this.j=e.ob||!1}function hp(e,t){xd.call(this),this.F=e,this.u=t,this.m=void 0,this.readyState=pp,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}If(dp,oh),dp.prototype.g=function(){return new hp(this.l,this.j)},dp.prototype.i=function(e){return function(){return e}}({}),If(hp,xd);var pp=0;function vp(e){e.j.read().then(e.Xa.bind(e)).catch(e.ka.bind(e))}function mp(e){e.readyState=4,e.l=null,e.j=null,e.A=null,gp(e)}function gp(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(hf=hp.prototype).open=function(e,t){if(this.readyState!=pp)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,gp(this)},hf.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.F||gf).fetch(new Request(this.B,t)).then(this.$a.bind(this),this.ka.bind(this))},hf.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch((function(){})),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,mp(this)),this.readyState=pp},hf.$a=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,gp(this)),this.g&&(this.readyState=3,gp(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if("undefined"!==typeof gf.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;vp(this)}else e.text().then(this.Za.bind(this),this.ka.bind(this))},hf.Xa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?mp(this):gp(this),3==this.readyState&&vp(this)}},hf.Za=function(e){this.g&&(this.response=this.responseText=e,mp(this))},hf.Ya=function(e){this.g&&(this.response=e,mp(this))},hf.ka=function(){this.g&&mp(this)},hf.setRequestHeader=function(e,t){this.v.append(e,t)},hf.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},hf.getAllResponseHeaders=function(){if(!this.h)return"";for(var e=[],t=this.h.entries(),n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(hp.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var yp=gf.JSON.parse;function bp(e){xd.call(this),this.headers=new Map,this.u=e||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=kp,this.L=this.M=!1}If(bp,xd);var kp="",wp=/^https?$/i,xp=["POST","PUT"];function _p(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,Sp(e),Ip(e)}function Sp(e){e.F||(e.F=!0,_d(e,"complete"),_d(e,"error"))}function Ep(e){if(e.h&&"undefined"!=typeof mf&&(!e.C[1]||4!=Cp(e)||2!=e.da()))if(e.v&&4==Cp(e))zd(e.La,0,e);else if(_d(e,"readystatechange"),4==Cp(e)){e.h=!1;try{var t,n=e.da();e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break e;default:r=!1}if(!(t=r)){var i;if(i=0===n){var a=String(e.I).match(Ph)[1]||null;!a&&gf.self&&gf.self.location&&(a=gf.self.location.protocol.slice(0,-1)),i=!wp.test(a?a.toLowerCase():"")}t=i}if(t)_d(e,"complete"),_d(e,"success");else{e.m=6;try{var o=2<Cp(e)?e.g.statusText:""}catch(s){o=""}e.j=o+" ["+e.da()+"]",Sp(e)}}finally{Ip(e)}}}function Ip(e,t){if(e.g){Tp(e);var n=e.g,r=e.C[0]?function(){}:null;e.g=null,e.C=null,t||_d(e,"ready");try{n.onreadystatechange=r}catch(i){}}}function Tp(e){e.g&&e.L&&(e.g.ontimeout=null),e.A&&(gf.clearTimeout(e.A),e.A=null)}function Cp(e){return e.g?e.g.readyState:0}function Np(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.K){case kp:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(Lv){return null}}function Op(e){var t="";return rd(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}function Pp(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=Op(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):Mh(e,t,n))}function Ap(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function Rp(e){this.Ga=0,this.j=[],this.l=new Kd,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Ap("failFast",!1,e),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Ap("baseRetryDelayMs",5e3,e),this.hb=Ap("retryDelaySeedMs",1e4,e),this.eb=Ap("forwardChannelMaxRetries",2,e),this.xa=Ap("forwardChannelRequestTimeoutMs",2e4,e),this.va=e&&e.xmlHttpFactory||void 0,this.Ha=e&&e.dc||!1,this.L=void 0,this.J=e&&e.supportsCrossDomainXhr||!1,this.K="",this.i=new ep(e&&e.concurrentRequestLimit),this.Ja=new cp,this.P=e&&e.fastHandshake||!1,this.O=e&&e.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=e&&e.bc||!1,e&&e.Ea&&this.l.Ea(),e&&e.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&e&&e.detectBufferingProxy||!1,this.qa=void 0,e&&e.longPollingTimeout&&0<e.longPollingTimeout&&(this.qa=e.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function jp(e){if(Lp(e),3==e.H){var t=e.W++,n=Rh(e.I);if(Mh(n,"SID",e.K),Mh(n,"RID",t),Mh(n,"TYPE","terminate"),Fp(e,n),(t=new ph(e,e.l,t)).L=2,t.v=Uh(Rh(n)),n=!1,gf.navigator&&gf.navigator.sendBeacon)try{n=gf.navigator.sendBeacon(t.v.toString(),"")}catch(OA){}!n&&gf.Image&&((new Image).src=t.v,n=!0),n||(t.g=$p(t.l,null),t.g.ha(t.v)),t.G=Date.now(),Sh(t)}Yp(e)}function Dp(e){e.g&&(qp(e),e.g.cancel(),e.g=null)}function Lp(e){Dp(e),e.u&&(gf.clearTimeout(e.u),e.u=null),Wp(e),e.i.cancel(),e.m&&("number"===typeof e.m&&gf.clearTimeout(e.m),e.m=null)}function Mp(e){if(!np(e.i)&&!e.m){e.m=!0;var t=e.Na;Rd||Ld(),jd||(Rd(),jd=!0),Dd.add(t,e),e.C=0}}function Up(e,t){var n;n=t?t.m:e.W++;var r=Rh(e.I);Mh(r,"SID",e.K),Mh(r,"RID",n),Mh(r,"AID",e.V),Fp(e,r),e.o&&e.s&&Pp(r,e.o,e.s),n=new ph(e,e.l,n,e.C+1),null===e.o&&(n.I=e.s),t&&(e.j=t.F.concat(e.j)),t=zp(e,n,1e3),n.setTimeout(Math.round(.5*e.xa)+Math.round(.5*e.xa*Math.random())),ap(e.i,n),bh(n,r,t)}function Fp(e,t){e.na&&rd(e.na,(function(e,n){Mh(t,n,e)})),e.h&&Oh({},(function(e,n){Mh(t,n,e)}))}function zp(e,t,n){n=Math.min(e.j.length,n);var r=e.h?Sf(e.h.Va,e.h,e):null;e:for(var i=e.j,a=-1;;){var o=["count="+n];-1==a?0<n?(a=i[0].g,o.push("ofs="+a)):a=0:o.push("ofs="+a);for(var s=!0,u=0;u<n;u++){var c=i[u].g,l=i[u].map;if(0>(c-=a))a=Math.max(0,i[u].g-100),s=!1;else try{lp(l,o,"req"+c+"_")}catch(eg){r&&r(l)}}if(s){r=o.join("&");break e}}return e=e.j.splice(0,n),t.F=e,r}function Vp(e){if(!e.g&&!e.u){e.ba=1;var t=e.Ma;Rd||Ld(),jd||(Rd(),jd=!0),Dd.add(t,e),e.A=0}}function Bp(e){return!(e.g||e.u||3<=e.A)&&(e.ba++,e.u=rh(Sf(e.Ma,e),Kp(e,e.A)),e.A++,!0)}function qp(e){null!=e.B&&(gf.clearTimeout(e.B),e.B=null)}function Hp(e){e.g=new ph(e,e.l,"rpc",e.ba),null===e.o&&(e.g.I=e.s),e.g.O=0;var t=Rh(e.wa);Mh(t,"RID","rpc"),Mh(t,"SID",e.K),Mh(t,"AID",e.V),Mh(t,"CI",e.G?"0":"1"),!e.G&&e.qa&&Mh(t,"TO",e.qa),Mh(t,"TYPE","xmlhttp"),Fp(e,t),e.o&&e.s&&Pp(t,e.o,e.s),e.L&&e.g.setTimeout(e.L);var n=e.g;e=e.pa,n.L=1,n.v=Uh(Rh(t)),n.s=null,n.S=!0,kh(n,e)}function Wp(e){null!=e.v&&(gf.clearTimeout(e.v),e.v=null)}function Gp(e,t){var n=null;if(e.g==t){Wp(e),qp(e),e.g=null;var r=2}else{if(!ip(e.i,t))return;n=t.F,op(e.i,t),r=1}if(0!=e.H)if(t.i)if(1==r){n=t.s?t.s.length:0,t=Date.now()-t.G;var i=e.C;_d(r=$d(),new nh(r,n)),Mp(e)}else Vp(e);else if(3==(i=t.o)||0==i&&0<t.ca||!(1==r&&function(e,t){return!(rp(e.i)>=e.i.j-(e.m?1:0))&&(e.m?(e.j=t.F.concat(e.j),!0):!(1==e.H||2==e.H||e.C>=(e.cb?0:e.eb))&&(e.m=rh(Sf(e.Na,e,t),Kp(e,e.C)),e.C++,!0))}(e,t)||2==r&&Bp(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),i){case 1:Qp(e,5);break;case 4:Qp(e,10);break;case 3:Qp(e,6);break;default:Qp(e,2)}}function Kp(e,t){var n=e.ab+Math.floor(Math.random()*e.hb);return e.isActive()||(n*=2),n*t}function Qp(e,t){if(e.l.info("Error code "+t),2==t){var n=null;e.h&&(n=null);var r=Sf(e.pb,e);n||(n=new Ah("//www.google.com/images/cleardot.gif"),gf.location&&"http"==gf.location.protocol||jh(n,"https"),Uh(n)),function(e,t){var n=new Kd;if(gf.Image){var r=new Image;r.onload=Ef(fp,n,r,"TestLoadImage: loaded",!0,t),r.onerror=Ef(fp,n,r,"TestLoadImage: error",!1,t),r.onabort=Ef(fp,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=Ef(fp,n,r,"TestLoadImage: timeout",!1,t),gf.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else th(2);e.H=0,e.h&&e.h.za(t),Yp(e),Lp(e)}function Yp(e){if(e.H=0,e.ma=[],e.h){var t=sp(e.i);0==t.length&&0==e.j.length||(Of(e.ma,t),Of(e.ma,e.j),e.i.i.length=0,Nf(e.j),e.j.length=0),e.h.ya()}}function Xp(e,t,n){var r=n instanceof Ah?Rh(n):new Ah(n);if(""!=r.g)t&&(r.g=t+"."+r.g),Dh(r,r.m);else{var i=gf.location;r=i.protocol,t=t?t+"."+i.hostname:i.hostname,i=+i.port;var a=new Ah(null);r&&jh(a,r),t&&(a.g=t),i&&Dh(a,i),n&&(a.l=n),r=a}return n=e.F,t=e.Da,n&&t&&Mh(r,n,t),Mh(r,"VER",e.ra),Fp(e,r),r}function $p(e,t,n){if(t&&!e.J)throw Error("Can't create secondary domain capable XhrIo object.");return(t=n&&e.Ha&&!e.va?new bp(new dp({ob:!0})):new bp(e.va)).Oa(e.J),t}function Jp(){}function Zp(){if(zf&&!(10<=Number(Xf)))throw Error("Environmental error: no available transport.")}function ev(e,t){xd.call(this),this.g=new Rp(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.Ca&&(e?e["X-WebChannel-Client-Profile"]=t.Ca:e={"X-WebChannel-Client-Profile":t.Ca}),this.g.U=e,(e=t&&t.cc)&&!Rf(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!Rf(t)&&(this.g.F=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new rv(this)}function tv(e){fh.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function nv(){dh.call(this),this.status=1}function rv(e){this.g=e}function iv(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function av(e,t,n){n||(n=0);var r=Array(16);if("string"===typeof t)for(var i=0;16>i;++i)r[i]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],i=e.g[2];var a=e.g[3],o=t+(a^n&(i^a))+r[0]+3614090360&4294967295;o=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=n+(o<<7&4294967295|o>>>25))+((o=a+(i^t&(n^i))+r[1]+3905402710&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^a&(t^n))+r[2]+606105819&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(a^t))+r[3]+3250441966&4294967295)<<22&4294967295|o>>>10))+((o=t+(a^n&(i^a))+r[4]+4118548399&4294967295)<<7&4294967295|o>>>25))+((o=a+(i^t&(n^i))+r[5]+1200080426&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^a&(t^n))+r[6]+2821735955&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(a^t))+r[7]+4249261313&4294967295)<<22&4294967295|o>>>10))+((o=t+(a^n&(i^a))+r[8]+1770035416&4294967295)<<7&4294967295|o>>>25))+((o=a+(i^t&(n^i))+r[9]+2336552879&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^a&(t^n))+r[10]+4294925233&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(a^t))+r[11]+2304563134&4294967295)<<22&4294967295|o>>>10))+((o=t+(a^n&(i^a))+r[12]+1804603682&4294967295)<<7&4294967295|o>>>25))+((o=a+(i^t&(n^i))+r[13]+4254626195&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^a&(t^n))+r[14]+2792965006&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(a^t))+r[15]+1236535329&4294967295)<<22&4294967295|o>>>10))+((o=t+(i^a&(n^i))+r[1]+4129170786&4294967295)<<5&4294967295|o>>>27))+((o=a+(n^i&(t^n))+r[6]+3225465664&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(a^t))+r[11]+643717713&4294967295)<<14&4294967295|o>>>18))+((o=n+(a^t&(i^a))+r[0]+3921069994&4294967295)<<20&4294967295|o>>>12))+((o=t+(i^a&(n^i))+r[5]+3593408605&4294967295)<<5&4294967295|o>>>27))+((o=a+(n^i&(t^n))+r[10]+38016083&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(a^t))+r[15]+3634488961&4294967295)<<14&4294967295|o>>>18))+((o=n+(a^t&(i^a))+r[4]+3889429448&4294967295)<<20&4294967295|o>>>12))+((o=t+(i^a&(n^i))+r[9]+568446438&4294967295)<<5&4294967295|o>>>27))+((o=a+(n^i&(t^n))+r[14]+3275163606&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(a^t))+r[3]+4107603335&4294967295)<<14&4294967295|o>>>18))+((o=n+(a^t&(i^a))+r[8]+1163531501&4294967295)<<20&4294967295|o>>>12))+((o=t+(i^a&(n^i))+r[13]+2850285829&4294967295)<<5&4294967295|o>>>27))+((o=a+(n^i&(t^n))+r[2]+4243563512&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(a^t))+r[7]+1735328473&4294967295)<<14&4294967295|o>>>18))+((o=n+(a^t&(i^a))+r[12]+2368359562&4294967295)<<20&4294967295|o>>>12))+((o=t+(n^i^a)+r[5]+4294588738&4294967295)<<4&4294967295|o>>>28))+((o=a+(t^n^i)+r[8]+2272392833&4294967295)<<11&4294967295|o>>>21))+((o=i+(a^t^n)+r[11]+1839030562&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^a^t)+r[14]+4259657740&4294967295)<<23&4294967295|o>>>9))+((o=t+(n^i^a)+r[1]+2763975236&4294967295)<<4&4294967295|o>>>28))+((o=a+(t^n^i)+r[4]+1272893353&4294967295)<<11&4294967295|o>>>21))+((o=i+(a^t^n)+r[7]+4139469664&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^a^t)+r[10]+3200236656&4294967295)<<23&4294967295|o>>>9))+((o=t+(n^i^a)+r[13]+681279174&4294967295)<<4&4294967295|o>>>28))+((o=a+(t^n^i)+r[0]+3936430074&4294967295)<<11&4294967295|o>>>21))+((o=i+(a^t^n)+r[3]+3572445317&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^a^t)+r[6]+76029189&4294967295)<<23&4294967295|o>>>9))+((o=t+(n^i^a)+r[9]+3654602809&4294967295)<<4&4294967295|o>>>28))+((o=a+(t^n^i)+r[12]+3873151461&4294967295)<<11&4294967295|o>>>21))+((o=i+(a^t^n)+r[15]+530742520&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^a^t)+r[2]+3299628645&4294967295)<<23&4294967295|o>>>9))+((o=t+(i^(n|~a))+r[0]+4096336452&4294967295)<<6&4294967295|o>>>26))+((o=a+(n^(t|~i))+r[7]+1126891415&4294967295)<<10&4294967295|o>>>22))+((o=i+(t^(a|~n))+r[14]+2878612391&4294967295)<<15&4294967295|o>>>17))+((o=n+(a^(i|~t))+r[5]+4237533241&4294967295)<<21&4294967295|o>>>11))+((o=t+(i^(n|~a))+r[12]+1700485571&4294967295)<<6&4294967295|o>>>26))+((o=a+(n^(t|~i))+r[3]+2399980690&4294967295)<<10&4294967295|o>>>22))+((o=i+(t^(a|~n))+r[10]+4293915773&4294967295)<<15&4294967295|o>>>17))+((o=n+(a^(i|~t))+r[1]+2240044497&4294967295)<<21&4294967295|o>>>11))+((o=t+(i^(n|~a))+r[8]+1873313359&4294967295)<<6&4294967295|o>>>26))+((o=a+(n^(t|~i))+r[15]+4264355552&4294967295)<<10&4294967295|o>>>22))+((o=i+(t^(a|~n))+r[6]+2734768916&4294967295)<<15&4294967295|o>>>17))+((o=n+(a^(i|~t))+r[13]+1309151649&4294967295)<<21&4294967295|o>>>11))+((a=(t=n+((o=t+(i^(n|~a))+r[4]+4149444226&4294967295)<<6&4294967295|o>>>26))+((o=a+(n^(t|~i))+r[11]+3174756917&4294967295)<<10&4294967295|o>>>22))^((i=a+((o=i+(t^(a|~n))+r[2]+718787259&4294967295)<<15&4294967295|o>>>17))|~t))+r[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,e.g[2]=e.g[2]+i&4294967295,e.g[3]=e.g[3]+a&4294967295}function ov(e,t){this.h=t;for(var n=[],r=!0,i=e.length-1;0<=i;i--){var a=0|e[i];r&&a==t||(n[i]=a,r=!1)}this.g=n}(hf=bp.prototype).Oa=function(e){this.M=e},hf.ha=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+e);t=t?t.toUpperCase():"GET",this.I=e,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():ch.g(),this.C=this.u?sh(this.u):sh(ch),this.g.onreadystatechange=Sf(this.La,this);try{this.G=!0,this.g.open(t,String(e),!0),this.G=!1}catch(s){return void _p(this,s)}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else{if("function"!==typeof r.keys||"function"!==typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));var a,o=T(r.keys());try{for(o.s();!(a=o.n()).done;){var s=a.value;n.set(s,r.get(s))}}catch(p){o.e(p)}finally{o.f()}}r=Array.from(n.keys()).find((function(e){return"content-type"==e.toLowerCase()})),i=gf.FormData&&e instanceof gf.FormData,!(0<=Cf(xp,t))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");var u,c=T(n);try{for(c.s();!(u=c.n()).done;){var f=l(u.value,2),d=f[0],h=f[1];this.g.setRequestHeader(d,h)}}catch(p){c.e(p)}finally{c.f()}this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{Tp(this),0<this.B&&((this.L=function(e){return zf&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Sf(this.ua,this)):this.A=zd(this.ua,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(s){_p(this,s)}},hf.ua=function(){"undefined"!=typeof mf&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,_d(this,"timeout"),this.abort(8))},hf.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,_d(this,"complete"),_d(this,"abort"),Ip(this))},hf.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Ip(this,!0)),bp.$.N.call(this)},hf.La=function(){this.s||(this.G||this.v||this.l?Ep(this):this.kb())},hf.kb=function(){Ep(this)},hf.isActive=function(){return!!this.g},hf.da=function(){try{return 2<Cp(this)?this.g.status:-1}catch(e){return-1}},hf.ja=function(){try{return this.g?this.g.responseText:""}catch(e){return""}},hf.Wa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),yp(t)}},hf.Ia=function(){return this.m},hf.Sa=function(){return"string"===typeof this.j?this.j:String(this.j)},(hf=Rp.prototype).ra=8,hf.H=1,hf.Na=function(e){if(this.m)if(this.m=null,1==this.H){if(!e){this.W=Math.floor(1e5*Math.random()),e=this.W++;var t=new ph(this,this.l,e),n=this.s;if(this.U&&(n?od(n=id(n),this.U):n=this.U),null!==this.o||this.O||(t.I=n,n=null),this.P)e:{for(var r=0,i=0;i<this.j.length;i++){var a=this.j[i];if(void 0===(a="__data__"in a.map&&"string"===typeof(a=a.map.__data__)?a.length:void 0))break;if(4096<(r+=a)){r=i;break e}if(4096===r||i===this.j.length-1){r=i+1;break e}}r=1e3}else r=1e3;r=zp(this,t,r),Mh(i=Rh(this.I),"RID",e),Mh(i,"CVER",22),this.F&&Mh(i,"X-HTTP-Session-Id",this.F),Fp(this,i),n&&(this.O?r="headers="+encodeURIComponent(String(Op(n)))+"&"+r:this.o&&Pp(i,this.o,n)),ap(this.i,t),this.bb&&Mh(i,"TYPE","init"),this.P?(Mh(i,"$req",r),Mh(i,"SID","null"),t.aa=!0,bh(t,i,null)):bh(t,i,r),this.H=2}}else 3==this.H&&(e?Up(this,e):0==this.j.length||np(this.i)||Up(this))},hf.Ma=function(){if(this.u=null,Hp(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var e=2*this.S;this.l.info("BP detection timer enabled: "+e),this.B=rh(Sf(this.jb,this),e)}},hf.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,th(10),Dp(this),Hp(this))},hf.ib=function(){null!=this.v&&(this.v=null,Dp(this),Bp(this),th(19))},hf.pb=function(e){e?(this.l.info("Successfully pinged google.com"),th(2)):(this.l.info("Failed to ping google.com"),th(1))},hf.isActive=function(){return!!this.h&&this.h.isActive(this)},(hf=Jp.prototype).Ba=function(){},hf.Aa=function(){},hf.za=function(){},hf.ya=function(){},hf.isActive=function(){return!0},hf.Va=function(){},Zp.prototype.g=function(e,t){return new ev(e,t)},If(ev,xd),ev.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var e=this.g,t=this.l,n=this.h||void 0;th(0),e.Y=t,e.na=n||{},e.G=e.aa,e.I=Xp(e,null,e.Y),Mp(e)},ev.prototype.close=function(){jp(this.g)},ev.prototype.u=function(e){var t=this.g;if("string"===typeof e){var n={};n.__data__=e,e=n}else this.v&&((n={}).__data__=Ed(e),e=n);t.j.push(new Zh(t.fb++,e)),3==t.H&&Mp(t)},ev.prototype.N=function(){this.g.h=null,delete this.j,jp(this.g),delete this.g,ev.$.N.call(this)},If(tv,fh),If(nv,dh),If(rv,Jp),rv.prototype.Ba=function(){_d(this.g,"a")},rv.prototype.Aa=function(e){_d(this.g,new tv(e))},rv.prototype.za=function(e){_d(this.g,new nv)},rv.prototype.ya=function(){_d(this.g,"b")},If(iv,(function(){this.blockSize=-1})),iv.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},iv.prototype.j=function(e,t){void 0===t&&(t=e.length);for(var n=t-this.blockSize,r=this.m,i=this.h,a=0;a<t;){if(0==i)for(;a<=n;)av(this,e,a),a+=this.blockSize;if("string"===typeof e){for(;a<t;)if(r[i++]=e.charCodeAt(a++),i==this.blockSize){av(this,r),i=0;break}}else for(;a<t;)if(r[i++]=e[a++],i==this.blockSize){av(this,r),i=0;break}}this.h=i,this.i+=t},iv.prototype.l=function(){var e=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;var n=8*this.i;for(t=e.length-8;t<e.length;++t)e[t]=255&n,n/=256;for(this.j(e),e=Array(16),t=n=0;4>t;++t)for(var r=0;32>r;r+=8)e[n++]=this.g[t]>>>r&255;return e};var sv={};function uv(e){return-128<=e&&128>e?function(e,t){var n=sv;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}(e,(function(e){return new ov([0|e],0>e?-1:0)})):new ov([0|e],0>e?-1:0)}function cv(e){if(isNaN(e)||!isFinite(e))return fv;if(0>e)return mv(cv(-e));for(var t=[],n=1,r=0;e>=n;r++)t[r]=e/n|0,n*=lv;return new ov(t,0)}var lv=4294967296,fv=uv(0),dv=uv(1),hv=uv(16777216);function pv(e){if(0!=e.h)return!1;for(var t=0;t<e.g.length;t++)if(0!=e.g[t])return!1;return!0}function vv(e){return-1==e.h}function mv(e){for(var t=e.g.length,n=[],r=0;r<t;r++)n[r]=~e.g[r];return new ov(n,~e.h).add(dv)}function gv(e,t){return e.add(mv(t))}function yv(e,t){for(;(65535&e[t])!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function bv(e,t){this.g=e,this.h=t}function kv(e,t){if(pv(t))throw Error("division by zero");if(pv(e))return new bv(fv,fv);if(vv(e))return t=kv(mv(e),t),new bv(mv(t.g),mv(t.h));if(vv(t))return t=kv(e,mv(t)),new bv(mv(t.g),t.h);if(30<e.g.length){if(vv(e)||vv(t))throw Error("slowDivide_ only works with positive integers.");for(var n=dv,r=t;0>=r.X(e);)n=wv(n),r=wv(r);var i=xv(n,1),a=xv(r,1);for(r=xv(r,2),n=xv(n,2);!pv(r);){var o=a.add(r);0>=o.X(e)&&(i=i.add(n),a=o),r=xv(r,1),n=xv(n,1)}return t=gv(e,i.R(t)),new bv(i,t)}for(i=fv;0<=e.X(t);){for(n=Math.max(1,Math.floor(e.ea()/t.ea())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),o=(a=cv(n)).R(t);vv(o)||0<o.X(e);)o=(a=cv(n-=r)).R(t);pv(a)&&(a=dv),i=i.add(a),e=gv(e,o)}return new bv(i,e)}function wv(e){for(var t=e.g.length+1,n=[],r=0;r<t;r++)n[r]=e.D(r)<<1|e.D(r-1)>>>31;return new ov(n,e.h)}function xv(e,t){var n=t>>5;t%=32;for(var r=e.g.length-n,i=[],a=0;a<r;a++)i[a]=0<t?e.D(a+n)>>>t|e.D(a+n+1)<<32-t:e.D(a+n);return new ov(i,e.h)}(hf=ov.prototype).ea=function(){if(vv(this))return-mv(this).ea();for(var e=0,t=1,n=0;n<this.g.length;n++){var r=this.D(n);e+=(0<=r?r:lv+r)*t,t*=lv}return e},hf.toString=function(e){if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if(pv(this))return"0";if(vv(this))return"-"+mv(this).toString(e);for(var t=cv(Math.pow(e,6)),n=this,r="";;){var i=kv(n,t).g,a=((0<(n=gv(n,i.R(t))).g.length?n.g[0]:n.h)>>>0).toString(e);if(pv(n=i))return a+r;for(;6>a.length;)a="0"+a;r=a+r}},hf.D=function(e){return 0>e?0:e<this.g.length?this.g[e]:this.h},hf.X=function(e){return vv(e=gv(this,e))?-1:pv(e)?0:1},hf.abs=function(){return vv(this)?mv(this):this},hf.add=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0,i=0;i<=t;i++){var a=r+(65535&this.D(i))+(65535&e.D(i)),o=(a>>>16)+(this.D(i)>>>16)+(e.D(i)>>>16);r=o>>>16,a&=65535,o&=65535,n[i]=o<<16|a}return new ov(n,-2147483648&n[n.length-1]?-1:0)},hf.R=function(e){if(pv(this)||pv(e))return fv;if(vv(this))return vv(e)?mv(this).R(mv(e)):mv(mv(this).R(e));if(vv(e))return mv(this.R(mv(e)));if(0>this.X(hv)&&0>e.X(hv))return cv(this.ea()*e.ea());for(var t=this.g.length+e.g.length,n=[],r=0;r<2*t;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<e.g.length;i++){var a=this.D(r)>>>16,o=65535&this.D(r),s=e.D(i)>>>16,u=65535&e.D(i);n[2*r+2*i]+=o*u,yv(n,2*r+2*i),n[2*r+2*i+1]+=a*u,yv(n,2*r+2*i+1),n[2*r+2*i+1]+=o*s,yv(n,2*r+2*i+1),n[2*r+2*i+2]+=a*s,yv(n,2*r+2*i+2)}for(r=0;r<t;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=t;r<2*t;r++)n[r]=0;return new ov(n,0)},hf.gb=function(e){return kv(this,e).h},hf.and=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)&e.D(r);return new ov(n,this.h&e.h)},hf.or=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)|e.D(r);return new ov(n,this.h|e.h)},hf.xor=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)^e.D(r);return new ov(n,this.h^e.h)},Zp.prototype.createWebChannel=Zp.prototype.g,ev.prototype.send=ev.prototype.u,ev.prototype.open=ev.prototype.m,ev.prototype.close=ev.prototype.close,ih.NO_ERROR=0,ih.TIMEOUT=8,ih.HTTP_ERROR=6,ah.COMPLETE="complete",uh.EventType=lh,lh.OPEN="a",lh.CLOSE="b",lh.ERROR="c",lh.MESSAGE="d",xd.prototype.listen=xd.prototype.O,bp.prototype.listenOnce=bp.prototype.P,bp.prototype.getLastError=bp.prototype.Sa,bp.prototype.getLastErrorCode=bp.prototype.Ia,bp.prototype.getStatus=bp.prototype.da,bp.prototype.getResponseJson=bp.prototype.Wa,bp.prototype.getResponseText=bp.prototype.ja,bp.prototype.send=bp.prototype.ha,bp.prototype.setWithCredentials=bp.prototype.Oa,iv.prototype.digest=iv.prototype.l,iv.prototype.reset=iv.prototype.reset,iv.prototype.update=iv.prototype.j,ov.prototype.add=ov.prototype.add,ov.prototype.multiply=ov.prototype.R,ov.prototype.modulo=ov.prototype.gb,ov.prototype.compare=ov.prototype.X,ov.prototype.toNumber=ov.prototype.ea,ov.prototype.toString=ov.prototype.toString,ov.prototype.getBits=ov.prototype.D,ov.fromNumber=cv,ov.fromString=function e(t,n){if(0==t.length)throw Error("number format error: empty string");if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if("-"==t.charAt(0))return mv(e(t.substring(1),n));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var r=cv(Math.pow(n,8)),i=fv,a=0;a<t.length;a+=8){var o=Math.min(8,t.length-a),s=parseInt(t.substring(a,a+o),n);8>o?(o=cv(Math.pow(n,o)),i=i.R(o).add(cv(s))):i=(i=i.R(r)).add(cv(s))}return i};var _v=vf.createWebChannelTransport=function(){return new Zp},Sv=vf.getStatEventTarget=function(){return $d()},Ev=vf.ErrorCode=ih,Iv=vf.EventType=ah,Tv=vf.Event=Yd,Cv=vf.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},Nv=(vf.FetchXmlHttpFactory=dp,vf.WebChannel=uh),Ov=vf.XhrIo=bp,Pv=vf.Md5=iv,Av=vf.Integer=ov,Rv="@firebase/firestore",jv=function(){function e(t){h(this,e),this.uid=t}return g(e,[{key:"isAuthenticated",value:function(){return null!=this.uid}},{key:"toKey",value:function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}},{key:"isEqual",value:function(e){return e.uid===this.uid}}]),e}();jv.UNAUTHENTICATED=new jv(null),jv.GOOGLE_CREDENTIALS=new jv("google-credentials-uid"),jv.FIRST_PARTY=new jv("first-party-uid"),jv.MOCK_USER=new jv("mock-user");var Dv="10.3.0",Lv=new pn("@firebase/firestore");function Mv(){return Lv.logLevel}function Uv(e){if(Lv.logLevel<=sn.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(Vv);Lv.debug.apply(Lv,["Firestore (".concat(Dv,"): ").concat(e)].concat(d(i)))}}function Fv(e){if(Lv.logLevel<=sn.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(Vv);Lv.error.apply(Lv,["Firestore (".concat(Dv,"): ").concat(e)].concat(d(i)))}}function zv(e){if(Lv.logLevel<=sn.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(Vv);Lv.warn.apply(Lv,["Firestore (".concat(Dv,"): ").concat(e)].concat(d(i)))}}function Vv(e){if("string"==typeof e)return e;try{return function(e){return JSON.stringify(e)}(e)}catch(t){return e}}function Bv(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state",t="FIRESTORE (".concat(Dv,") INTERNAL ASSERTION FAILED: ")+e;throw Fv(t),new Error(t)}function qv(e,t){e||Bv()}function Hv(e,t){return e}var Wv={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},Gv=function(e){b(n,e);var t=_(n);function n(e,r){var i;return h(this,n),(i=t.call(this,e,r)).code=e,i.message=r,i.toString=function(){return"".concat(i.name,": [code=").concat(i.code,"]: ").concat(i.message)},i}return g(n)}(Bt),Kv=g((function e(){var t=this;h(this,e),this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))})),Qv=g((function e(t,n){h(this,e),this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(t))})),Yv=function(){function e(){h(this,e)}return g(e,[{key:"getToken",value:function(){return Promise.resolve(null)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(jv.UNAUTHENTICATED)}))}},{key:"shutdown",value:function(){}}]),e}(),Xv=function(){function e(t){h(this,e),this.token=t,this.changeListener=null}return g(e,[{key:"getToken",value:function(){return Promise.resolve(this.token)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){var n=this;this.changeListener=t,e.enqueueRetryable((function(){return t(n.token.user)}))}},{key:"shutdown",value:function(){this.changeListener=null}}]),e}(),$v=function(){function e(t){h(this,e),this.t=t,this.currentUser=jv.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}return g(e,[{key:"start",value:function(e,t){var n=this,r=this.i,i=function(e){return n.i!==r?(r=n.i,t(e)):Promise.resolve()},a=new Kv;this.o=function(){n.i++,n.currentUser=n.u(),a.resolve(),a=new Kv,e.enqueueRetryable((function(){return i(n.currentUser)}))};var o=function(){var t=a;e.enqueueRetryable(Ze($e().mark((function e(){return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.promise;case 2:return e.next=4,i(n.currentUser);case 4:case"end":return e.stop()}}),e)}))))},s=function(e){Uv("FirebaseAuthCredentialsProvider","Auth detected"),n.auth=e,n.auth.addAuthTokenListener(n.o),o()};this.t.onInit((function(e){return s(e)})),setTimeout((function(){if(!n.auth){var e=n.t.getImmediate({optional:!0});e?s(e):(Uv("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new Kv)}}),0),o()}},{key:"getToken",value:function(){var e=this,t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return e.i!==t?(Uv("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),e.getToken()):n?(qv("string"==typeof n.accessToken),new Qv(n.accessToken,e.currentUser)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.auth&&this.auth.removeAuthTokenListener(this.o)}},{key:"u",value:function(){var e=this.auth&&this.auth.getUid();return qv(null===e||"string"==typeof e),new jv(e)}}]),e}(),Jv=function(){function e(t,n,r){h(this,e),this.l=t,this.h=n,this.P=r,this.type="FirstParty",this.user=jv.FIRST_PARTY,this.I=new Map}return g(e,[{key:"T",value:function(){return this.P?this.P():null}},{key:"headers",get:function(){this.I.set("X-Goog-AuthUser",this.l);var e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}]),e}(),Zv=function(){function e(t,n,r){h(this,e),this.l=t,this.h=n,this.P=r}return g(e,[{key:"getToken",value:function(){return Promise.resolve(new Jv(this.l,this.h,this.P))}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(jv.FIRST_PARTY)}))}},{key:"shutdown",value:function(){}},{key:"invalidateToken",value:function(){}}]),e}(),em=g((function e(t){h(this,e),this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)})),tm=function(){function e(t){h(this,e),this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null}return g(e,[{key:"start",value:function(e,t){var n=this,r=function(e){null!=e.error&&Uv("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));var r=e.token!==n.R;return n.R=e.token,Uv("FirebaseAppCheckTokenProvider","Received ".concat(r?"new":"existing"," token.")),r?t(e.token):Promise.resolve()};this.o=function(t){e.enqueueRetryable((function(){return r(t)}))};var i=function(e){Uv("FirebaseAppCheckTokenProvider","AppCheck detected"),n.appCheck=e,n.appCheck.addTokenListener(n.o)};this.A.onInit((function(e){return i(e)})),setTimeout((function(){if(!n.appCheck){var e=n.A.getImmediate({optional:!0});e?i(e):Uv("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}},{key:"getToken",value:function(){var e=this,t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((function(t){return t?(qv("string"==typeof t.token),e.R=t.token,new em(t.token)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}]),e}();function nm(e){var t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(var r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}var rm=function(){function e(){h(this,e)}return g(e,null,[{key:"V",value:function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(256/62),n="";n.length<20;)for(var r=nm(40),i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%62));return n}}]),e}();function im(e,t){return e<t?-1:e>t?1:0}function am(e,t,n){return e.length===t.length&&e.every((function(e,r){return n(e,t[r])}))}function om(e){return e+"\0"}var sm=function(){function e(t,n){if(h(this,e),this.seconds=t,this.nanoseconds=n,n<0)throw new Gv(Wv.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Gv(Wv.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new Gv(Wv.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Gv(Wv.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return g(e,[{key:"toDate",value:function(){return new Date(this.toMillis())}},{key:"toMillis",value:function(){return 1e3*this.seconds+this.nanoseconds/1e6}},{key:"_compareTo",value:function(e){return this.seconds===e.seconds?im(this.nanoseconds,e.nanoseconds):im(this.seconds,e.seconds)}},{key:"isEqual",value:function(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}},{key:"toString",value:function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}},{key:"toJSON",value:function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}},{key:"valueOf",value:function(){var e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}],[{key:"now",value:function(){return e.fromMillis(Date.now())}},{key:"fromDate",value:function(t){return e.fromMillis(t.getTime())}},{key:"fromMillis",value:function(t){var n=Math.floor(t/1e3);return new e(n,Math.floor(1e6*(t-1e3*n)))}}]),e}(),um=function(){function e(t){h(this,e),this.timestamp=t}return g(e,[{key:"compareTo",value:function(e){return this.timestamp._compareTo(e.timestamp)}},{key:"isEqual",value:function(e){return this.timestamp.isEqual(e.timestamp)}},{key:"toMicroseconds",value:function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}},{key:"toString",value:function(){return"SnapshotVersion("+this.timestamp.toString()+")"}},{key:"toTimestamp",value:function(){return this.timestamp}}],[{key:"fromTimestamp",value:function(t){return new e(t)}},{key:"min",value:function(){return new e(new sm(0,0))}},{key:"max",value:function(){return new e(new sm(253402300799,999999999))}}]),e}(),cm=function(){function e(t,n,r){h(this,e),void 0===n?n=0:n>t.length&&Bv(),void 0===r?r=t.length-n:r>t.length-n&&Bv(),this.segments=t,this.offset=n,this.len=r}return g(e,[{key:"length",get:function(){return this.len}},{key:"isEqual",value:function(t){return 0===e.comparator(this,t)}},{key:"child",value:function(t){var n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach((function(e){n.push(e)})):n.push(t),this.construct(n)}},{key:"limit",value:function(){return this.offset+this.length}},{key:"popFirst",value:function(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}},{key:"popLast",value:function(){return this.construct(this.segments,this.offset,this.length-1)}},{key:"firstSegment",value:function(){return this.segments[this.offset]}},{key:"lastSegment",value:function(){return this.get(this.length-1)}},{key:"get",value:function(e){return this.segments[this.offset+e]}},{key:"isEmpty",value:function(){return 0===this.length}},{key:"isPrefixOf",value:function(e){if(e.length<this.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"isImmediateParentOf",value:function(e){if(this.length+1!==e.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"forEach",value:function(e){for(var t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}},{key:"toArray",value:function(){return this.segments.slice(this.offset,this.limit())}}],[{key:"comparator",value:function(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++){var i=e.get(r),a=t.get(r);if(i<a)return-1;if(i>a)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}]),e}(),lm=function(e){b(n,e);var t=_(n);function n(){return h(this,n),t.apply(this,arguments)}return g(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().join("/")}},{key:"toString",value:function(){return this.canonicalString()}}],[{key:"fromString",value:function(){for(var e=[],t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];for(var a=0,o=r;a<o.length;a++){var s=o[a];if(s.indexOf("//")>=0)throw new Gv(Wv.INVALID_ARGUMENT,"Invalid segment (".concat(s,"). Paths must not contain // in them."));e.push.apply(e,d(s.split("/").filter((function(e){return e.length>0}))))}return new n(e)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(cm),fm=/^[_a-zA-Z][_a-zA-Z0-9]*$/,dm=function(e){b(n,e);var t=_(n);function n(){return h(this,n),t.apply(this,arguments)}return g(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().map((function(e){return e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e})).join(".")}},{key:"toString",value:function(){return this.canonicalString()}},{key:"isKeyField",value:function(){return 1===this.length&&"__name__"===this.get(0)}}],[{key:"isValidIdentifier",value:function(e){return fm.test(e)}},{key:"keyField",value:function(){return new n(["__name__"])}},{key:"fromServerFormat",value:function(e){for(var t=[],r="",i=0,a=function(){if(0===r.length)throw new Gv(Wv.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(r),r=""},o=!1;i<e.length;){var s=e[i];if("\\"===s){if(i+1===e.length)throw new Gv(Wv.INVALID_ARGUMENT,"Path has trailing escape character: "+e);var u=e[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new Gv(Wv.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else"`"===s?(o=!o,i++):"."!==s||o?(r+=s,i++):(a(),i++)}if(a(),o)throw new Gv(Wv.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(cm),hm=function(){function e(t){h(this,e),this.path=t}return g(e,[{key:"collectionGroup",get:function(){return this.path.popLast().lastSegment()}},{key:"hasCollectionId",value:function(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}},{key:"getCollectionGroup",value:function(){return this.path.get(this.path.length-2)}},{key:"getCollectionPath",value:function(){return this.path.popLast()}},{key:"isEqual",value:function(e){return null!==e&&0===lm.comparator(this.path,e.path)}},{key:"toString",value:function(){return this.path.toString()}}],[{key:"fromPath",value:function(t){return new e(lm.fromString(t))}},{key:"fromName",value:function(t){return new e(lm.fromString(t).popFirst(5))}},{key:"empty",value:function(){return new e(lm.emptyPath())}},{key:"comparator",value:function(e,t){return lm.comparator(e.path,t.path)}},{key:"isDocumentKey",value:function(e){return e.length%2==0}},{key:"fromSegments",value:function(t){return new e(new lm(t.slice()))}}]),e}(),pm=g((function e(t,n,r,i){h(this,e),this.indexId=t,this.collectionGroup=n,this.fields=r,this.indexState=i}));function vm(e){return e.fields.find((function(e){return 2===e.kind}))}function mm(e){return e.fields.filter((function(e){return 2!==e.kind}))}pm.UNKNOWN_ID=-1;var gm=g((function e(t,n){h(this,e),this.fieldPath=t,this.kind=n}));var ym=function(){function e(t,n){h(this,e),this.sequenceNumber=t,this.offset=n}return g(e,null,[{key:"empty",value:function(){return new e(0,wm.min())}}]),e}();function bm(e,t){var n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=um.fromTimestamp(1e9===r?new sm(n+1,0):new sm(n,r));return new wm(i,hm.empty(),t)}function km(e){return new wm(e.readTime,e.key,-1)}var wm=function(){function e(t,n,r){h(this,e),this.readTime=t,this.documentKey=n,this.largestBatchId=r}return g(e,null,[{key:"min",value:function(){return new e(um.min(),hm.empty(),-1)}},{key:"max",value:function(){return new e(um.max(),hm.empty(),-1)}}]),e}();function xm(e,t){var n=e.readTime.compareTo(t.readTime);return 0!==n?n:0!==(n=hm.comparator(e.documentKey,t.documentKey))?n:im(e.largestBatchId,t.largestBatchId)}var _m="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Sm=function(){function e(){h(this,e),this.onCommittedListeners=[]}return g(e,[{key:"addOnCommittedListener",value:function(e){this.onCommittedListeners.push(e)}},{key:"raiseOnCommittedEvent",value:function(){this.onCommittedListeners.forEach((function(e){return e()}))}}]),e}();function Em(e){return Im.apply(this,arguments)}function Im(){return(Im=Ze($e().mark((function e(t){return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.code===Wv.FAILED_PRECONDITION&&t.message===_m){e.next=2;break}throw t;case 2:Uv("LocalStore","Unexpectedly lost primary lease");case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Tm=function(){function e(t){var n=this;h(this,e),this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((function(e){n.isDone=!0,n.result=e,n.nextCallback&&n.nextCallback(e)}),(function(e){n.isDone=!0,n.error=e,n.catchCallback&&n.catchCallback(e)}))}return g(e,[{key:"catch",value:function(e){return this.next(void 0,e)}},{key:"next",value:function(t,n){var r=this;return this.callbackAttached&&Bv(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new e((function(e,i){r.nextCallback=function(n){r.wrapSuccess(t,n).next(e,i)},r.catchCallback=function(t){r.wrapFailure(n,t).next(e,i)}}))}},{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.next(t,n)}))}},{key:"wrapUserFunction",value:function(t){try{var n=t();return n instanceof e?n:e.resolve(n)}catch(t){return e.reject(t)}}},{key:"wrapSuccess",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.resolve(n)}},{key:"wrapFailure",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.reject(n)}}],[{key:"resolve",value:function(t){return new e((function(e,n){e(t)}))}},{key:"reject",value:function(t){return new e((function(e,n){n(t)}))}},{key:"waitFor",value:function(t){return new e((function(e,n){var r=0,i=0,a=!1;t.forEach((function(t){++r,t.next((function(){++i,a&&i===r&&e()}),(function(e){return n(e)}))})),a=!0,i===r&&e()}))}},{key:"or",value:function(t){var n,r=e.resolve(!1),i=T(t);try{var a=function(){var t=n.value;r=r.next((function(n){return n?e.resolve(n):t()}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return r}},{key:"forEach",value:function(e,t){var n=this,r=[];return e.forEach((function(e,i){r.push(t.call(n,e,i))})),this.waitFor(r)}},{key:"mapArray",value:function(t,n){return new e((function(e,r){for(var i=t.length,a=new Array(i),o=0,s=function(){var s=u;n(t[s]).next((function(t){a[s]=t,++o===i&&e(a)}),(function(e){return r(e)}))},u=0;u<i;u++)s()}))}},{key:"doWhile",value:function(t,n){return new e((function(e,r){!function i(){!0===t()?n().next((function(){i()}),r):e()}()}))}}]),e}(),Cm=function(){function e(t,n){var r=this;h(this,e),this.action=t,this.transaction=n,this.aborted=!1,this.m=new Kv,this.transaction.oncomplete=function(){r.m.resolve()},this.transaction.onabort=function(){n.error?r.m.reject(new Pm(t,n.error)):r.m.resolve()},this.transaction.onerror=function(e){var n=Lm(e.target.error);r.m.reject(new Pm(t,n))}}return g(e,[{key:"g",get:function(){return this.m.promise}},{key:"abort",value:function(e){e&&this.m.reject(e),this.aborted||(Uv("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}},{key:"p",value:function(){var e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}},{key:"store",value:function(e){var t=this.transaction.objectStore(e);return new Rm(t)}}],[{key:"open",value:function(t,n,r,i){try{return new e(n,t.transaction(i,r))}catch(t){throw new Pm(n,t)}}}]),e}(),Nm=function(){function e(t,n,r){h(this,e),this.name=t,this.version=n,this.S=r,12.2===e.D(Lt())&&Fv("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return g(e,[{key:"N",value:function(){var e=Ze($e().mark((function e(t){var n=this;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.db,e.t0){e.next=6;break}return Uv("SimpleDb","Opening database:",this.name),e.next=5,new Promise((function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){var n=t.target.result;e(n)},i.onblocked=function(){r(new Pm(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;"VersionError"===n.name?r(new Gv(Wv.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):"InvalidStateError"===n.name?r(new Gv(Wv.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+n)):r(new Pm(t,n))},i.onupgradeneeded=function(e){Uv("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',e.oldVersion);var t=e.target.result;n.S.B(t,i.transaction,e.oldVersion,n.version).next((function(){Uv("SimpleDb","Database upgrade to version "+n.version+" complete")}))}}));case 5:this.db=e.sent;case 6:return this.L&&(this.db.onversionchange=function(e){return n.L(e)}),e.abrupt("return",this.db);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"k",value:function(e){this.L=e,this.db&&(this.db.onversionchange=function(t){return e(t)})}},{key:"runTransaction",value:function(){var e=Ze($e().mark((function e(t,n,r,i){var a,o,s,u,c=this;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a="readonly"===n,o=0,s=$e().mark((function e(){var n,s,u,l;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return++o,e.prev=1,e.next=4,c.N(t);case 4:return c.db=e.sent,n=Cm.open(c.db,t,a?"readonly":"readwrite",r),s=i(n).next((function(e){return n.p(),e})).catch((function(e){return n.abort(e),Tm.reject(e)})).toPromise(),s.catch((function(){})),e.next=9,n.g;case 9:return e.t0=s,e.abrupt("return",{v:e.t0});case 13:if(e.prev=13,e.t1=e.catch(1),u=e.t1,l="FirebaseError"!==u.name&&o<3,Uv("SimpleDb","Transaction failed with error:",u.message,"Retrying:",l),c.close(),l){e.next=18;break}return e.abrupt("return",{v:Promise.reject(u)});case 18:case"end":return e.stop()}}),e,null,[[1,13]])}));case 3:return e.delegateYield(s(),"t0",4);case 4:if(!(u=e.t0)){e.next=7;break}return e.abrupt("return",u.v);case 7:e.next=3;break;case 9:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"close",value:function(){this.db&&this.db.close(),this.db=void 0}}],[{key:"delete",value:function(e){return Uv("SimpleDb","Removing database:",e),jm(window.indexedDB.deleteDatabase(e)).toPromise()}},{key:"v",value:function(){if(!Vt())return!1;if(e.C())return!0;var t=Lt(),n=e.D(t),r=0<n&&n<10,i=e.F(t),a=0<i&&i<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||r||a)}},{key:"C",value:function(){var e;return"undefined"!=typeof process&&"YES"===(null===(e={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_FIREBASE_API_KEY:"AIzaSyBz9Ju2NNQn3cnzYTkDHSgd-DUI1HHy-50",REACT_APP_FIREBASE_APP_ID:"1:1004424511784:web:bef14f89e2242cf3e7d01d",REACT_APP_FIREBASE_AUTH_DOMAIN:"resep-masakan-1005a.firebaseapp.com",REACT_APP_FIREBASE_DATABASE_URL:"https://resep-masakan-1005a-default-rtdb.asia-southeast1.firebasedatabase.app",REACT_APP_FIREBASE_MEASUREMENT_ID:"G-VJCLGVPJF3",REACT_APP_FIREBASE_MESSAGING_SENDER_ID:"1004424511784",REACT_APP_FIREBASE_PROJECT_ID:"resep-masakan-1005a",REACT_APP_FIREBASE_STORAGE_BUCKET:"resep-masakan-1005a.appspot.com"})||void 0===e?void 0:e.M)}},{key:"O",value:function(e,t){return e.store(t)}},{key:"D",value:function(e){var t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)}},{key:"F",value:function(e){var t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}}]),e}(),Om=function(){function e(t){h(this,e),this.q=t,this.K=!1,this.$=null}return g(e,[{key:"isDone",get:function(){return this.K}},{key:"U",get:function(){return this.$}},{key:"cursor",set:function(e){this.q=e}},{key:"done",value:function(){this.K=!0}},{key:"W",value:function(e){this.$=e}},{key:"delete",value:function(){return jm(this.q.delete())}}]),e}(),Pm=function(e){b(n,e);var t=_(n);function n(e,r){var i;return h(this,n),(i=t.call(this,Wv.UNAVAILABLE,"IndexedDB transaction '".concat(e,"' failed: ").concat(r))).name="IndexedDbTransactionError",i}return g(n)}(Gv);function Am(e){return"IndexedDbTransactionError"===e.name}var Rm=function(){function e(t){h(this,e),this.store=t}return g(e,[{key:"put",value:function(e,t){var n;return void 0!==t?(Uv("SimpleDb","PUT",this.store.name,e,t),n=this.store.put(t,e)):(Uv("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),jm(n)}},{key:"add",value:function(e){return Uv("SimpleDb","ADD",this.store.name,e,e),jm(this.store.add(e))}},{key:"get",value:function(e){var t=this;return jm(this.store.get(e)).next((function(n){return void 0===n&&(n=null),Uv("SimpleDb","GET",t.store.name,e,n),n}))}},{key:"delete",value:function(e){return Uv("SimpleDb","DELETE",this.store.name,e),jm(this.store.delete(e))}},{key:"count",value:function(){return Uv("SimpleDb","COUNT",this.store.name),jm(this.store.count())}},{key:"G",value:function(e,t){var n=this.options(e,t);if(n.index||"function"!=typeof this.store.getAll){var r=this.cursor(n),i=[];return this.j(r,(function(e,t){i.push(t)})).next((function(){return i}))}var a=this.store.getAll(n.range);return new Tm((function(e,t){a.onerror=function(e){t(e.target.error)},a.onsuccess=function(t){e(t.target.result)}}))}},{key:"H",value:function(e,t){var n=this.store.getAll(e,null===t?void 0:t);return new Tm((function(e,t){n.onerror=function(e){t(e.target.error)},n.onsuccess=function(t){e(t.target.result)}}))}},{key:"J",value:function(e,t){Uv("SimpleDb","DELETE ALL",this.store.name);var n=this.options(e,t);n.Y=!1;var r=this.cursor(n);return this.j(r,(function(e,t,n){return n.delete()}))}},{key:"Z",value:function(e,t){var n;t?n=e:(n={},t=e);var r=this.cursor(n);return this.j(r,t)}},{key:"X",value:function(e){var t=this.cursor({});return new Tm((function(n,r){t.onerror=function(e){var t=Lm(e.target.error);r(t)},t.onsuccess=function(t){var r=t.target.result;r?e(r.primaryKey,r.value).next((function(e){e?r.continue():n()})):n()}}))}},{key:"j",value:function(e,t){var n=[];return new Tm((function(r,i){e.onerror=function(e){i(e.target.error)},e.onsuccess=function(e){var i=e.target.result;if(i){var a=new Om(i),o=t(i.primaryKey,i.value,a);if(o instanceof Tm){var s=o.catch((function(e){return a.done(),Tm.reject(e)}));n.push(s)}a.isDone?r():null===a.U?i.continue():i.continue(a.U)}else r()}})).next((function(){return Tm.waitFor(n)}))}},{key:"options",value:function(e,t){var n;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}}},{key:"cursor",value:function(e){var t="next";if(e.reverse&&(t="prev"),e.index){var n=this.store.index(e.index);return e.Y?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}]),e}();function jm(e){return new Tm((function(t,n){e.onsuccess=function(e){var n=e.target.result;t(n)},e.onerror=function(e){var t=Lm(e.target.error);n(t)}}))}var Dm=!1;function Lm(e){var t=Nm.D(Lt());if(t>=12.2&&t<13){var n="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(n)>=0){var r=new Gv("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '".concat(n,"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround."));return Dm||(Dm=!0,setTimeout((function(){throw r}),0)),r}}return e}var Mm=function(){function e(t,n){h(this,e),this.asyncQueue=t,this.ee=n,this.task=null}return g(e,[{key:"start",value:function(){this.te(15e3)}},{key:"stop",value:function(){this.task&&(this.task.cancel(),this.task=null)}},{key:"started",get:function(){return null!==this.task}},{key:"te",value:function(e){var t=this;Uv("IndexBackiller","Scheduled in ".concat(e,"ms")),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,Ze($e().mark((function e(){return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.task=null,e.prev=1,e.t0=Uv,e.t1="Documents written: ",e.next=6,t.ee.ne();case 6:e.t2=e.sent,e.t3=e.t1.concat.call(e.t1,e.t2),(0,e.t0)("IndexBackiller",e.t3),e.next=19;break;case 11:if(e.prev=11,e.t4=e.catch(1),!Am(e.t4)){e.next=17;break}Uv("IndexBackiller","Ignoring IndexedDB error during index backfill: ",e.t4),e.next=19;break;case 17:return e.next=19,Em(e.t4);case 19:return e.next=21,t.te(6e4);case 21:case"end":return e.stop()}}),e,null,[[1,11]])}))))}}]),e}(),Um=function(){function e(t,n){h(this,e),this.localStore=t,this.persistence=n}return g(e,[{key:"ne",value:function(){var e=Ze($e().mark((function e(){var t,n=this,r=arguments;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.length>0&&void 0!==r[0]?r[0]:50,e.abrupt("return",this.persistence.runTransaction("Backfill Indexes","readwrite-primary",(function(e){return n.re(e,t)})));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"re",value:function(e,t){var n=this,r=new Set,i=t,a=!0;return Tm.doWhile((function(){return!0===a&&i>0}),(function(){return n.localStore.indexManager.getNextCollectionGroupToUpdate(e).next((function(t){if(null!==t&&!r.has(t))return Uv("IndexBackiller","Processing collection: ".concat(t)),n.ie(e,t,i).next((function(e){i-=e,r.add(t)}));a=!1}))})).next((function(){return t-i}))}},{key:"ie",value:function(e,t,n){var r=this;return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next((function(i){return r.localStore.localDocuments.getNextDocuments(e,t,i,n).next((function(n){var a=n.changes;return r.localStore.indexManager.updateIndexEntries(e,a).next((function(){return r.se(i,n)})).next((function(n){return Uv("IndexBackiller","Updating offset: ".concat(n)),r.localStore.indexManager.updateCollectionGroup(e,t,n)})).next((function(){return a.size}))}))}))}},{key:"se",value:function(e,t){var n=e;return t.changes.forEach((function(e,t){var r=km(t);xm(r,n)>0&&(n=r)})),new wm(n.readTime,n.documentKey,Math.max(t.batchId,e.largestBatchId))}}]),e}(),Fm=function(){function e(t,n){var r=this;h(this,e),this.previousValue=t,n&&(n.sequenceNumberHandler=function(e){return r.oe(e)},this._e=function(e){return n.writeSequenceNumber(e)})}return g(e,[{key:"oe",value:function(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}},{key:"next",value:function(){var e=++this.previousValue;return this._e&&this._e(e),e}}]),e}();function zm(e){return null==e}function Vm(e){return 0===e&&1/e==-1/0}function Bm(e){return"number"==typeof e&&Number.isInteger(e)&&!Vm(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}function qm(e){for(var t="",n=0;n<e.length;n++)t.length>0&&(t=Wm(t)),t=Hm(e.get(n),t);return Wm(t)}function Hm(e,t){for(var n=t,r=e.length,i=0;i<r;i++){var a=e.charAt(i);switch(a){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=a}}return n}function Wm(e){return e+"\x01\x01"}function Gm(e){var t=e.length;if(qv(t>=2),2===t)return qv("\x01"===e.charAt(0)&&"\x01"===e.charAt(1)),lm.emptyPath();for(var n=t-2,r=[],i="",a=0;a<t;){var o=e.indexOf("\x01",a);switch((o<0||o>n)&&Bv(),e.charAt(o+1)){case"\x01":var s=e.substring(a,o),u=void 0;0===i.length?u=s:(u=i+=s,i=""),r.push(u);break;case"\x10":i+=e.substring(a,o),i+="\0";break;case"\x11":i+=e.substring(a,o+1);break;default:Bv()}a=o+2}return new lm(r)}Fm.ae=-1;var Km=["userId","batchId"];function Qm(e,t){return[e,qm(t)]}function Ym(e,t,n){return[e,qm(t),n]}var Xm={},$m=["prefixPath","collectionGroup","readTime","documentId"],Jm=["prefixPath","collectionGroup","documentId"],Zm=["collectionGroup","readTime","prefixPath","documentId"],eg=["canonicalId","targetId"],tg=["targetId","path"],ng=["path","targetId"],rg=["collectionId","parent"],ig=["indexId","uid"],ag=["uid","sequenceNumber"],og=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],sg=["indexId","uid","orderedDocumentKey"],ug=["userId","collectionPath","documentId"],cg=["userId","collectionPath","largestBatchId"],lg=["userId","collectionGroup","largestBatchId"],fg=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments"].concat(["clientMetadata"]).concat(["remoteDocumentGlobal"]).concat(["collectionParents"]).concat(["bundles","namedQueries"]),dg=[].concat(d(fg),["documentOverlays"]),hg=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],pg=hg,vg=[].concat(pg,["indexConfiguration","indexState","indexEntries"]),mg=function(e){b(n,e);var t=_(n);function n(e,r){var i;return h(this,n),(i=t.call(this)).ue=e,i.currentSequenceNumber=r,i}return g(n)}(Sm);function gg(e,t){var n=Hv(e);return Nm.O(n.ue,t)}function yg(e){var t=0;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function bg(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function kg(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}var wg=function(){function e(t,n){h(this,e),this.comparator=t,this.root=n||_g.EMPTY}return g(e,[{key:"insert",value:function(t,n){return new e(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,_g.BLACK,null,null))}},{key:"remove",value:function(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,_g.BLACK,null,null))}},{key:"get",value:function(e){for(var t=this.root;!t.isEmpty();){var n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}},{key:"indexOf",value:function(e){for(var t=0,n=this.root;!n.isEmpty();){var r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}},{key:"isEmpty",value:function(){return this.root.isEmpty()}},{key:"size",get:function(){return this.root.size}},{key:"minKey",value:function(){return this.root.minKey()}},{key:"maxKey",value:function(){return this.root.maxKey()}},{key:"inorderTraversal",value:function(e){return this.root.inorderTraversal(e)}},{key:"forEach",value:function(e){this.inorderTraversal((function(t,n){return e(t,n),!1}))}},{key:"toString",value:function(){var e=[];return this.inorderTraversal((function(t,n){return e.push("".concat(t,":").concat(n)),!1})),"{".concat(e.join(", "),"}")}},{key:"reverseTraversal",value:function(e){return this.root.reverseTraversal(e)}},{key:"getIterator",value:function(){return new xg(this.root,null,this.comparator,!1)}},{key:"getIteratorFrom",value:function(e){return new xg(this.root,e,this.comparator,!1)}},{key:"getReverseIterator",value:function(){return new xg(this.root,null,this.comparator,!0)}},{key:"getReverseIteratorFrom",value:function(e){return new xg(this.root,e,this.comparator,!0)}}]),e}(),xg=function(){function e(t,n,r,i){h(this,e),this.isReverse=i,this.nodeStack=[];for(var a=1;!t.isEmpty();)if(a=n?r(t.key,n):1,n&&i&&(a*=-1),a<0)t=this.isReverse?t.left:t.right;else{if(0===a){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return g(e,[{key:"getNext",value:function(){var e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}},{key:"hasNext",value:function(){return this.nodeStack.length>0}},{key:"peek",value:function(){if(0===this.nodeStack.length)return null;var e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}]),e}(),_g=function(){function e(t,n,r,i,a){h(this,e),this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:e.EMPTY,this.right=null!=a?a:e.EMPTY,this.size=this.left.size+1+this.right.size}return g(e,[{key:"copy",value:function(t,n,r,i,a){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=a?a:this.right)}},{key:"isEmpty",value:function(){return!1}},{key:"inorderTraversal",value:function(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}},{key:"reverseTraversal",value:function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}},{key:"min",value:function(){return this.left.isEmpty()?this:this.left.min()}},{key:"minKey",value:function(){return this.min().key}},{key:"maxKey",value:function(){return this.right.isEmpty()?this.key:this.right.maxKey()}},{key:"insert",value:function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp()}},{key:"removeMin",value:function(){if(this.left.isEmpty())return e.EMPTY;var t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),(t=t.copy(null,null,null,t.left.removeMin(),null)).fixUp()}},{key:"remove",value:function(t,n){var r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(t,i.key)){if(i.right.isEmpty())return e.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()}},{key:"isRed",value:function(){return this.color}},{key:"fixUp",value:function(){var e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}},{key:"moveRedLeft",value:function(){var e=this.colorFlip();return e.right.left.isRed()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight())).rotateLeft()).colorFlip()),e}},{key:"moveRedRight",value:function(){var e=this.colorFlip();return e.left.left.isRed()&&(e=(e=e.rotateRight()).colorFlip()),e}},{key:"rotateLeft",value:function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}},{key:"rotateRight",value:function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}},{key:"colorFlip",value:function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}},{key:"checkMaxDepth",value:function(){var e=this.check();return Math.pow(2,e)<=this.size+1}},{key:"check",value:function(){if(this.isRed()&&this.left.isRed())throw Bv();if(this.right.isRed())throw Bv();var e=this.left.check();if(e!==this.right.check())throw Bv();return e+(this.isRed()?0:1)}}]),e}();_g.EMPTY=null,_g.RED=!0,_g.BLACK=!1,_g.EMPTY=new(function(){function e(){h(this,e),this.size=0}return g(e,[{key:"key",get:function(){throw Bv()}},{key:"value",get:function(){throw Bv()}},{key:"color",get:function(){throw Bv()}},{key:"left",get:function(){throw Bv()}},{key:"right",get:function(){throw Bv()}},{key:"copy",value:function(e,t,n,r,i){return this}},{key:"insert",value:function(e,t,n){return new _g(e,t)}},{key:"remove",value:function(e,t){return this}},{key:"isEmpty",value:function(){return!0}},{key:"inorderTraversal",value:function(e){return!1}},{key:"reverseTraversal",value:function(e){return!1}},{key:"minKey",value:function(){return null}},{key:"maxKey",value:function(){return null}},{key:"isRed",value:function(){return!1}},{key:"checkMaxDepth",value:function(){return!0}},{key:"check",value:function(){return 0}}]),e}());var Sg=function(){function e(t){h(this,e),this.comparator=t,this.data=new wg(this.comparator)}return g(e,[{key:"has",value:function(e){return null!==this.data.get(e)}},{key:"first",value:function(){return this.data.minKey()}},{key:"last",value:function(){return this.data.maxKey()}},{key:"size",get:function(){return this.data.size}},{key:"indexOf",value:function(e){return this.data.indexOf(e)}},{key:"forEach",value:function(e){this.data.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"forEachInRange",value:function(e,t){for(var n=this.data.getIteratorFrom(e[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}},{key:"forEachWhile",value:function(e,t){var n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}},{key:"firstAfterOrEqual",value:function(e){var t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}},{key:"getIterator",value:function(){return new Eg(this.data.getIterator())}},{key:"getIteratorFrom",value:function(e){return new Eg(this.data.getIteratorFrom(e))}},{key:"add",value:function(e){return this.copy(this.data.remove(e).insert(e,!0))}},{key:"delete",value:function(e){return this.has(e)?this.copy(this.data.remove(e)):this}},{key:"isEmpty",value:function(){return this.data.isEmpty()}},{key:"unionWith",value:function(e){var t=this;return t.size<e.size&&(t=e,e=this),e.forEach((function(e){t=t.add(e)})),t}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.data.getIterator(),r=t.data.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(0!==this.comparator(i,a))return!1}return!0}},{key:"toArray",value:function(){var e=[];return this.forEach((function(t){e.push(t)})),e}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){return e.push(t)})),"SortedSet("+e.toString()+")"}},{key:"copy",value:function(t){var n=new e(this.comparator);return n.data=t,n}}]),e}(),Eg=function(){function e(t){h(this,e),this.iter=t}return g(e,[{key:"getNext",value:function(){return this.iter.getNext().key}},{key:"hasNext",value:function(){return this.iter.hasNext()}}]),e}();function Ig(e){return e.hasNext()?e.getNext():void 0}var Tg=function(){function e(t){h(this,e),this.fields=t,t.sort(dm.comparator)}return g(e,[{key:"unionWith",value:function(t){var n,r=new Sg(dm.comparator),i=T(this.fields);try{for(i.s();!(n=i.n()).done;){var a=n.value;r=r.add(a)}}catch(c){i.e(c)}finally{i.f()}var o,s=T(t);try{for(s.s();!(o=s.n()).done;){var u=o.value;r=r.add(u)}}catch(c){s.e(c)}finally{s.f()}return new e(r.toArray())}},{key:"covers",value:function(e){var t,n=T(this.fields);try{for(n.s();!(t=n.n()).done;){if(t.value.isPrefixOf(e))return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"isEqual",value:function(e){return am(this.fields,e.fields,(function(e,t){return e.isEqual(t)}))}}],[{key:"empty",value:function(){return new e([])}}]),e}(),Cg=function(e){b(n,e);var t=_(n);function n(){var e;return h(this,n),(e=t.apply(this,arguments)).name="Base64DecodeError",e}return g(n)}(E(Error));var Ng=function(e){function t(e){h(this,t),this.binaryString=e}return g(t,[{key:Symbol.iterator,value:function(){var e=this,t=0;return{next:function(){return t<e.binaryString.length?{value:e.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}}},{key:"toBase64",value:function(){return function(e){return btoa(e)}(this.binaryString)}},{key:"toUint8Array",value:function(){return function(e){for(var t=new Uint8Array(e.length),n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}},{key:"approximateByteSize",value:function(){return 2*this.binaryString.length}},{key:"compareTo",value:function(e){return im(this.binaryString,e.binaryString)}},{key:"isEqual",value:function(e){return this.binaryString===e.binaryString}}],[{key:"fromBase64String",value:function(e){var n=function(e){try{return atob(e)}catch(e){throw"undefined"!=typeof DOMException&&e instanceof DOMException?new Cg("Invalid base64 string: "+e):e}}(e);return new t(n)}},{key:"fromUint8Array",value:function(e){var n=function(e){for(var t="",n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new t(n)}}]),t}();Ng.EMPTY_BYTE_STRING=new Ng("");var Og=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Pg(e){if(qv(!!e),"string"==typeof e){var t=0,n=Og.exec(e);if(qv(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}var i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:Ag(e.seconds),nanos:Ag(e.nanos)}}function Ag(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function Rg(e){return"string"==typeof e?Ng.fromBase64String(e):Ng.fromUint8Array(e)}function jg(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Dg(e){var t=e.mapValue.fields.__previous_value__;return jg(t)?Dg(t):t}function Lg(e){var t=Pg(e.mapValue.fields.__local_write_time__.timestampValue);return new sm(t.seconds,t.nanos)}var Mg=g((function e(t,n,r,i,a,o,s,u,c){h(this,e),this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=o,this.autoDetectLongPolling=s,this.longPollingOptions=u,this.useFetchStreams=c})),Ug=function(){function e(t,n){h(this,e),this.projectId=t,this.database=n||"(default)"}return g(e,[{key:"isDefaultDatabase",get:function(){return"(default)"===this.database}},{key:"isEqual",value:function(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database}}],[{key:"empty",value:function(){return new e("","")}}]),e}(),Fg={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},zg={nullValue:"NULL_VALUE"};function Vg(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?jg(e)?4:ty(e)?9007199254740991:10:Bv()}function Bg(e,t){if(e===t)return!0;var n=Vg(e);if(n!==Vg(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Lg(e).isEqual(Lg(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;var n=Pg(e.timestampValue),r=Pg(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return Rg(e.bytesValue).isEqual(Rg(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return Ag(e.geoPointValue.latitude)===Ag(t.geoPointValue.latitude)&&Ag(e.geoPointValue.longitude)===Ag(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return Ag(e.integerValue)===Ag(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){var n=Ag(e.doubleValue),r=Ag(t.doubleValue);return n===r?Vm(n)===Vm(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return am(e.arrayValue.values||[],t.arrayValue.values||[],Bg);case 10:return function(e,t){var n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(yg(n)!==yg(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!Bg(n[i],r[i])))return!1;return!0}(e,t);default:return Bv()}}function qg(e,t){return void 0!==(e.values||[]).find((function(e){return Bg(e,t)}))}function Hg(e,t){if(e===t)return 0;var n=Vg(e),r=Vg(t);if(n!==r)return im(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return im(e.booleanValue,t.booleanValue);case 2:return function(e,t){var n=Ag(e.integerValue||e.doubleValue),r=Ag(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return Wg(e.timestampValue,t.timestampValue);case 4:return Wg(Lg(e),Lg(t));case 5:return im(e.stringValue,t.stringValue);case 6:return function(e,t){var n=Rg(e),r=Rg(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){for(var n=e.split("/"),r=t.split("/"),i=0;i<n.length&&i<r.length;i++){var a=im(n[i],r[i]);if(0!==a)return a}return im(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){var n=im(Ag(e.latitude),Ag(t.latitude));return 0!==n?n:im(Ag(e.longitude),Ag(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){for(var n=e.values||[],r=t.values||[],i=0;i<n.length&&i<r.length;++i){var a=Hg(n[i],r[i]);if(a)return a}return im(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){if(e===Fg.mapValue&&t===Fg.mapValue)return 0;if(e===Fg.mapValue)return 1;if(t===Fg.mapValue)return-1;var n=e.fields||{},r=Object.keys(n),i=t.fields||{},a=Object.keys(i);r.sort(),a.sort();for(var o=0;o<r.length&&o<a.length;++o){var s=im(r[o],a[o]);if(0!==s)return s;var u=Hg(n[r[o]],i[a[o]]);if(0!==u)return u}return im(r.length,a.length)}(e.mapValue,t.mapValue);default:throw Bv()}}function Wg(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return im(e,t);var n=Pg(e),r=Pg(t),i=im(n.seconds,r.seconds);return 0!==i?i:im(n.nanos,r.nanos)}function Gg(e){return Kg(e)}function Kg(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){var t=Pg(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(e){return Rg(e).toBase64()}(e.bytesValue):"referenceValue"in e?function(e){return hm.fromName(e).toString()}(e.referenceValue):"geoPointValue"in e?function(e){return"geo(".concat(e.latitude,",").concat(e.longitude,")")}(e.geoPointValue):"arrayValue"in e?function(e){var t,n="[",r=!0,i=T(e.values||[]);try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+=Kg(a)}}catch(o){i.e(o)}finally{i.f()}return n+"]"}(e.arrayValue):"mapValue"in e?function(e){var t,n="{",r=!0,i=T(Object.keys(e.fields||{}).sort());try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+="".concat(a,":").concat(Kg(e.fields[a]))}}catch(o){i.e(o)}finally{i.f()}return n+"}"}(e.mapValue):Bv()}function Qg(e,t){return{referenceValue:"projects/".concat(e.projectId,"/databases/").concat(e.database,"/documents/").concat(t.path.canonicalString())}}function Yg(e){return!!e&&"integerValue"in e}function Xg(e){return!!e&&"arrayValue"in e}function $g(e){return!!e&&"nullValue"in e}function Jg(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Zg(e){return!!e&&"mapValue"in e}function ey(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){var t={mapValue:{fields:{}}};return bg(e.mapValue.fields,(function(e,n){return t.mapValue.fields[e]=ey(n)})),t}if(e.arrayValue){for(var n={arrayValue:{values:[]}},r=0;r<(e.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=ey(e.arrayValue.values[r]);return n}return Object.assign({},e)}function ty(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}function ny(e){return"nullValue"in e?zg:"booleanValue"in e?{booleanValue:!1}:"integerValue"in e||"doubleValue"in e?{doubleValue:NaN}:"timestampValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in e?{stringValue:""}:"bytesValue"in e?{bytesValue:""}:"referenceValue"in e?Qg(Ug.empty(),hm.empty()):"geoPointValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in e?{arrayValue:{}}:"mapValue"in e?{mapValue:{}}:Bv()}function ry(e){return"nullValue"in e?{booleanValue:!1}:"booleanValue"in e?{doubleValue:NaN}:"integerValue"in e||"doubleValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in e?{stringValue:""}:"stringValue"in e?{bytesValue:""}:"bytesValue"in e?Qg(Ug.empty(),hm.empty()):"referenceValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in e?{arrayValue:{}}:"arrayValue"in e?{mapValue:{}}:"mapValue"in e?Fg:Bv()}function iy(e,t){var n=Hg(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?-1:!e.inclusive&&t.inclusive?1:0}function ay(e,t){var n=Hg(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?1:!e.inclusive&&t.inclusive?-1:0}var oy=function(){function e(t){h(this,e),this.value=t}return g(e,[{key:"field",value:function(e){if(e.isEmpty())return this.value;for(var t=this.value,n=0;n<e.length-1;++n)if(!Zg(t=(t.mapValue.fields||{})[e.get(n)]))return null;return(t=(t.mapValue.fields||{})[e.lastSegment()])||null}},{key:"set",value:function(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=ey(t)}},{key:"setAll",value:function(e){var t=this,n=dm.emptyPath(),r={},i=[];e.forEach((function(e,a){if(!n.isImmediateParentOf(a)){var o=t.getFieldsMap(n);t.applyChanges(o,r,i),r={},i=[],n=a.popLast()}e?r[a.lastSegment()]=ey(e):i.push(a.lastSegment())}));var a=this.getFieldsMap(n);this.applyChanges(a,r,i)}},{key:"delete",value:function(e){var t=this.field(e.popLast());Zg(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}},{key:"isEqual",value:function(e){return Bg(this.value,e.value)}},{key:"getFieldsMap",value:function(e){var t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(var n=0;n<e.length;++n){var r=t.mapValue.fields[e.get(n)];Zg(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}},{key:"applyChanges",value:function(e,t,n){bg(t,(function(t,n){return e[t]=n}));var r,i=T(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;delete e[a]}}catch(o){i.e(o)}finally{i.f()}}},{key:"clone",value:function(){return new e(ey(this.value))}}],[{key:"empty",value:function(){return new e({mapValue:{}})}}]),e}();function sy(e){var t=[];return bg(e.fields,(function(e,n){var r=new dm([e]);if(Zg(n)){var i=sy(n.mapValue).fields;if(0===i.length)t.push(r);else{var a,o=T(i);try{for(o.s();!(a=o.n()).done;){var s=a.value;t.push(r.child(s))}}catch(u){o.e(u)}finally{o.f()}}}else t.push(r)})),new Tg(t)}var uy=function(){function e(t,n,r,i,a,o,s){h(this,e),this.key=t,this.documentType=n,this.version=r,this.readTime=i,this.createTime=a,this.data=o,this.documentState=s}return g(e,[{key:"convertToFoundDocument",value:function(e,t){return!this.createTime.isEqual(um.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}},{key:"convertToNoDocument",value:function(e){return this.version=e,this.documentType=2,this.data=oy.empty(),this.documentState=0,this}},{key:"convertToUnknownDocument",value:function(e){return this.version=e,this.documentType=3,this.data=oy.empty(),this.documentState=2,this}},{key:"setHasCommittedMutations",value:function(){return this.documentState=2,this}},{key:"setHasLocalMutations",value:function(){return this.documentState=1,this.version=um.min(),this}},{key:"setReadTime",value:function(e){return this.readTime=e,this}},{key:"hasLocalMutations",get:function(){return 1===this.documentState}},{key:"hasCommittedMutations",get:function(){return 2===this.documentState}},{key:"hasPendingWrites",get:function(){return this.hasLocalMutations||this.hasCommittedMutations}},{key:"isValidDocument",value:function(){return 0!==this.documentType}},{key:"isFoundDocument",value:function(){return 1===this.documentType}},{key:"isNoDocument",value:function(){return 2===this.documentType}},{key:"isUnknownDocument",value:function(){return 3===this.documentType}},{key:"isEqual",value:function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}},{key:"mutableCopy",value:function(){return new e(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}},{key:"toString",value:function(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {createTime: ").concat(this.createTime,"}), {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}],[{key:"newInvalidDocument",value:function(t){return new e(t,0,um.min(),um.min(),um.min(),oy.empty(),0)}},{key:"newFoundDocument",value:function(t,n,r,i){return new e(t,1,n,um.min(),r,i,0)}},{key:"newNoDocument",value:function(t,n){return new e(t,2,n,um.min(),um.min(),oy.empty(),0)}},{key:"newUnknownDocument",value:function(t,n){return new e(t,3,n,um.min(),um.min(),oy.empty(),2)}}]),e}(),cy=g((function e(t,n){h(this,e),this.position=t,this.inclusive=n}));function ly(e,t,n){for(var r=0,i=0;i<e.position.length;i++){var a=t[i],o=e.position[i];if(r=a.field.isKeyField()?hm.comparator(hm.fromName(o.referenceValue),n.key):Hg(o,n.data.field(a.field)),"desc"===a.dir&&(r*=-1),0!==r)break}return r}function fy(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(var n=0;n<e.position.length;n++)if(!Bg(e.position[n],t.position[n]))return!1;return!0}var dy=g((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";h(this,e),this.field=t,this.dir=n}));function hy(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}var py=g((function e(){h(this,e)})),vy=function(e){b(n,e);var t=_(n);function n(e,r,i){var a;return h(this,n),(a=t.call(this)).field=e,a.op=r,a.value=i,a}return g(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(Hg(t,this.value)):null!==t&&Vg(this.value)===Vg(t)&&this.matchesComparison(Hg(t,this.value))}},{key:"matchesComparison",value:function(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Bv()}}},{key:"isInequality",value:function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}},{key:"getFlattenedFilters",value:function(){return[this]}},{key:"getFilters",value:function(){return[this]}},{key:"getFirstInequalityField",value:function(){return this.isInequality()?this.field:null}}],[{key:"create",value:function(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,r):new Ey(e,t,r):"array-contains"===t?new Ny(e,r):"in"===t?new Oy(e,r):"not-in"===t?new Py(e,r):"array-contains-any"===t?new Ay(e,r):new n(e,t,r)}},{key:"createKeyFieldInFilter",value:function(e,t,n){return"in"===t?new Iy(e,n):new Ty(e,n)}}]),n}(py),my=function(e){b(n,e);var t=_(n);function n(e,r){var i;return h(this,n),(i=t.call(this)).filters=e,i.op=r,i.ce=null,i}return g(n,[{key:"matches",value:function(e){return gy(this)?void 0===this.filters.find((function(t){return!t.matches(e)})):void 0!==this.filters.find((function(t){return t.matches(e)}))}},{key:"getFlattenedFilters",value:function(){return null!==this.ce||(this.ce=this.filters.reduce((function(e,t){return e.concat(t.getFlattenedFilters())}),[])),this.ce}},{key:"getFilters",value:function(){return Object.assign([],this.filters)}},{key:"getFirstInequalityField",value:function(){var e=this.le((function(e){return e.isInequality()}));return null!==e?e.field:null}},{key:"le",value:function(e){var t,n=T(this.getFlattenedFilters());try{for(n.s();!(t=n.n()).done;){var r=t.value;if(e(r))return r}}catch(i){n.e(i)}finally{n.f()}return null}}],[{key:"create",value:function(e,t){return new n(e,t)}}]),n}(py);function gy(e){return"and"===e.op}function yy(e){return"or"===e.op}function by(e){return ky(e)&&gy(e)}function ky(e){var t,n=T(e.filters);try{for(n.s();!(t=n.n()).done;){if(t.value instanceof my)return!1}}catch(r){n.e(r)}finally{n.f()}return!0}function wy(e){if(e instanceof vy)return e.field.canonicalString()+e.op.toString()+Gg(e.value);if(by(e))return e.filters.map((function(e){return wy(e)})).join(",");var t=e.filters.map((function(e){return wy(e)})).join(",");return"".concat(e.op,"(").concat(t,")")}function xy(e,t){return e instanceof vy?function(e,t){return t instanceof vy&&e.op===t.op&&e.field.isEqual(t.field)&&Bg(e.value,t.value)}(e,t):e instanceof my?function(e,t){return t instanceof my&&e.op===t.op&&e.filters.length===t.filters.length&&e.filters.reduce((function(e,n,r){return e&&xy(n,t.filters[r])}),!0)}(e,t):void Bv()}function _y(e,t){var n=e.filters.concat(t);return my.create(n,e.op)}function Sy(e){return e instanceof vy?function(e){return"".concat(e.field.canonicalString()," ").concat(e.op," ").concat(Gg(e.value))}(e):e instanceof my?function(e){return e.op.toString()+" {"+e.getFilters().map(Sy).join(" ,")+"}"}(e):"Filter"}var Ey=function(e){b(n,e);var t=_(n);function n(e,r,i){var a;return h(this,n),(a=t.call(this,e,r,i)).key=hm.fromName(i.referenceValue),a}return g(n,[{key:"matches",value:function(e){var t=hm.comparator(e.key,this.key);return this.matchesComparison(t)}}]),n}(vy),Iy=function(e){b(n,e);var t=_(n);function n(e,r){var i;return h(this,n),(i=t.call(this,e,"in",r)).keys=Cy("in",r),i}return g(n,[{key:"matches",value:function(e){return this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(vy),Ty=function(e){b(n,e);var t=_(n);function n(e,r){var i;return h(this,n),(i=t.call(this,e,"not-in",r)).keys=Cy("not-in",r),i}return g(n,[{key:"matches",value:function(e){return!this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(vy);function Cy(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(e){return hm.fromName(e.referenceValue)}))}var Ny=function(e){b(n,e);var t=_(n);function n(e,r){return h(this,n),t.call(this,e,"array-contains",r)}return g(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return Xg(t)&&qg(t.arrayValue,this.value)}}]),n}(vy),Oy=function(e){b(n,e);var t=_(n);function n(e,r){return h(this,n),t.call(this,e,"in",r)}return g(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return null!==t&&qg(this.value.arrayValue,t)}}]),n}(vy),Py=function(e){b(n,e);var t=_(n);function n(e,r){return h(this,n),t.call(this,e,"not-in",r)}return g(n,[{key:"matches",value:function(e){if(qg(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var t=e.data.field(this.field);return null!==t&&!qg(this.value.arrayValue,t)}}]),n}(vy),Ay=function(e){b(n,e);var t=_(n);function n(e,r){return h(this,n),t.call(this,e,"array-contains-any",r)}return g(n,[{key:"matches",value:function(e){var t=this,n=e.data.field(this.field);return!(!Xg(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(e){return qg(t.value.arrayValue,e)}))}}]),n}(vy),Ry=g((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;h(this,e),this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=o,this.endAt=s,this.he=null}));function jy(e){return new Ry(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,arguments.length>6&&void 0!==arguments[6]?arguments[6]:null)}function Dy(e){var t=Hv(e);if(null===t.he){var n=t.path.canonicalString();null!==t.collectionGroup&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((function(e){return wy(e)})).join(","),n+="|ob:",n+=t.orderBy.map((function(e){return function(e){return e.field.canonicalString()+e.dir}(e)})).join(","),zm(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map((function(e){return Gg(e)})).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map((function(e){return Gg(e)})).join(",")),t.he=n}return t.he}function Ly(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(var n=0;n<e.orderBy.length;n++)if(!hy(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(var r=0;r<e.filters.length;r++)if(!xy(e.filters[r],t.filters[r]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!fy(e.startAt,t.startAt)&&fy(e.endAt,t.endAt)}function My(e){return hm.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}function Uy(e,t){return e.filters.filter((function(e){return e instanceof vy&&e.field.isEqual(t)}))}function Fy(e,t,n){var r,i=zg,a=!0,o=T(Uy(e,t));try{for(o.s();!(r=o.n()).done;){var s=r.value,u=zg,c=!0;switch(s.op){case"<":case"<=":u=ny(s.value);break;case"==":case"in":case">=":u=s.value;break;case">":u=s.value,c=!1;break;case"!=":case"not-in":u=zg}iy({value:i,inclusive:a},{value:u,inclusive:c})<0&&(i=u,a=c)}}catch(d){o.e(d)}finally{o.f()}if(null!==n)for(var l=0;l<e.orderBy.length;++l)if(e.orderBy[l].field.isEqual(t)){var f=n.position[l];iy({value:i,inclusive:a},{value:f,inclusive:n.inclusive})<0&&(i=f,a=n.inclusive);break}return{value:i,inclusive:a}}function zy(e,t,n){var r,i=Fg,a=!0,o=T(Uy(e,t));try{for(o.s();!(r=o.n()).done;){var s=r.value,u=Fg,c=!0;switch(s.op){case">=":case">":u=ry(s.value),c=!1;break;case"==":case"in":case"<=":u=s.value;break;case"<":u=s.value,c=!1;break;case"!=":case"not-in":u=Fg}ay({value:i,inclusive:a},{value:u,inclusive:c})>0&&(i=u,a=c)}}catch(d){o.e(d)}finally{o.f()}if(null!==n)for(var l=0;l<e.orderBy.length;++l)if(e.orderBy[l].field.isEqual(t)){var f=n.position[l];ay({value:i,inclusive:a},{value:f,inclusive:n.inclusive})>0&&(i=f,a=n.inclusive);break}return{value:i,inclusive:a}}var Vy=g((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,u=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;h(this,e),this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=o,this.startAt=s,this.endAt=u,this.Pe=null,this.Ie=null,this.Te=null,this.startAt,this.endAt}));function By(e,t,n,r,i,a,o,s){return new Vy(e,t,n,r,i,a,o,s)}function qy(e){return new Vy(e)}function Hy(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function Wy(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function Gy(e){var t,n=T(e.filters);try{for(n.s();!(t=n.n()).done;){var r=t.value.getFirstInequalityField();if(null!==r)return r}}catch(i){n.e(i)}finally{n.f()}return null}function Ky(e){return null!==e.collectionGroup}function Qy(e){var t=Hv(e);if(null===t.Pe){t.Pe=[];var n=Gy(t),r=Wy(t);if(null!==n&&null===r)n.isKeyField()||t.Pe.push(new dy(n)),t.Pe.push(new dy(dm.keyField(),"asc"));else{var i,a=!1,o=T(t.explicitOrderBy);try{for(o.s();!(i=o.n()).done;){var s=i.value;t.Pe.push(s),s.field.isKeyField()&&(a=!0)}}catch(c){o.e(c)}finally{o.f()}if(!a){var u=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.Pe.push(new dy(dm.keyField(),u))}}}return t.Pe}function Yy(e){var t=Hv(e);return t.Ie||(t.Ie=Xy(t,Qy(e))),t.Ie}function Xy(e,t){if("F"===e.limitType)return jy(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);t=t.map((function(e){var t="desc"===e.dir?"asc":"desc";return new dy(e.field,t)}));var n=e.endAt?new cy(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new cy(e.startAt.position,e.startAt.inclusive):null;return jy(e.path,e.collectionGroup,t,e.filters,e.limit,n,r)}function $y(e,t){t.getFirstInequalityField(),Gy(e);var n=e.filters.concat([t]);return new Vy(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function Jy(e,t,n){return new Vy(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Zy(e,t){return Ly(Yy(e),Yy(t))&&e.limitType===t.limitType}function eb(e){return"".concat(Dy(Yy(e)),"|lt:").concat(e.limitType)}function tb(e){return"Query(target=".concat(function(e){var t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map((function(e){return Sy(e)})).join(", "),"]")),zm(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map((function(e){return function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e)})).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((function(e){return Gg(e)})).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((function(e){return Gg(e)})).join(",")),"Target(".concat(t,")")}(Yy(e)),"; limitType=").concat(e.limitType,")")}function nb(e,t){return t.isFoundDocument()&&function(e,t){var n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):hm.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){var n,r=T(Qy(e));try{for(r.s();!(n=r.n()).done;){var i=n.value;if(!i.field.isKeyField()&&null===t.data.field(i.field))return!1}}catch(a){r.e(a)}finally{r.f()}return!0}(e,t)&&function(e,t){var n,r=T(e.filters);try{for(r.s();!(n=r.n()).done;){if(!n.value.matches(t))return!1}}catch(i){r.e(i)}finally{r.f()}return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){var r=ly(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,Qy(e),t))&&!(e.endAt&&!function(e,t,n){var r=ly(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,Qy(e),t))}(e,t)}function rb(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function ib(e){return function(t,n){var r,i=!1,a=T(Qy(e));try{for(a.s();!(r=a.n()).done;){var o=r.value,s=ab(o,t,n);if(0!==s)return s;i=i||o.field.isKeyField()}}catch(u){a.e(u)}finally{a.f()}return 0}}function ab(e,t,n){var r=e.field.isKeyField()?hm.comparator(t.key,n.key):function(e,t,n){var r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?Hg(r,i):Bv()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return Bv()}}var ob=function(){function e(t,n){h(this,e),this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}return g(e,[{key:"get",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n){var r,i=T(n);try{for(i.s();!(r=i.n()).done;){var a=l(r.value,2),o=a[0],s=a[1];if(this.equalsFn(o,e))return s}}catch(u){i.e(u)}finally{i.f()}}}},{key:"has",value:function(e){return void 0!==this.get(e)}},{key:"set",value:function(e,t){var n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}},{key:"delete",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}},{key:"forEach",value:function(e){bg(this.inner,(function(t,n){var r,i=T(n);try{for(i.s();!(r=i.n()).done;){var a=l(r.value,2),o=a[0],s=a[1];e(o,s)}}catch(u){i.e(u)}finally{i.f()}}))}},{key:"isEmpty",value:function(){return kg(this.inner)}},{key:"size",value:function(){return this.innerSize}}]),e}(),sb=new wg(hm.comparator);function ub(){return sb}var cb=new wg(hm.comparator);function lb(){for(var e=cb,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.insert(o.key,o)}return e}function fb(e){var t=cb;return e.forEach((function(e,n){return t=t.insert(e,n.overlayedDocument)})),t}function db(){return pb()}function hb(){return pb()}function pb(){return new ob((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)}))}var vb=new wg(hm.comparator),mb=new Sg(hm.comparator);function gb(){for(var e=mb,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.add(o)}return e}var yb=new Sg(im);function bb(){return yb}function kb(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Vm(t)?"-0":t}}function wb(e){return{integerValue:""+e}}function xb(e,t){return Bm(t)?wb(t):kb(e,t)}var _b=g((function e(){h(this,e),this._=void 0}));function Sb(e,t,n){return e instanceof Tb?function(e,t){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&jg(t)&&(t=Dg(t)),t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof Cb?Nb(e,t):e instanceof Ob?Pb(e,t):function(e,t){var n=Ib(e,t),r=Rb(n)+Rb(e.Ee);return Yg(n)&&Yg(e.Ee)?wb(r):kb(e.serializer,r)}(e,t)}function Eb(e,t,n){return e instanceof Cb?Nb(e,t):e instanceof Ob?Pb(e,t):n}function Ib(e,t){return e instanceof Ab?function(e){return Yg(e)||function(e){return!!e&&"doubleValue"in e}(e)}(t)?t:{integerValue:0}:null}var Tb=function(e){b(n,e);var t=_(n);function n(){return h(this,n),t.apply(this,arguments)}return g(n)}(_b),Cb=function(e){b(n,e);var t=_(n);function n(e){var r;return h(this,n),(r=t.call(this)).elements=e,r}return g(n)}(_b);function Nb(e,t){var n,r=jb(t),i=T(e.elements);try{var a=function(){var e=n.value;r.some((function(t){return Bg(t,e)}))||r.push(e)};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var Ob=function(e){b(n,e);var t=_(n);function n(e){var r;return h(this,n),(r=t.call(this)).elements=e,r}return g(n)}(_b);function Pb(e,t){var n,r=jb(t),i=T(e.elements);try{var a=function(){var e=n.value;r=r.filter((function(t){return!Bg(t,e)}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var Ab=function(e){b(n,e);var t=_(n);function n(e,r){var i;return h(this,n),(i=t.call(this)).serializer=e,i.Ee=r,i}return g(n)}(_b);function Rb(e){return Ag(e.integerValue||e.doubleValue)}function jb(e){return Xg(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}var Db=g((function e(t,n){h(this,e),this.field=t,this.transform=n}));var Lb=g((function e(t,n){h(this,e),this.version=t,this.transformResults=n})),Mb=function(){function e(t,n){h(this,e),this.updateTime=t,this.exists=n}return g(e,[{key:"isNone",get:function(){return void 0===this.updateTime&&void 0===this.exists}},{key:"isEqual",value:function(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}],[{key:"none",value:function(){return new e}},{key:"exists",value:function(t){return new e(void 0,t)}},{key:"updateTime",value:function(t){return new e(t)}}]),e}();function Ub(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}var Fb=g((function e(){h(this,e)}));function zb(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new Jb(e.key,Mb.none()):new Wb(e.key,e.data,Mb.none());var n,r=e.data,i=oy.empty(),a=new Sg(dm.comparator),o=T(t.fields);try{for(o.s();!(n=o.n()).done;){var s=n.value;if(!a.has(s)){var u=r.field(s);null===u&&s.length>1&&(s=s.popLast(),u=r.field(s)),null===u?i.delete(s):i.set(s,u),a=a.add(s)}}}catch(c){o.e(c)}finally{o.f()}return new Gb(e.key,i,new Tg(a.toArray()),Mb.none())}function Vb(e,t,n){e instanceof Wb?function(e,t,n){var r=e.value.clone(),i=Qb(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof Gb?function(e,t,n){if(Ub(e.precondition,t)){var r=Qb(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(Kb(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}else t.convertToUnknownDocument(n.version)}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function Bb(e,t,n,r){return e instanceof Wb?function(e,t,n,r){if(!Ub(e.precondition,t))return n;var i=e.value.clone(),a=Yb(e.fieldTransforms,r,t);return i.setAll(a),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof Gb?function(e,t,n,r){if(!Ub(e.precondition,t))return n;var i=Yb(e.fieldTransforms,r,t),a=t.data;return a.setAll(Kb(e)),a.setAll(i),t.convertToFoundDocument(t.version,a).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map((function(e){return e.field})))}(e,t,n,r):function(e,t,n){return Ub(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function qb(e,t){var n,r=null,i=T(e.fieldTransforms);try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t.data.field(a.field),s=Ib(a.transform,o||null);null!=s&&(null===r&&(r=oy.empty()),r.set(a.field,s))}}catch(u){i.e(u)}finally{i.f()}return r||null}function Hb(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&am(e,t,(function(e,t){return function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof Cb&&t instanceof Cb||e instanceof Ob&&t instanceof Ob?am(e.elements,t.elements,Bg):e instanceof Ab&&t instanceof Ab?Bg(e.Ee,t.Ee):e instanceof Tb&&t instanceof Tb}(e.transform,t.transform)}(e,t)}))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}var Wb=function(e){b(n,e);var t=_(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];return h(this,n),(a=t.call(this)).key=e,a.value=r,a.precondition=i,a.fieldTransforms=o,a.type=0,a}return g(n,[{key:"getFieldMask",value:function(){return null}}]),n}(Fb),Gb=function(e){b(n,e);var t=_(n);function n(e,r,i,a){var o,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];return h(this,n),(o=t.call(this)).key=e,o.data=r,o.fieldMask=i,o.precondition=a,o.fieldTransforms=s,o.type=1,o}return g(n,[{key:"getFieldMask",value:function(){return this.fieldMask}}]),n}(Fb);function Kb(e){var t=new Map;return e.fieldMask.fields.forEach((function(n){if(!n.isEmpty()){var r=e.data.field(n);t.set(n,r)}})),t}function Qb(e,t,n){var r=new Map;qv(e.length===n.length);for(var i=0;i<n.length;i++){var a=e[i],o=a.transform,s=t.data.field(a.field);r.set(a.field,Eb(o,s,n[i]))}return r}function Yb(e,t,n){var r,i=new Map,a=T(e);try{for(a.s();!(r=a.n()).done;){var o=r.value,s=o.transform,u=n.data.field(o.field);i.set(o.field,Sb(s,u,t))}}catch(c){a.e(c)}finally{a.f()}return i}var Xb,$b,Jb=function(e){b(n,e);var t=_(n);function n(e,r){var i;return h(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=2,i.fieldTransforms=[],i}return g(n,[{key:"getFieldMask",value:function(){return null}}]),n}(Fb),Zb=function(e){b(n,e);var t=_(n);function n(e,r){var i;return h(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=3,i.fieldTransforms=[],i}return g(n,[{key:"getFieldMask",value:function(){return null}}]),n}(Fb),ek=function(){function e(t,n,r,i){h(this,e),this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}return g(e,[{key:"applyToRemoteDocument",value:function(e,t){for(var n=t.mutationResults,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(e.key)&&Vb(i,e,n[r])}}},{key:"applyToLocalView",value:function(e,t){var n,r=T(this.baseMutations);try{for(r.s();!(n=r.n()).done;){var i=n.value;i.key.isEqual(e.key)&&(t=Bb(i,e,t,this.localWriteTime))}}catch(u){r.e(u)}finally{r.f()}var a,o=T(this.mutations);try{for(o.s();!(a=o.n()).done;){var s=a.value;s.key.isEqual(e.key)&&(t=Bb(s,e,t,this.localWriteTime))}}catch(u){o.e(u)}finally{o.f()}return t}},{key:"applyToLocalDocumentSet",value:function(e,t){var n=this,r=hb();return this.mutations.forEach((function(i){var a=e.get(i.key),o=a.overlayedDocument,s=n.applyToLocalView(o,a.mutatedFields),u=zb(o,s=t.has(i.key)?null:s);null!==u&&r.set(i.key,u),o.isValidDocument()||o.convertToNoDocument(um.min())})),r}},{key:"keys",value:function(){return this.mutations.reduce((function(e,t){return e.add(t.key)}),gb())}},{key:"isEqual",value:function(e){return this.batchId===e.batchId&&am(this.mutations,e.mutations,(function(e,t){return Hb(e,t)}))&&am(this.baseMutations,e.baseMutations,(function(e,t){return Hb(e,t)}))}}]),e}(),tk=function(){function e(t,n,r,i){h(this,e),this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}return g(e,null,[{key:"from",value:function(t,n,r){qv(t.mutations.length===r.length);for(var i=vb,a=t.mutations,o=0;o<a.length;o++)i=i.insert(a[o].key,r[o].version);return new e(t,n,r,i)}}]),e}(),nk=function(){function e(t,n){h(this,e),this.largestBatchId=t,this.mutation=n}return g(e,[{key:"getKey",value:function(){return this.mutation.key}},{key:"isEqual",value:function(e){return null!==e&&this.mutation===e.mutation}},{key:"toString",value:function(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}]),e}(),rk=g((function e(t,n){h(this,e),this.count=t,this.unchangedNames=n}));function ik(e){switch(e){default:return Bv();case Wv.CANCELLED:case Wv.UNKNOWN:case Wv.DEADLINE_EXCEEDED:case Wv.RESOURCE_EXHAUSTED:case Wv.INTERNAL:case Wv.UNAVAILABLE:case Wv.UNAUTHENTICATED:return!1;case Wv.INVALID_ARGUMENT:case Wv.NOT_FOUND:case Wv.ALREADY_EXISTS:case Wv.PERMISSION_DENIED:case Wv.FAILED_PRECONDITION:case Wv.ABORTED:case Wv.OUT_OF_RANGE:case Wv.UNIMPLEMENTED:case Wv.DATA_LOSS:return!0}}function ak(e){if(void 0===e)return Fv("GRPC error has no .code"),Wv.UNKNOWN;switch(e){case Xb.OK:return Wv.OK;case Xb.CANCELLED:return Wv.CANCELLED;case Xb.UNKNOWN:return Wv.UNKNOWN;case Xb.DEADLINE_EXCEEDED:return Wv.DEADLINE_EXCEEDED;case Xb.RESOURCE_EXHAUSTED:return Wv.RESOURCE_EXHAUSTED;case Xb.INTERNAL:return Wv.INTERNAL;case Xb.UNAVAILABLE:return Wv.UNAVAILABLE;case Xb.UNAUTHENTICATED:return Wv.UNAUTHENTICATED;case Xb.INVALID_ARGUMENT:return Wv.INVALID_ARGUMENT;case Xb.NOT_FOUND:return Wv.NOT_FOUND;case Xb.ALREADY_EXISTS:return Wv.ALREADY_EXISTS;case Xb.PERMISSION_DENIED:return Wv.PERMISSION_DENIED;case Xb.FAILED_PRECONDITION:return Wv.FAILED_PRECONDITION;case Xb.ABORTED:return Wv.ABORTED;case Xb.OUT_OF_RANGE:return Wv.OUT_OF_RANGE;case Xb.UNIMPLEMENTED:return Wv.UNIMPLEMENTED;case Xb.DATA_LOSS:return Wv.DATA_LOSS;default:return Bv()}}($b=Xb||(Xb={}))[$b.OK=0]="OK",$b[$b.CANCELLED=1]="CANCELLED",$b[$b.UNKNOWN=2]="UNKNOWN",$b[$b.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",$b[$b.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",$b[$b.NOT_FOUND=5]="NOT_FOUND",$b[$b.ALREADY_EXISTS=6]="ALREADY_EXISTS",$b[$b.PERMISSION_DENIED=7]="PERMISSION_DENIED",$b[$b.UNAUTHENTICATED=16]="UNAUTHENTICATED",$b[$b.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",$b[$b.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",$b[$b.ABORTED=10]="ABORTED",$b[$b.OUT_OF_RANGE=11]="OUT_OF_RANGE",$b[$b.UNIMPLEMENTED=12]="UNIMPLEMENTED",$b[$b.INTERNAL=13]="INTERNAL",$b[$b.UNAVAILABLE=14]="UNAVAILABLE",$b[$b.DATA_LOSS=15]="DATA_LOSS";var ok=null;function sk(){return new TextEncoder}var uk=new Av([4294967295,4294967295],0);function ck(e){var t=sk().encode(e),n=new Pv;return n.update(t),new Uint8Array(n.digest())}function lk(e){var t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),i=t.getUint32(8,!0),a=t.getUint32(12,!0);return[new Av([n,r],0),new Av([i,a],0)]}var fk=function(){function e(t,n,r){if(h(this,e),this.bitmap=t,this.padding=n,this.hashCount=r,n<0||n>=8)throw new dk("Invalid padding: ".concat(n));if(r<0)throw new dk("Invalid hash count: ".concat(r));if(t.length>0&&0===this.hashCount)throw new dk("Invalid hash count: ".concat(r));if(0===t.length&&0!==n)throw new dk("Invalid padding when bitmap length is 0: ".concat(n));this.Ae=8*t.length-n,this.Re=Av.fromNumber(this.Ae)}return g(e,[{key:"Ve",value:function(e,t,n){var r=e.add(t.multiply(Av.fromNumber(n)));return 1===r.compare(uk)&&(r=new Av([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Re).toNumber()}},{key:"me",value:function(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}},{key:"mightContain",value:function(e){if(0===this.Ae)return!1;for(var t=l(lk(ck(e)),2),n=t[0],r=t[1],i=0;i<this.hashCount;i++){var a=this.Ve(n,r,i);if(!this.me(a))return!1}return!0}},{key:"insert",value:function(e){if(0!==this.Ae)for(var t=l(lk(ck(e)),2),n=t[0],r=t[1],i=0;i<this.hashCount;i++){var a=this.Ve(n,r,i);this.fe(a)}}},{key:"fe",value:function(e){var t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}}],[{key:"create",value:function(t,n,r){var i=t%8==0?0:8-t%8,a=new e(new Uint8Array(Math.ceil(t/8)),i,n);return r.forEach((function(e){return a.insert(e)})),a}}]),e}(),dk=function(e){b(n,e);var t=_(n);function n(){var e;return h(this,n),(e=t.apply(this,arguments)).name="BloomFilterError",e}return g(n)}(E(Error)),hk=function(){function e(t,n,r,i,a){h(this,e),this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}return g(e,null,[{key:"createSynthesizedRemoteEventForCurrentChange",value:function(t,n,r){var i=new Map;return i.set(t,pk.createSynthesizedTargetChangeForCurrentChange(t,n,r)),new e(um.min(),i,new wg(im),ub(),gb())}}]),e}(),pk=function(){function e(t,n,r,i,a){h(this,e),this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}return g(e,null,[{key:"createSynthesizedTargetChangeForCurrentChange",value:function(t,n,r){return new e(r,n,gb(),gb(),gb())}}]),e}(),vk=g((function e(t,n,r,i){h(this,e),this.ge=t,this.removedTargetIds=n,this.key=r,this.pe=i})),mk=g((function e(t,n){h(this,e),this.targetId=t,this.ye=n})),gk=g((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Ng.EMPTY_BYTE_STRING,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;h(this,e),this.state=t,this.targetIds=n,this.resumeToken=r,this.cause=i})),yk=function(){function e(){h(this,e),this.we=0,this.Se=wk(),this.be=Ng.EMPTY_BYTE_STRING,this.De=!1,this.ve=!0}return g(e,[{key:"current",get:function(){return this.De}},{key:"resumeToken",get:function(){return this.be}},{key:"Ce",get:function(){return 0!==this.we}},{key:"Fe",get:function(){return this.ve}},{key:"Me",value:function(e){e.approximateByteSize()>0&&(this.ve=!0,this.be=e)}},{key:"xe",value:function(){var e=gb(),t=gb(),n=gb();return this.Se.forEach((function(r,i){switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:Bv()}})),new pk(this.be,this.De,e,t,n)}},{key:"Oe",value:function(){this.ve=!1,this.Se=wk()}},{key:"Ne",value:function(e,t){this.ve=!0,this.Se=this.Se.insert(e,t)}},{key:"Be",value:function(e){this.ve=!0,this.Se=this.Se.remove(e)}},{key:"Le",value:function(){this.we+=1}},{key:"ke",value:function(){this.we-=1}},{key:"qe",value:function(){this.ve=!0,this.De=!0}}]),e}(),bk=function(){function e(t){h(this,e),this.Qe=t,this.Ke=new Map,this.$e=ub(),this.Ue=kk(),this.We=new wg(im)}return g(e,[{key:"Ge",value:function(e){var t,n=T(e.ge);try{for(n.s();!(t=n.n()).done;){var r=t.value;e.pe&&e.pe.isFoundDocument()?this.ze(r,e.pe):this.je(r,e.key,e.pe)}}catch(s){n.e(s)}finally{n.f()}var i,a=T(e.removedTargetIds);try{for(a.s();!(i=a.n()).done;){var o=i.value;this.je(o,e.key,e.pe)}}catch(s){a.e(s)}finally{a.f()}}},{key:"He",value:function(e){var t=this;this.forEachTarget(e,(function(n){var r=t.Je(n);switch(e.state){case 0:t.Ye(n)&&r.Me(e.resumeToken);break;case 1:r.ke(),r.Ce||r.Oe(),r.Me(e.resumeToken);break;case 2:r.ke(),r.Ce||t.removeTarget(n);break;case 3:t.Ye(n)&&(r.qe(),r.Me(e.resumeToken));break;case 4:t.Ye(n)&&(t.Ze(n),r.Me(e.resumeToken));break;default:Bv()}}))}},{key:"forEachTarget",value:function(e,t){var n=this;e.targetIds.length>0?e.targetIds.forEach(t):this.Ke.forEach((function(e,r){n.Ye(r)&&t(r)}))}},{key:"Xe",value:function(e){var t=e.targetId,n=e.ye.count,r=this.et(t);if(r){var i=r.target;if(My(i))if(0===n){var a=new hm(i.path);this.je(t,a,uy.newNoDocument(a,um.min()))}else qv(1===n);else{var o=this.tt(t);if(o!==n){var s=this.nt(e),u=s?this.rt(s,e,o):1;if(0!==u){this.Ze(t);var c=2===u?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.We=this.We.insert(t,c)}null==ok||ok.it(function(e,t,n,r,i){var a,o,s,u,c,l,f={localCacheCount:e,existenceFilterCount:t.count,databaseId:n.database,projectId:n.projectId},d=t.unchangedNames;return d&&(f.bloomFilter={applied:0===i,hashCount:null!==(a=null==d?void 0:d.hashCount)&&void 0!==a?a:0,bitmapLength:null!==(u=null===(s=null===(o=null==d?void 0:d.bits)||void 0===o?void 0:o.bitmap)||void 0===s?void 0:s.length)&&void 0!==u?u:0,padding:null!==(l=null===(c=null==d?void 0:d.bits)||void 0===c?void 0:c.padding)&&void 0!==l?l:0,mightContain:function(e){var t;return null!==(t=null==r?void 0:r.mightContain(e))&&void 0!==t&&t}}),f}(o,e.ye,this.Qe.st(),s,u))}}}}},{key:"nt",value:function(e){var t=e.ye.unchangedNames;if(!t||!t.bits)return null;var n,r,i=t.bits,a=i.bitmap,o=void 0===a?"":a,s=i.padding,u=void 0===s?0:s,c=t.hashCount,l=void 0===c?0:c;try{n=Rg(o).toUint8Array()}catch(e){if(e instanceof Cg)return zv("Decoding the base64 bloom filter in existence filter failed ("+e.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw e}try{r=new fk(n,u,l)}catch(e){return zv(e instanceof dk?"BloomFilter error: ":"Applying bloom filter failed: ",e),null}return 0===r.Ae?null:r}},{key:"rt",value:function(e,t,n){return t.ye.count===n-this.ot(e,t.targetId)?0:2}},{key:"ot",value:function(e,t){var n=this,r=this.Qe.getRemoteKeysForTarget(t),i=0;return r.forEach((function(r){var a=n.Qe.st(),o="projects/".concat(a.projectId,"/databases/").concat(a.database,"/documents/").concat(r.path.canonicalString());e.mightContain(o)||(n.je(t,r,null),i++)})),i}},{key:"_t",value:function(e){var t=this,n=new Map;this.Ke.forEach((function(r,i){var a=t.et(i);if(a){if(r.current&&My(a.target)){var o=new hm(a.target.path);null!==t.$e.get(o)||t.ut(i,o)||t.je(i,o,uy.newNoDocument(o,e))}r.Fe&&(n.set(i,r.xe()),r.Oe())}}));var r=gb();this.Ue.forEach((function(e,n){var i=!0;n.forEachWhile((function(e){var n=t.et(e);return!n||"TargetPurposeLimboResolution"===n.purpose||(i=!1,!1)})),i&&(r=r.add(e))})),this.$e.forEach((function(t,n){return n.setReadTime(e)}));var i=new hk(e,n,this.We,this.$e,r);return this.$e=ub(),this.Ue=kk(),this.We=new wg(im),i}},{key:"ze",value:function(e,t){if(this.Ye(e)){var n=this.ut(e,t.key)?2:0;this.Je(e).Ne(t.key,n),this.$e=this.$e.insert(t.key,t),this.Ue=this.Ue.insert(t.key,this.ct(t.key).add(e))}}},{key:"je",value:function(e,t,n){if(this.Ye(e)){var r=this.Je(e);this.ut(e,t)?r.Ne(t,1):r.Be(t),this.Ue=this.Ue.insert(t,this.ct(t).delete(e)),n&&(this.$e=this.$e.insert(t,n))}}},{key:"removeTarget",value:function(e){this.Ke.delete(e)}},{key:"tt",value:function(e){var t=this.Je(e).xe();return this.Qe.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}},{key:"Le",value:function(e){this.Je(e).Le()}},{key:"Je",value:function(e){var t=this.Ke.get(e);return t||(t=new yk,this.Ke.set(e,t)),t}},{key:"ct",value:function(e){var t=this.Ue.get(e);return t||(t=new Sg(im),this.Ue=this.Ue.insert(e,t)),t}},{key:"Ye",value:function(e){var t=null!==this.et(e);return t||Uv("WatchChangeAggregator","Detected inactive target",e),t}},{key:"et",value:function(e){var t=this.Ke.get(e);return t&&t.Ce?null:this.Qe.lt(e)}},{key:"Ze",value:function(e){var t=this;this.Ke.set(e,new yk),this.Qe.getRemoteKeysForTarget(e).forEach((function(n){t.je(e,n,null)}))}},{key:"ut",value:function(e,t){return this.Qe.getRemoteKeysForTarget(e).has(t)}}]),e}();function kk(){return new wg(hm.comparator)}function wk(){return new wg(hm.comparator)}var xk={asc:"ASCENDING",desc:"DESCENDING"},_k={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Sk={and:"AND",or:"OR"},Ek=g((function e(t,n){h(this,e),this.databaseId=t,this.useProto3Json=n}));function Ik(e,t){return e.useProto3Json||zm(t)?t:{value:t}}function Tk(e,t){return e.useProto3Json?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function Ck(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function Nk(e,t){return Tk(e,t.toTimestamp())}function Ok(e){return qv(!!e),um.fromTimestamp(function(e){var t=Pg(e);return new sm(t.seconds,t.nanos)}(e))}function Pk(e,t){return function(e){return new lm(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function Ak(e){var t=lm.fromString(e);return qv(tw(t)),t}function Rk(e,t){return Pk(e.databaseId,t.path)}function jk(e,t){var n=Ak(t);if(n.get(1)!==e.databaseId.projectId)throw new Gv(Wv.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new Gv(Wv.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new hm(Uk(n))}function Dk(e,t){return Pk(e.databaseId,t)}function Lk(e){var t=Ak(e);return 4===t.length?lm.emptyPath():Uk(t)}function Mk(e){return new lm(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function Uk(e){return qv(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function Fk(e,t,n){return{name:Rk(e,t),fields:n.value.mapValue.fields}}function zk(e,t,n){var r=jk(e,t.name),i=Ok(t.updateTime),a=t.createTime?Ok(t.createTime):um.min(),o=new oy({mapValue:{fields:t.fields}}),s=uy.newFoundDocument(r,i,a,o);return n&&s.setHasCommittedMutations(),n?s.setHasCommittedMutations():s}function Vk(e,t){return"found"in t?function(e,t){qv(!!t.found),t.found.name,t.found.updateTime;var n=jk(e,t.found.name),r=Ok(t.found.updateTime),i=t.found.createTime?Ok(t.found.createTime):um.min(),a=new oy({mapValue:{fields:t.found.fields}});return uy.newFoundDocument(n,r,i,a)}(e,t):"missing"in t?function(e,t){qv(!!t.missing),qv(!!t.readTime);var n=jk(e,t.missing),r=Ok(t.readTime);return uy.newNoDocument(n,r)}(e,t):Bv()}function Bk(e,t){var n;if(t instanceof Wb)n={update:Fk(e,t.key,t.value)};else if(t instanceof Jb)n={delete:Rk(e,t.key)};else if(t instanceof Gb)n={update:Fk(e,t.key,t.data),updateMask:ew(t.fieldMask)};else{if(!(t instanceof Zb))return Bv();n={verify:Rk(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((function(e){return function(e,t){var n=t.transform;if(n instanceof Tb)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof Cb)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof Ob)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof Ab)return{fieldPath:t.field.canonicalString(),increment:n.Ee};throw Bv()}(0,e)}))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:Nk(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:Bv()}(e,t.precondition)),n}function qk(e,t){var n=t.currentDocument?function(e){return void 0!==e.updateTime?Mb.updateTime(Ok(e.updateTime)):void 0!==e.exists?Mb.exists(e.exists):Mb.none()}(t.currentDocument):Mb.none(),r=t.updateTransforms?t.updateTransforms.map((function(t){return function(e,t){var n=null;if("setToServerValue"in t)qv("REQUEST_TIME"===t.setToServerValue),n=new Tb;else if("appendMissingElements"in t){var r=t.appendMissingElements.values||[];n=new Cb(r)}else if("removeAllFromArray"in t){var i=t.removeAllFromArray.values||[];n=new Ob(i)}else"increment"in t?n=new Ab(e,t.increment):Bv();var a=dm.fromServerFormat(t.fieldPath);return new Db(a,n)}(e,t)})):[];if(t.update){t.update.name;var i=jk(e,t.update.name),a=new oy({mapValue:{fields:t.update.fields}});if(t.updateMask){var o=function(e){var t=e.fieldPaths||[];return new Tg(t.map((function(e){return dm.fromServerFormat(e)})))}(t.updateMask);return new Gb(i,a,o,n,r)}return new Wb(i,a,n,r)}if(t.delete){var s=jk(e,t.delete);return new Jb(s,n)}if(t.verify){var u=jk(e,t.verify);return new Zb(u,n)}return Bv()}function Hk(e,t){return{documents:[Dk(e,t.path)]}}function Wk(e,t){var n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=Dk(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=Dk(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(e){if(0!==e.length)return Zk(my.create(e,"and"))}(t.filters);i&&(n.structuredQuery.where=i);var a=function(e){if(0!==e.length)return e.map((function(e){return function(e){return{field:$k(e.field),direction:Qk(e.dir)}}(e)}))}(t.orderBy);a&&(n.structuredQuery.orderBy=a);var o=Ik(e,t.limit);return null!==o&&(n.structuredQuery.limit=o),t.startAt&&(n.structuredQuery.startAt=function(e){return{before:e.inclusive,values:e.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),n}function Gk(e){var t=Lk(e.parent),n=e.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){qv(1===r);var a=n.from[0];a.allDescendants?i=a.collectionId:t=t.child(a.collectionId)}var o=[];n.where&&(o=function(e){var t=Kk(e);return t instanceof my&&by(t)?t.getFilters():[t]}(n.where));var s=[];n.orderBy&&(s=function(e){return e.map((function(e){return function(e){return new dy(Jk(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)}))}(n.orderBy));var u=null;n.limit&&(u=function(e){var t;return zm(t="object"==typeof e?e.value:e)?null:t}(n.limit));var c=null;n.startAt&&(c=function(e){var t=!!e.before,n=e.values||[];return new cy(n,t)}(n.startAt));var l=null;return n.endAt&&(l=function(e){var t=!e.before,n=e.values||[];return new cy(n,t)}(n.endAt)),By(t,i,s,o,u,"F",c,l)}function Kk(e){return void 0!==e.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":var t=Jk(e.unaryFilter.field);return vy.create(t,"==",{doubleValue:NaN});case"IS_NULL":var n=Jk(e.unaryFilter.field);return vy.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=Jk(e.unaryFilter.field);return vy.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=Jk(e.unaryFilter.field);return vy.create(i,"!=",{nullValue:"NULL_VALUE"});default:return Bv()}}(e):void 0!==e.fieldFilter?function(e){return vy.create(Jk(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Bv()}}(e.fieldFilter.op),e.fieldFilter.value)}(e):void 0!==e.compositeFilter?function(e){return my.create(e.compositeFilter.filters.map((function(e){return Kk(e)})),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return Bv()}}(e.compositeFilter.op))}(e):Bv()}function Qk(e){return xk[e]}function Yk(e){return _k[e]}function Xk(e){return Sk[e]}function $k(e){return{fieldPath:e.canonicalString()}}function Jk(e){return dm.fromServerFormat(e.fieldPath)}function Zk(e){return e instanceof vy?function(e){if("=="===e.op){if(Jg(e.value))return{unaryFilter:{field:$k(e.field),op:"IS_NAN"}};if($g(e.value))return{unaryFilter:{field:$k(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(Jg(e.value))return{unaryFilter:{field:$k(e.field),op:"IS_NOT_NAN"}};if($g(e.value))return{unaryFilter:{field:$k(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:$k(e.field),op:Yk(e.op),value:e.value}}}(e):e instanceof my?function(e){var t=e.getFilters().map((function(e){return Zk(e)}));return 1===t.length?t[0]:{compositeFilter:{op:Xk(e.op),filters:t}}}(e):Bv()}function ew(e){var t=[];return e.fields.forEach((function(e){return t.push(e.canonicalString())})),{fieldPaths:t}}function tw(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}var nw=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:um.min(),o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:um.min(),s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:Ng.EMPTY_BYTE_STRING,u=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;h(this,e),this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=s,this.expectedCount=u}return g(e,[{key:"withSequenceNumber",value:function(t){return new e(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}},{key:"withResumeToken",value:function(t,n){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}},{key:"withExpectedCount",value:function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}},{key:"withLastLimboFreeSnapshotVersion",value:function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}]),e}(),rw=g((function e(t){h(this,e),this.ht=t}));function iw(e,t){var n=t.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:aw(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument())r.document=function(e,t){return{name:Rk(e,t.key),fields:t.data.value.mapValue.fields,updateTime:Tk(e,t.version.toTimestamp()),createTime:Tk(e,t.createTime.toTimestamp())}}(e.ht,t);else if(t.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:ow(t.version)};else{if(!t.isUnknownDocument())return Bv();r.unknownDocument={path:n.path.toArray(),version:ow(t.version)}}return r}function aw(e){var t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function ow(e){var t=e.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function sw(e){var t=new sm(e.seconds,e.nanoseconds);return um.fromTimestamp(t)}function uw(e,t){for(var n=(t.baseMutations||[]).map((function(t){return qk(e.ht,t)})),r=0;r<t.mutations.length-1;++r){var i=t.mutations[r];if(r+1<t.mutations.length&&void 0!==t.mutations[r+1].transform){var a=t.mutations[r+1];i.updateTransforms=a.transform.fieldTransforms,t.mutations.splice(r+1,1),++r}}var o=t.mutations.map((function(t){return qk(e.ht,t)})),s=sm.fromMillis(t.localWriteTimeMs);return new ek(t.batchId,s,n,o)}function cw(e){var t,n=sw(e.readTime),r=void 0!==e.lastLimboFreeSnapshotVersion?sw(e.lastLimboFreeSnapshotVersion):um.min();return t=function(e){return void 0!==e.documents}(e.query)?function(e){return qv(1===e.documents.length),Yy(qy(Lk(e.documents[0])))}(e.query):function(e){return Yy(Gk(e))}(e.query),new nw(t,e.targetId,"TargetPurposeListen",e.lastListenSequenceNumber,n,r,Ng.fromBase64String(e.resumeToken))}function lw(e,t){var n,r=ow(t.snapshotVersion),i=ow(t.lastLimboFreeSnapshotVersion);n=My(t.target)?Hk(e.ht,t.target):Wk(e.ht,t.target);var a=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:Dy(t.target),readTime:r,resumeToken:a,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:n}}function fw(e){var t=Gk({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?Jy(t,t.limit,"L"):t}function dw(e,t){return new nk(t.largestBatchId,qk(e.ht,t.overlayMutation))}function hw(e,t){var n=t.path.lastSegment();return[e,qm(t.path.popLast()),n]}function pw(e,t,n,r){return{indexId:e,uid:t.uid||"",sequenceNumber:n,readTime:ow(r.readTime),documentKey:qm(r.documentKey.path),largestBatchId:r.largestBatchId}}var vw=function(){function e(){h(this,e)}return g(e,[{key:"getBundleMetadata",value:function(e,t){return mw(e).get(t).next((function(e){if(e)return function(e){return{id:e.bundleId,createTime:sw(e.createTime),version:e.version}}(e)}))}},{key:"saveBundleMetadata",value:function(e,t){return mw(e).put(function(e){return{bundleId:e.id,createTime:ow(Ok(e.createTime)),version:e.version}}(t))}},{key:"getNamedQuery",value:function(e,t){return gw(e).get(t).next((function(e){if(e)return function(e){return{name:e.name,query:fw(e.bundledQuery),readTime:sw(e.readTime)}}(e)}))}},{key:"saveNamedQuery",value:function(e,t){return gw(e).put(function(e){return{name:e.name,readTime:ow(Ok(e.readTime)),bundledQuery:e.bundledQuery}}(t))}}]),e}();function mw(e){return gg(e,"bundles")}function gw(e){return gg(e,"namedQueries")}var yw=function(){function e(t,n){h(this,e),this.serializer=t,this.userId=n}return g(e,[{key:"getOverlay",value:function(e,t){var n=this;return bw(e).get(hw(this.userId,t)).next((function(e){return e?dw(n.serializer,e):null}))}},{key:"getOverlays",value:function(e,t){var n=this,r=db();return Tm.forEach(t,(function(t){return n.getOverlay(e,t).next((function(e){null!==e&&r.set(t,e)}))})).next((function(){return r}))}},{key:"saveOverlays",value:function(e,t,n){var r=this,i=[];return n.forEach((function(n,a){var o=new nk(t,a);i.push(r.It(e,o))})),Tm.waitFor(i)}},{key:"removeOverlaysForBatchId",value:function(e,t,n){var r=this,i=new Set;t.forEach((function(e){return i.add(qm(e.getCollectionPath()))}));var a=[];return i.forEach((function(t){var i=IDBKeyRange.bound([r.userId,t,n],[r.userId,t,n+1],!1,!0);a.push(bw(e).J("collectionPathOverlayIndex",i))})),Tm.waitFor(a)}},{key:"getOverlaysForCollection",value:function(e,t,n){var r=this,i=db(),a=qm(t),o=IDBKeyRange.bound([this.userId,a,n],[this.userId,a,Number.POSITIVE_INFINITY],!0);return bw(e).G("collectionPathOverlayIndex",o).next((function(e){var t,n=T(e);try{for(n.s();!(t=n.n()).done;){var a=t.value,o=dw(r.serializer,a);i.set(o.getKey(),o)}}catch(s){n.e(s)}finally{n.f()}return i}))}},{key:"getOverlaysForCollectionGroup",value:function(e,t,n,r){var i,a=this,o=db(),s=IDBKeyRange.bound([this.userId,t,n],[this.userId,t,Number.POSITIVE_INFINITY],!0);return bw(e).Z({index:"collectionGroupOverlayIndex",range:s},(function(e,t,n){var s=dw(a.serializer,t);o.size()<r||s.largestBatchId===i?(o.set(s.getKey(),s),i=s.largestBatchId):n.done()})).next((function(){return o}))}},{key:"It",value:function(e,t){return bw(e).put(function(e,t,n){var r=l(hw(t,n.mutation.key),3);r[0];return{userId:t,collectionPath:r[1],documentId:r[2],collectionGroup:n.mutation.key.getCollectionGroup(),largestBatchId:n.largestBatchId,overlayMutation:Bk(e.ht,n.mutation)}}(this.serializer,this.userId,t))}}],[{key:"Pt",value:function(t,n){return new e(t,n.uid||"")}}]),e}();function bw(e){return gg(e,"documentOverlays")}var kw=function(){function e(){h(this,e)}return g(e,[{key:"Tt",value:function(e,t){this.Et(e,t),t.dt()}},{key:"Et",value:function(e,t){if("nullValue"in e)this.At(t,5);else if("booleanValue"in e)this.At(t,10),t.Rt(e.booleanValue?1:0);else if("integerValue"in e)this.At(t,15),t.Rt(Ag(e.integerValue));else if("doubleValue"in e){var n=Ag(e.doubleValue);isNaN(n)?this.At(t,13):(this.At(t,15),Vm(n)?t.Rt(0):t.Rt(n))}else if("timestampValue"in e){var r=e.timestampValue;this.At(t,20),"string"==typeof r?t.Vt(r):(t.Vt("".concat(r.seconds||"")),t.Rt(r.nanos||0))}else if("stringValue"in e)this.ft(e.stringValue,t),this.gt(t);else if("bytesValue"in e)this.At(t,30),t.yt(Rg(e.bytesValue)),this.gt(t);else if("referenceValue"in e)this.wt(e.referenceValue,t);else if("geoPointValue"in e){var i=e.geoPointValue;this.At(t,45),t.Rt(i.latitude||0),t.Rt(i.longitude||0)}else"mapValue"in e?ty(e)?this.At(t,Number.MAX_SAFE_INTEGER):(this.St(e.mapValue,t),this.gt(t)):"arrayValue"in e?(this.bt(e.arrayValue,t),this.gt(t)):Bv()}},{key:"ft",value:function(e,t){this.At(t,25),this.Dt(e,t)}},{key:"Dt",value:function(e,t){t.Vt(e)}},{key:"St",value:function(e,t){var n=e.fields||{};this.At(t,55);for(var r=0,i=Object.keys(n);r<i.length;r++){var a=i[r];this.ft(a,t),this.Et(n[a],t)}}},{key:"bt",value:function(e,t){var n=e.values||[];this.At(t,50);var r,i=T(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;this.Et(a,t)}}catch(o){i.e(o)}finally{i.f()}}},{key:"wt",value:function(e,t){var n=this;this.At(t,37),hm.fromName(e).path.forEach((function(e){n.At(t,60),n.Dt(e,t)}))}},{key:"At",value:function(e,t){e.Rt(t)}},{key:"gt",value:function(e){e.Rt(2)}}]),e}();function ww(e){if(0===e)return 8;var t=0;return e>>4==0&&(t+=4,e<<=4),e>>6==0&&(t+=2,e<<=2),e>>7==0&&(t+=1),t}function xw(e){var t=64-function(e){for(var t=0,n=0;n<8;++n){var r=ww(255&e[n]);if(t+=r,8!==r)break}return t}(e);return Math.ceil(t/8)}kw.vt=new kw;var _w=function(){function e(){h(this,e),this.buffer=new Uint8Array(1024),this.position=0}return g(e,[{key:"Ct",value:function(e){for(var t=e[Symbol.iterator](),n=t.next();!n.done;)this.Ft(n.value),n=t.next();this.Mt()}},{key:"xt",value:function(e){for(var t=e[Symbol.iterator](),n=t.next();!n.done;)this.Ot(n.value),n=t.next();this.Nt()}},{key:"Bt",value:function(e){var t,n=T(e);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=r.charCodeAt(0);if(i<128)this.Ft(i);else if(i<2048)this.Ft(960|i>>>6),this.Ft(128|63&i);else if(r<"\ud800"||"\udbff"<r)this.Ft(480|i>>>12),this.Ft(128|63&i>>>6),this.Ft(128|63&i);else{var a=r.codePointAt(0);this.Ft(240|a>>>18),this.Ft(128|63&a>>>12),this.Ft(128|63&a>>>6),this.Ft(128|63&a)}}}catch(o){n.e(o)}finally{n.f()}this.Mt()}},{key:"Lt",value:function(e){var t,n=T(e);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=r.charCodeAt(0);if(i<128)this.Ot(i);else if(i<2048)this.Ot(960|i>>>6),this.Ot(128|63&i);else if(r<"\ud800"||"\udbff"<r)this.Ot(480|i>>>12),this.Ot(128|63&i>>>6),this.Ot(128|63&i);else{var a=r.codePointAt(0);this.Ot(240|a>>>18),this.Ot(128|63&a>>>12),this.Ot(128|63&a>>>6),this.Ot(128|63&a)}}}catch(o){n.e(o)}finally{n.f()}this.Nt()}},{key:"kt",value:function(e){var t=this.qt(e),n=xw(t);this.Qt(1+n),this.buffer[this.position++]=255&n;for(var r=t.length-n;r<t.length;++r)this.buffer[this.position++]=255&t[r]}},{key:"Kt",value:function(e){var t=this.qt(e),n=xw(t);this.Qt(1+n),this.buffer[this.position++]=~(255&n);for(var r=t.length-n;r<t.length;++r)this.buffer[this.position++]=~(255&t[r])}},{key:"$t",value:function(){this.Ut(255),this.Ut(255)}},{key:"Wt",value:function(){this.Gt(255),this.Gt(255)}},{key:"reset",value:function(){this.position=0}},{key:"seed",value:function(e){this.Qt(e.length),this.buffer.set(e,this.position),this.position+=e.length}},{key:"zt",value:function(){return this.buffer.slice(0,this.position)}},{key:"qt",value:function(e){var t=function(e){var t=new DataView(new ArrayBuffer(8));return t.setFloat64(0,e,!1),new Uint8Array(t.buffer)}(e),n=0!=(128&t[0]);t[0]^=n?255:128;for(var r=1;r<t.length;++r)t[r]^=n?255:0;return t}},{key:"Ft",value:function(e){var t=255&e;0===t?(this.Ut(0),this.Ut(255)):255===t?(this.Ut(255),this.Ut(0)):this.Ut(t)}},{key:"Ot",value:function(e){var t=255&e;0===t?(this.Gt(0),this.Gt(255)):255===t?(this.Gt(255),this.Gt(0)):this.Gt(e)}},{key:"Mt",value:function(){this.Ut(0),this.Ut(1)}},{key:"Nt",value:function(){this.Gt(0),this.Gt(1)}},{key:"Ut",value:function(e){this.Qt(1),this.buffer[this.position++]=e}},{key:"Gt",value:function(e){this.Qt(1),this.buffer[this.position++]=~e}},{key:"Qt",value:function(e){var t=e+this.position;if(!(t<=this.buffer.length)){var n=2*this.buffer.length;n<t&&(n=t);var r=new Uint8Array(n);r.set(this.buffer),this.buffer=r}}}]),e}(),Sw=function(){function e(t){h(this,e),this.jt=t}return g(e,[{key:"yt",value:function(e){this.jt.Ct(e)}},{key:"Vt",value:function(e){this.jt.Bt(e)}},{key:"Rt",value:function(e){this.jt.kt(e)}},{key:"dt",value:function(){this.jt.$t()}}]),e}(),Ew=function(){function e(t){h(this,e),this.jt=t}return g(e,[{key:"yt",value:function(e){this.jt.xt(e)}},{key:"Vt",value:function(e){this.jt.Lt(e)}},{key:"Rt",value:function(e){this.jt.Kt(e)}},{key:"dt",value:function(){this.jt.Wt()}}]),e}(),Iw=function(){function e(){h(this,e),this.jt=new _w,this.Ht=new Sw(this.jt),this.Jt=new Ew(this.jt)}return g(e,[{key:"seed",value:function(e){this.jt.seed(e)}},{key:"Yt",value:function(e){return 0===e?this.Ht:this.Jt}},{key:"zt",value:function(){return this.jt.zt()}},{key:"reset",value:function(){this.jt.reset()}}]),e}(),Tw=function(){function e(t,n,r,i){h(this,e),this.indexId=t,this.documentKey=n,this.arrayValue=r,this.directionalValue=i}return g(e,[{key:"Zt",value:function(){var t=this.directionalValue.length,n=0===t||255===this.directionalValue[t-1]?t+1:t,r=new Uint8Array(n);return r.set(this.directionalValue,0),n!==t?r.set([0],this.directionalValue.length):++r[r.length-1],new e(this.indexId,this.documentKey,this.arrayValue,r)}}]),e}();function Cw(e,t){var n=e.indexId-t.indexId;return 0!==n?n:0!==(n=Nw(e.arrayValue,t.arrayValue))?n:0!==(n=Nw(e.directionalValue,t.directionalValue))?n:hm.comparator(e.documentKey,t.documentKey)}function Nw(e,t){for(var n=0;n<e.length&&n<t.length;++n){var r=e[n]-t[n];if(0!==r)return r}return e.length-t.length}var Ow=function(){function e(t){h(this,e),this.collectionId=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment(),this.Xt=t.orderBy,this.en=[];var n,r=T(t.filters);try{for(r.s();!(n=r.n()).done;){var i=n.value;i.isInequality()?this.tn=i:this.en.push(i)}}catch(a){r.e(a)}finally{r.f()}}return g(e,[{key:"nn",value:function(e){qv(e.collectionGroup===this.collectionId);var t=vm(e);if(void 0!==t&&!this.rn(t))return!1;for(var n=mm(e),r=new Set,i=0,a=0;i<n.length&&this.rn(n[i]);++i)r=r.add(n[i].fieldPath.canonicalString());if(i===n.length)return!0;if(void 0!==this.tn){if(!r.has(this.tn.field.canonicalString())){var o=n[i];if(!this.sn(this.tn,o)||!this.on(this.Xt[a++],o))return!1}++i}for(;i<n.length;++i){var s=n[i];if(a>=this.Xt.length||!this.on(this.Xt[a++],s))return!1}return!0}},{key:"rn",value:function(e){var t,n=T(this.en);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(this.sn(r,e))return!0}}catch(i){n.e(i)}finally{n.f()}return!1}},{key:"sn",value:function(e,t){if(void 0===e||!e.field.isEqual(t.fieldPath))return!1;var n="array-contains"===e.op||"array-contains-any"===e.op;return 2===t.kind===n}},{key:"on",value:function(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}]),e}();function Pw(e){var t,n;if(qv(e instanceof vy||e instanceof my),e instanceof vy){if(e instanceof Oy){var r=(null===(n=null===(t=e.value.arrayValue)||void 0===t?void 0:t.values)||void 0===n?void 0:n.map((function(t){return vy.create(e.field,"==",t)})))||[];return my.create(r,"or")}return e}var i=e.filters.map((function(e){return Pw(e)}));return my.create(i,e.op)}function Aw(e){if(0===e.getFilters().length)return[];var t=Lw(Pw(e));return qv(Dw(t)),Rw(t)||jw(t)?[t]:t.getFilters()}function Rw(e){return e instanceof vy}function jw(e){return e instanceof my&&by(e)}function Dw(e){return Rw(e)||jw(e)||function(e){if(e instanceof my&&yy(e)){var t,n=T(e.getFilters());try{for(n.s();!(t=n.n()).done;){var r=t.value;if(!Rw(r)&&!jw(r))return!1}}catch(i){n.e(i)}finally{n.f()}return!0}return!1}(e)}function Lw(e){if(qv(e instanceof vy||e instanceof my),e instanceof vy)return e;if(1===e.filters.length)return Lw(e.filters[0]);var t=e.filters.map((function(e){return Lw(e)})),n=my.create(t,e.op);return Dw(n=Fw(n))?n:(qv(n instanceof my),qv(gy(n)),qv(n.filters.length>1),n.filters.reduce((function(e,t){return Mw(e,t)})))}function Mw(e,t){var n;return qv(e instanceof vy||e instanceof my),qv(t instanceof vy||t instanceof my),n=e instanceof vy?t instanceof vy?function(e,t){return my.create([e,t],"and")}(e,t):Uw(e,t):t instanceof vy?Uw(t,e):function(e,t){if(qv(e.filters.length>0&&t.filters.length>0),gy(e)&&gy(t))return _y(e,t.getFilters());var n=yy(e)?e:t,r=yy(e)?t:e,i=n.filters.map((function(e){return Mw(e,r)}));return my.create(i,"or")}(e,t),Fw(n)}function Uw(e,t){if(gy(t))return _y(t,e.getFilters());var n=t.filters.map((function(t){return Mw(e,t)}));return my.create(n,"or")}function Fw(e){if(qv(e instanceof vy||e instanceof my),e instanceof vy)return e;var t=e.getFilters();if(1===t.length)return Fw(t[0]);if(ky(e))return e;var n=t.map((function(e){return Fw(e)})),r=[];return n.forEach((function(t){t instanceof vy?r.push(t):t instanceof my&&(t.op===e.op?r.push.apply(r,d(t.filters)):r.push(t))})),1===r.length?r[0]:my.create(r,e.op)}var zw=function(){function e(){h(this,e),this._n=new Vw}return g(e,[{key:"addToCollectionParentIndex",value:function(e,t){return this._n.add(t),Tm.resolve()}},{key:"getCollectionParents",value:function(e,t){return Tm.resolve(this._n.getEntries(t))}},{key:"addFieldIndex",value:function(e,t){return Tm.resolve()}},{key:"deleteFieldIndex",value:function(e,t){return Tm.resolve()}},{key:"getDocumentsMatchingTarget",value:function(e,t){return Tm.resolve(null)}},{key:"getIndexType",value:function(e,t){return Tm.resolve(0)}},{key:"getFieldIndexes",value:function(e,t){return Tm.resolve([])}},{key:"getNextCollectionGroupToUpdate",value:function(e){return Tm.resolve(null)}},{key:"getMinOffset",value:function(e,t){return Tm.resolve(wm.min())}},{key:"getMinOffsetFromCollectionGroup",value:function(e,t){return Tm.resolve(wm.min())}},{key:"updateCollectionGroup",value:function(e,t,n){return Tm.resolve()}},{key:"updateIndexEntries",value:function(e,t){return Tm.resolve()}}]),e}(),Vw=function(){function e(){h(this,e),this.index={}}return g(e,[{key:"add",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new Sg(lm.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}},{key:"has",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}},{key:"getEntries",value:function(e){return(this.index[e]||new Sg(lm.comparator)).toArray()}}]),e}(),Bw=new Uint8Array(0),qw=function(){function e(t,n){h(this,e),this.user=t,this.databaseId=n,this.an=new Vw,this.un=new ob((function(e){return Dy(e)}),(function(e,t){return Ly(e,t)})),this.uid=t.uid||""}return g(e,[{key:"addToCollectionParentIndex",value:function(e,t){var n=this;if(!this.an.has(t)){var r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener((function(){n.an.add(t)}));var a={collectionId:r,parent:qm(i)};return Hw(e).put(a)}return Tm.resolve()}},{key:"getCollectionParents",value:function(e,t){var n=[],r=IDBKeyRange.bound([t,""],[om(t),""],!1,!0);return Hw(e).G(r).next((function(e){var r,i=T(e);try{for(i.s();!(r=i.n()).done;){var a=r.value;if(a.collectionId!==t)break;n.push(Gm(a.parent))}}catch(o){i.e(o)}finally{i.f()}return n}))}},{key:"addFieldIndex",value:function(e,t){var n=this,r=Gw(e),i=function(e){return{indexId:e.indexId,collectionGroup:e.collectionGroup,fields:e.fields.map((function(e){return[e.fieldPath.canonicalString(),e.kind]}))}}(t);delete i.indexId;var a=r.add(i);if(t.indexState){var o=Kw(e);return a.next((function(e){o.put(pw(e,n.user,t.indexState.sequenceNumber,t.indexState.offset))}))}return a.next()}},{key:"deleteFieldIndex",value:function(e,t){var n=Gw(e),r=Kw(e),i=Ww(e);return n.delete(t.indexId).next((function(){return r.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))})).next((function(){return i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))}))}},{key:"getDocumentsMatchingTarget",value:function(e,t){var n=this,r=Ww(e),i=!0,a=new Map;return Tm.forEach(this.cn(t),(function(t){return n.ln(e,t).next((function(e){i&&(i=!!e),a.set(t,e)}))})).next((function(){if(i){var e=gb(),o=[];return Tm.forEach(a,(function(i,a){Uv("IndexedDbIndexManager","Using index ".concat(function(e){return"id=".concat(e.indexId,"|cg=").concat(e.collectionGroup,"|f=").concat(e.fields.map((function(e){return"".concat(e.fieldPath,":").concat(e.kind)})).join(","))}(i)," to execute ").concat(Dy(t)));var s=function(e,t){var n=vm(t);if(void 0===n)return null;var r,i=T(Uy(e,n.fieldPath));try{for(i.s();!(r=i.n()).done;){var a=r.value;switch(a.op){case"array-contains-any":return a.value.arrayValue.values||[];case"array-contains":return[a.value]}}}catch(o){i.e(o)}finally{i.f()}return null}(a,i),u=function(e,t){var n,r=new Map,i=T(mm(t));try{for(i.s();!(n=i.n()).done;){var a,o=n.value,s=T(Uy(e,o.fieldPath));try{for(s.s();!(a=s.n()).done;){var u=a.value;switch(u.op){case"==":case"in":r.set(o.fieldPath.canonicalString(),u.value);break;case"not-in":case"!=":return r.set(o.fieldPath.canonicalString(),u.value),Array.from(r.values())}}}catch(c){s.e(c)}finally{s.f()}}}catch(c){i.e(c)}finally{i.f()}return null}(a,i),c=function(e,t){var n,r=[],i=!0,a=T(mm(t));try{for(a.s();!(n=a.n()).done;){var o=n.value,s=0===o.kind?Fy(e,o.fieldPath,e.startAt):zy(e,o.fieldPath,e.startAt);r.push(s.value),i&&(i=s.inclusive)}}catch(u){a.e(u)}finally{a.f()}return new cy(r,i)}(a,i),l=function(e,t){var n,r=[],i=!0,a=T(mm(t));try{for(a.s();!(n=a.n()).done;){var o=n.value,s=0===o.kind?zy(e,o.fieldPath,e.endAt):Fy(e,o.fieldPath,e.endAt);r.push(s.value),i&&(i=s.inclusive)}}catch(u){a.e(u)}finally{a.f()}return new cy(r,i)}(a,i),f=n.hn(i,a,c),d=n.hn(i,a,l),h=n.Pn(i,a,u),p=n.In(i.indexId,s,f,c.inclusive,d,l.inclusive,h);return Tm.forEach(p,(function(n){return r.H(n,t.limit).next((function(t){t.forEach((function(t){var n=hm.fromSegments(t.documentKey);e.has(n)||(e=e.add(n),o.push(n))}))}))}))})).next((function(){return o}))}return Tm.resolve(null)}))}},{key:"cn",value:function(e){var t=this.un.get(e);return t||(t=0===e.filters.length?[e]:Aw(my.create(e.filters,"and")).map((function(t){return jy(e.path,e.collectionGroup,e.orderBy,t.getFilters(),e.limit,e.startAt,e.endAt)})),this.un.set(e,t),t)}},{key:"In",value:function(e,t,n,r,i,a,o){for(var s=this,u=(null!=t?t.length:1)*Math.max(n.length,i.length),c=u/(null!=t?t.length:1),l=[],f=function(){var u=t?s.Tn(t[h/c]):Bw,f=s.En(e,u,n[h%c],r),p=s.dn(e,u,i[h%c],a),v=o.map((function(t){return s.En(e,u,t,!0)}));l.push.apply(l,d(s.createRange(f,p,v)))},h=0;h<u;++h)f();return l}},{key:"En",value:function(e,t,n,r){var i=new Tw(e,hm.empty(),t,n);return r?i:i.Zt()}},{key:"dn",value:function(e,t,n,r){var i=new Tw(e,hm.empty(),t,n);return r?i.Zt():i}},{key:"ln",value:function(e,t){var n=new Ow(t),r=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,r).next((function(e){var t,r=null,i=T(e);try{for(i.s();!(t=i.n()).done;){var a=t.value;n.nn(a)&&(!r||a.fields.length>r.fields.length)&&(r=a)}}catch(o){i.e(o)}finally{i.f()}return r}))}},{key:"getIndexType",value:function(e,t){var n=this,r=2,i=this.cn(t);return Tm.forEach(i,(function(t){return n.ln(e,t).next((function(e){e?0!==r&&e.fields.length<function(e){var t,n=new Sg(dm.comparator),r=!1,i=T(e.filters);try{for(i.s();!(t=i.n()).done;){var a,o=T(t.value.getFlattenedFilters());try{for(o.s();!(a=o.n()).done;){var s=a.value;s.field.isKeyField()||("array-contains"===s.op||"array-contains-any"===s.op?r=!0:n=n.add(s.field))}}catch(f){o.e(f)}finally{o.f()}}}catch(f){i.e(f)}finally{i.f()}var u,c=T(e.orderBy);try{for(c.s();!(u=c.n()).done;){var l=u.value;l.field.isKeyField()||(n=n.add(l.field))}}catch(f){c.e(f)}finally{c.f()}return n.size+(r?1:0)}(t)&&(r=1):r=0}))})).next((function(){return function(e){return null!==e.limit}(t)&&i.length>1&&2===r?1:r}))}},{key:"An",value:function(e,t){var n,r=new Iw,i=T(mm(e));try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t.data.field(a.fieldPath);if(null==o)return null;var s=r.Yt(a.kind);kw.vt.Tt(o,s)}}catch(u){i.e(u)}finally{i.f()}return r.zt()}},{key:"Tn",value:function(e){var t=new Iw;return kw.vt.Tt(e,t.Yt(0)),t.zt()}},{key:"Rn",value:function(e,t){var n=new Iw;return kw.vt.Tt(Qg(this.databaseId,t),n.Yt(function(e){var t=mm(e);return 0===t.length?0:t[t.length-1].kind}(e))),n.zt()}},{key:"Pn",value:function(e,t,n){if(null===n)return[];var r=[];r.push(new Iw);var i,a=0,o=T(mm(e));try{for(o.s();!(i=o.n()).done;){var s,u=i.value,c=n[a++],l=T(r);try{for(l.s();!(s=l.n()).done;){var f=s.value;if(this.Vn(t,u.fieldPath)&&Xg(c))r=this.mn(r,u,c);else{var d=f.Yt(u.kind);kw.vt.Tt(c,d)}}}catch(h){l.e(h)}finally{l.f()}}}catch(h){o.e(h)}finally{o.f()}return this.fn(r)}},{key:"hn",value:function(e,t,n){return this.Pn(e,t,n.position)}},{key:"fn",value:function(e){for(var t=[],n=0;n<e.length;++n)t[n]=e[n].zt();return t}},{key:"mn",value:function(e,t,n){var r,i=d(e),a=[],o=T(n.arrayValue.values||[]);try{for(o.s();!(r=o.n()).done;){var s,u=r.value,c=T(i);try{for(c.s();!(s=c.n()).done;){var l=s.value,f=new Iw;f.seed(l.zt()),kw.vt.Tt(u,f.Yt(t.kind)),a.push(f)}}catch(h){c.e(h)}finally{c.f()}}}catch(h){o.e(h)}finally{o.f()}return a}},{key:"Vn",value:function(e,t){return!!e.filters.find((function(e){return e instanceof vy&&e.field.isEqual(t)&&("in"===e.op||"not-in"===e.op)}))}},{key:"getFieldIndexes",value:function(e,t){var n=this,r=Gw(e),i=Kw(e);return(t?r.G("collectionGroupIndex",IDBKeyRange.bound(t,t)):r.G()).next((function(e){var t=[];return Tm.forEach(e,(function(e){return i.get([e.indexId,n.uid]).next((function(n){t.push(function(e,t){var n=t?new ym(t.sequenceNumber,new wm(sw(t.readTime),new hm(Gm(t.documentKey)),t.largestBatchId)):ym.empty(),r=e.fields.map((function(e){var t=l(e,2),n=t[0],r=t[1];return new gm(dm.fromServerFormat(n),r)}));return new pm(e.indexId,e.collectionGroup,r,n)}(e,n))}))})).next((function(){return t}))}))}},{key:"getNextCollectionGroupToUpdate",value:function(e){return this.getFieldIndexes(e).next((function(e){return 0===e.length?null:(e.sort((function(e,t){var n=e.indexState.sequenceNumber-t.indexState.sequenceNumber;return 0!==n?n:im(e.collectionGroup,t.collectionGroup)})),e[0].collectionGroup)}))}},{key:"updateCollectionGroup",value:function(e,t,n){var r=this,i=Gw(e),a=Kw(e);return this.gn(e).next((function(e){return i.G("collectionGroupIndex",IDBKeyRange.bound(t,t)).next((function(t){return Tm.forEach(t,(function(t){return a.put(pw(t.indexId,r.user,e,n))}))}))}))}},{key:"updateIndexEntries",value:function(e,t){var n=this,r=new Map;return Tm.forEach(t,(function(t,i){var a=r.get(t.collectionGroup);return(a?Tm.resolve(a):n.getFieldIndexes(e,t.collectionGroup)).next((function(a){return r.set(t.collectionGroup,a),Tm.forEach(a,(function(r){return n.pn(e,t,r).next((function(t){var a=n.yn(i,r);return t.isEqual(a)?Tm.resolve():n.wn(e,i,r,t,a)}))}))}))}))}},{key:"Sn",value:function(e,t,n,r){return Ww(e).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.Rn(n,t.key),documentKey:t.key.path.toArray()})}},{key:"bn",value:function(e,t,n,r){return Ww(e).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.Rn(n,t.key),t.key.path.toArray()])}},{key:"pn",value:function(e,t,n){var r=Ww(e),i=new Sg(Cw);return r.Z({index:"documentKeyIndex",range:IDBKeyRange.only([n.indexId,this.uid,this.Rn(n,t)])},(function(e,r){i=i.add(new Tw(n.indexId,t,r.arrayValue,r.directionalValue))})).next((function(){return i}))}},{key:"yn",value:function(e,t){var n=new Sg(Cw),r=this.An(t,e);if(null==r)return n;var i=vm(t);if(null!=i){var a=e.data.field(i.fieldPath);if(Xg(a)){var o,s=T(a.arrayValue.values||[]);try{for(s.s();!(o=s.n()).done;){var u=o.value;n=n.add(new Tw(t.indexId,e.key,this.Tn(u),r))}}catch(c){s.e(c)}finally{s.f()}}}else n=n.add(new Tw(t.indexId,e.key,Bw,r));return n}},{key:"wn",value:function(e,t,n,r,i){var a=this;Uv("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);var o=[];return function(e,t,n,r,i){for(var a=e.getIterator(),o=t.getIterator(),s=Ig(a),u=Ig(o);s||u;){var c=!1,l=!1;if(s&&u){var f=n(s,u);f<0?l=!0:f>0&&(c=!0)}else null!=s?l=!0:c=!0;c?(r(u),u=Ig(o)):l?(i(s),s=Ig(a)):(s=Ig(a),u=Ig(o))}}(r,i,Cw,(function(r){o.push(a.Sn(e,t,n,r))}),(function(r){o.push(a.bn(e,t,n,r))})),Tm.waitFor(o)}},{key:"gn",value:function(e){var t=1;return Kw(e).Z({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(function(e,n,r){r.done(),t=n.sequenceNumber+1})).next((function(){return t}))}},{key:"createRange",value:function(e,t,n){n=n.sort((function(e,t){return Cw(e,t)})).filter((function(e,t,n){return!t||0!==Cw(e,n[t-1])}));var r=[];r.push(e);var i,a=T(n);try{for(a.s();!(i=a.n()).done;){var o=i.value,s=Cw(o,e),u=Cw(o,t);if(0===s)r[0]=e.Zt();else if(s>0&&u<0)r.push(o),r.push(o.Zt());else if(u>0)break}}catch(h){a.e(h)}finally{a.f()}r.push(t);for(var c=[],l=0;l<r.length;l+=2){if(this.Dn(r[l],r[l+1]))return[];var f=[r[l].indexId,this.uid,r[l].arrayValue,r[l].directionalValue,Bw,[]],d=[r[l+1].indexId,this.uid,r[l+1].arrayValue,r[l+1].directionalValue,Bw,[]];c.push(IDBKeyRange.bound(f,d))}return c}},{key:"Dn",value:function(e,t){return Cw(e,t)>0}},{key:"getMinOffsetFromCollectionGroup",value:function(e,t){return this.getFieldIndexes(e,t).next(Qw)}},{key:"getMinOffset",value:function(e,t){var n=this;return Tm.mapArray(this.cn(t),(function(t){return n.ln(e,t).next((function(e){return e||Bv()}))})).next(Qw)}}]),e}();function Hw(e){return gg(e,"collectionParents")}function Ww(e){return gg(e,"indexEntries")}function Gw(e){return gg(e,"indexConfiguration")}function Kw(e){return gg(e,"indexState")}function Qw(e){qv(0!==e.length);for(var t=e[0].indexState.offset,n=t.largestBatchId,r=1;r<e.length;r++){var i=e[r].indexState.offset;xm(i,t)<0&&(t=i),n<i.largestBatchId&&(n=i.largestBatchId)}return new wm(t.readTime,t.documentKey,n)}var Yw={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Xw=function(){function e(t,n,r){h(this,e),this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}return g(e,null,[{key:"withCacheSize",value:function(t){return new e(t,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}]),e}();function $w(e,t,n){var r=e.store("mutations"),i=e.store("documentMutations"),a=[],o=IDBKeyRange.only(n.batchId),s=0,u=r.Z({range:o},(function(e,t,n){return s++,n.delete()}));a.push(u.next((function(){qv(1===s)})));var c,l=[],f=T(n.mutations);try{for(f.s();!(c=f.n()).done;){var d=c.value,h=Ym(t,d.key.path,n.batchId);a.push(i.delete(h)),l.push(d.key)}}catch(p){f.e(p)}finally{f.f()}return Tm.waitFor(a).next((function(){return l}))}function Jw(e){if(!e)return 0;var t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw Bv();t=e.noDocument}return JSON.stringify(t).length}Xw.DEFAULT_COLLECTION_PERCENTILE=10,Xw.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Xw.DEFAULT=new Xw(41943040,Xw.DEFAULT_COLLECTION_PERCENTILE,Xw.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Xw.DISABLED=new Xw(-1,0,0);var Zw=function(){function e(t,n,r,i){h(this,e),this.userId=t,this.serializer=n,this.indexManager=r,this.referenceDelegate=i,this.vn={}}return g(e,[{key:"checkEmpty",value:function(e){var t=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return tx(e).Z({index:"userMutationsIndex",range:n},(function(e,n,r){t=!1,r.done()})).next((function(){return t}))}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this,a=nx(e),o=tx(e);return o.add({}).next((function(s){qv("number"==typeof s);var u,c=new ek(s,t,n,r),l=function(e,t,n){var r=n.baseMutations.map((function(t){return Bk(e.ht,t)})),i=n.mutations.map((function(t){return Bk(e.ht,t)}));return{userId:t,batchId:n.batchId,localWriteTimeMs:n.localWriteTime.toMillis(),baseMutations:r,mutations:i}}(i.serializer,i.userId,c),f=[],d=new Sg((function(e,t){return im(e.canonicalString(),t.canonicalString())})),h=T(r);try{for(h.s();!(u=h.n()).done;){var p=u.value,v=Ym(i.userId,p.key.path,s);d=d.add(p.key.path.popLast()),f.push(o.put(l)),f.push(a.put(v,Xm))}}catch(m){h.e(m)}finally{h.f()}return d.forEach((function(t){f.push(i.indexManager.addToCollectionParentIndex(e,t))})),e.addOnCommittedListener((function(){i.vn[s]=c.keys()})),Tm.waitFor(f).next((function(){return c}))}))}},{key:"lookupMutationBatch",value:function(e,t){var n=this;return tx(e).get(t).next((function(e){return e?(qv(e.userId===n.userId),uw(n.serializer,e)):null}))}},{key:"Cn",value:function(e,t){var n=this;return this.vn[t]?Tm.resolve(this.vn[t]):this.lookupMutationBatch(e,t).next((function(e){if(e){var r=e.keys();return n.vn[t]=r,r}return null}))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=this,r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]),a=null;return tx(e).Z({index:"userMutationsIndex",range:i},(function(e,t,i){t.userId===n.userId&&(qv(t.batchId>=r),a=uw(n.serializer,t)),i.done()})).next((function(){return a}))}},{key:"getHighestUnacknowledgedBatchId",value:function(e){var t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return tx(e).Z({index:"userMutationsIndex",range:t,reverse:!0},(function(e,t,r){n=t.batchId,r.done()})).next((function(){return n}))}},{key:"getAllMutationBatches",value:function(e){var t=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return tx(e).G("userMutationsIndex",n).next((function(e){return e.map((function(e){return uw(t.serializer,e)}))}))}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=Qm(this.userId,t.path),i=IDBKeyRange.lowerBound(r),a=[];return nx(e).Z({range:i},(function(r,i,o){var s=l(r,3),u=s[0],c=s[1],f=s[2],d=Gm(c);if(u===n.userId&&t.path.isEqual(d))return tx(e).get(f).next((function(e){if(!e)throw Bv();qv(e.userId===n.userId),a.push(uw(n.serializer,e))}));o.done()})).next((function(){return a}))}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new Sg(im),i=[];return t.forEach((function(t){var a=Qm(n.userId,t.path),o=IDBKeyRange.lowerBound(a),s=nx(e).Z({range:o},(function(e,i,a){var o=l(e,3),s=o[0],u=o[1],c=o[2],f=Gm(u);s===n.userId&&t.path.isEqual(f)?r=r.add(c):a.done()}));i.push(s)})),Tm.waitFor(i).next((function(){return n.Fn(e,r)}))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=this,r=t.path,i=r.length+1,a=Qm(this.userId,r),o=IDBKeyRange.lowerBound(a),s=new Sg(im);return nx(e).Z({range:o},(function(e,t,a){var o=l(e,3),u=o[0],c=o[1],f=o[2],d=Gm(c);u===n.userId&&r.isPrefixOf(d)?d.length===i&&(s=s.add(f)):a.done()})).next((function(){return n.Fn(e,s)}))}},{key:"Fn",value:function(e,t){var n=this,r=[],i=[];return t.forEach((function(t){i.push(tx(e).get(t).next((function(e){if(null===e)throw Bv();qv(e.userId===n.userId),r.push(uw(n.serializer,e))})))})),Tm.waitFor(i).next((function(){return r}))}},{key:"removeMutationBatch",value:function(e,t){var n=this;return $w(e.ue,this.userId,t).next((function(r){return e.addOnCommittedListener((function(){n.Mn(t.batchId)})),Tm.forEach(r,(function(t){return n.referenceDelegate.markPotentiallyOrphaned(e,t)}))}))}},{key:"Mn",value:function(e){delete this.vn[e]}},{key:"performConsistencyCheck",value:function(e){var t=this;return this.checkEmpty(e).next((function(n){if(!n)return Tm.resolve();var r=IDBKeyRange.lowerBound(function(e){return[e]}(t.userId)),i=[];return nx(e).Z({range:r},(function(e,n,r){if(e[0]===t.userId){var a=Gm(e[1]);i.push(a)}else r.done()})).next((function(){qv(0===i.length)}))}))}},{key:"containsKey",value:function(e,t){return ex(e,this.userId,t)}},{key:"xn",value:function(e){var t=this;return rx(e).get(this.userId).next((function(e){return e||{userId:t.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""}}))}}],[{key:"Pt",value:function(t,n,r,i){return qv(""!==t.uid),new e(t.isAuthenticated()?t.uid:"",n,r,i)}}]),e}();function ex(e,t,n){var r=Qm(t,n.path),i=r[1],a=IDBKeyRange.lowerBound(r),o=!1;return nx(e).Z({range:a,Y:!0},(function(e,n,r){var a=l(e,3),s=a[0],u=a[1];a[2];s===t&&u===i&&(o=!0),r.done()})).next((function(){return o}))}function tx(e){return gg(e,"mutations")}function nx(e){return gg(e,"documentMutations")}function rx(e){return gg(e,"mutationQueues")}var ix=function(){function e(t){h(this,e),this.On=t}return g(e,[{key:"next",value:function(){return this.On+=2,this.On}}],[{key:"Nn",value:function(){return new e(0)}},{key:"Bn",value:function(){return new e(-1)}}]),e}(),ax=function(){function e(t,n){h(this,e),this.referenceDelegate=t,this.serializer=n}return g(e,[{key:"allocateTargetId",value:function(e){var t=this;return this.Ln(e).next((function(n){var r=new ix(n.highestTargetId);return n.highestTargetId=r.next(),t.kn(e,n).next((function(){return n.highestTargetId}))}))}},{key:"getLastRemoteSnapshotVersion",value:function(e){return this.Ln(e).next((function(e){return um.fromTimestamp(new sm(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds))}))}},{key:"getHighestSequenceNumber",value:function(e){return this.Ln(e).next((function(e){return e.highestListenSequenceNumber}))}},{key:"setTargetsMetadata",value:function(e,t,n){var r=this;return this.Ln(e).next((function(i){return i.highestListenSequenceNumber=t,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),r.kn(e,i)}))}},{key:"addTargetData",value:function(e,t){var n=this;return this.qn(e,t).next((function(){return n.Ln(e).next((function(r){return r.targetCount+=1,n.Qn(t,r),n.kn(e,r)}))}))}},{key:"updateTargetData",value:function(e,t){return this.qn(e,t)}},{key:"removeTargetData",value:function(e,t){var n=this;return this.removeMatchingKeysForTargetId(e,t.targetId).next((function(){return ox(e).delete(t.targetId)})).next((function(){return n.Ln(e)})).next((function(t){return qv(t.targetCount>0),t.targetCount-=1,n.kn(e,t)}))}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return ox(e).Z((function(o,s){var u=cw(s);u.sequenceNumber<=t&&null===n.get(u.targetId)&&(i++,a.push(r.removeTargetData(e,u)))})).next((function(){return Tm.waitFor(a)})).next((function(){return i}))}},{key:"forEachTarget",value:function(e,t){return ox(e).Z((function(e,n){var r=cw(n);t(r)}))}},{key:"Ln",value:function(e){return sx(e).get("targetGlobalKey").next((function(e){return qv(null!==e),e}))}},{key:"kn",value:function(e,t){return sx(e).put("targetGlobalKey",t)}},{key:"qn",value:function(e,t){return ox(e).put(lw(this.serializer,t))}},{key:"Qn",value:function(e,t){var n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n}},{key:"getTargetCount",value:function(e){return this.Ln(e).next((function(e){return e.targetCount}))}},{key:"getTargetData",value:function(e,t){var n=Dy(t),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return ox(e).Z({range:r,index:"queryTargetsIndex"},(function(e,n,r){var a=cw(n);Ly(t,a.target)&&(i=a,r.done())})).next((function(){return i}))}},{key:"addMatchingKeys",value:function(e,t,n){var r=this,i=[],a=ux(e);return t.forEach((function(t){var o=qm(t.path);i.push(a.put({targetId:n,path:o})),i.push(r.referenceDelegate.addReference(e,n,t))})),Tm.waitFor(i)}},{key:"removeMatchingKeys",value:function(e,t,n){var r=this,i=ux(e);return Tm.forEach(t,(function(t){var a=qm(t.path);return Tm.waitFor([i.delete([n,a]),r.referenceDelegate.removeReference(e,n,t)])}))}},{key:"removeMatchingKeysForTargetId",value:function(e,t){var n=ux(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(r)}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=IDBKeyRange.bound([t],[t+1],!1,!0),r=ux(e),i=gb();return r.Z({range:n,Y:!0},(function(e,t,n){var r=Gm(e[1]),a=new hm(r);i=i.add(a)})).next((function(){return i}))}},{key:"containsKey",value:function(e,t){var n=qm(t.path),r=IDBKeyRange.bound([n],[om(n)],!1,!0),i=0;return ux(e).Z({index:"documentTargetsIndex",Y:!0,range:r},(function(e,t,n){var r=l(e,2),a=r[0];r[1];0!==a&&(i++,n.done())})).next((function(){return i>0}))}},{key:"lt",value:function(e,t){return ox(e).get(t).next((function(e){return e?cw(e):null}))}}]),e}();function ox(e){return gg(e,"targets")}function sx(e){return gg(e,"targetGlobal")}function ux(e){return gg(e,"targetDocuments")}function cx(e,t){var n=l(e,2),r=n[0],i=n[1],a=l(t,2),o=a[0],s=a[1],u=im(r,o);return 0===u?im(i,s):u}var lx=function(){function e(t){h(this,e),this.Kn=t,this.buffer=new Sg(cx),this.$n=0}return g(e,[{key:"Un",value:function(){return++this.$n}},{key:"Wn",value:function(e){var t=[e,this.Un()];if(this.buffer.size<this.Kn)this.buffer=this.buffer.add(t);else{var n=this.buffer.last();cx(t,n)<0&&(this.buffer=this.buffer.delete(n).add(t))}}},{key:"maxValue",get:function(){return this.buffer.last()[0]}}]),e}(),fx=function(){function e(t,n,r){h(this,e),this.garbageCollector=t,this.asyncQueue=n,this.localStore=r,this.Gn=null}return g(e,[{key:"start",value:function(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.zn(6e4)}},{key:"stop",value:function(){this.Gn&&(this.Gn.cancel(),this.Gn=null)}},{key:"started",get:function(){return null!==this.Gn}},{key:"zn",value:function(e){var t=this;Uv("LruGarbageCollector","Garbage collection scheduled in ".concat(e,"ms")),this.Gn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,Ze($e().mark((function e(){return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.Gn=null,e.prev=1,e.next=4,t.localStore.collectGarbage(t.garbageCollector);case 4:e.next=14;break;case 6:if(e.prev=6,e.t0=e.catch(1),!Am(e.t0)){e.next=12;break}Uv("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e.t0),e.next=14;break;case 12:return e.next=14,Em(e.t0);case 14:return e.next=16,t.zn(3e5);case 16:case"end":return e.stop()}}),e,null,[[1,6]])}))))}}]),e}(),dx=function(){function e(t,n){h(this,e),this.jn=t,this.params=n}return g(e,[{key:"calculateTargetCount",value:function(e,t){return this.jn.Hn(e).next((function(e){return Math.floor(t/100*e)}))}},{key:"nthSequenceNumber",value:function(e,t){var n=this;if(0===t)return Tm.resolve(Fm.ae);var r=new lx(t);return this.jn.forEachTarget(e,(function(e){return r.Wn(e.sequenceNumber)})).next((function(){return n.jn.Jn(e,(function(e){return r.Wn(e)}))})).next((function(){return r.maxValue}))}},{key:"removeTargets",value:function(e,t,n){return this.jn.removeTargets(e,t,n)}},{key:"removeOrphanedDocuments",value:function(e,t){return this.jn.removeOrphanedDocuments(e,t)}},{key:"collect",value:function(e,t){var n=this;return-1===this.params.cacheSizeCollectionThreshold?(Uv("LruGarbageCollector","Garbage collection skipped; disabled"),Tm.resolve(Yw)):this.getCacheSize(e).next((function(r){return r<n.params.cacheSizeCollectionThreshold?(Uv("LruGarbageCollector","Garbage collection skipped; Cache size ".concat(r," is lower than threshold ").concat(n.params.cacheSizeCollectionThreshold)),Yw):n.Yn(e,t)}))}},{key:"getCacheSize",value:function(e){return this.jn.getCacheSize(e)}},{key:"Yn",value:function(e,t){var n,r,i,a,o,s,u,c=this,l=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((function(t){return t>c.params.maximumSequenceNumbersToCollect?(Uv("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of ".concat(c.params.maximumSequenceNumbersToCollect," from ").concat(t)),r=c.params.maximumSequenceNumbersToCollect):r=t,a=Date.now(),c.nthSequenceNumber(e,r)})).next((function(r){return n=r,o=Date.now(),c.removeTargets(e,n,t)})).next((function(t){return i=t,s=Date.now(),c.removeOrphanedDocuments(e,n)})).next((function(e){return u=Date.now(),Mv()<=sn.DEBUG&&Uv("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in ".concat(a-l,"ms\n\tDetermined least recently used ").concat(r," in ")+(o-a)+"ms\n"+"\tRemoved ".concat(i," targets in ")+(s-o)+"ms\n"+"\tRemoved ".concat(e," documents in ")+(u-s)+"ms\n"+"Total Duration: ".concat(u-l,"ms")),Tm.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e})}))}}]),e}();function hx(e,t){return new dx(e,t)}var px=function(){function e(t,n){h(this,e),this.db=t,this.garbageCollector=hx(this,n)}return g(e,[{key:"Hn",value:function(e){var t=this.Zn(e);return this.db.getTargetCache().getTargetCount(e).next((function(e){return t.next((function(t){return e+t}))}))}},{key:"Zn",value:function(e){var t=0;return this.Jn(e,(function(e){t++})).next((function(){return t}))}},{key:"forEachTarget",value:function(e,t){return this.db.getTargetCache().forEachTarget(e,t)}},{key:"Jn",value:function(e,t){return this.Xn(e,(function(e,n){return t(n)}))}},{key:"addReference",value:function(e,t,n){return vx(e,n)}},{key:"removeReference",value:function(e,t,n){return vx(e,n)}},{key:"removeTargets",value:function(e,t,n){return this.db.getTargetCache().removeTargets(e,t,n)}},{key:"markPotentiallyOrphaned",value:function(e,t){return vx(e,t)}},{key:"er",value:function(e,t){return function(e,t){var n=!1;return rx(e).X((function(r){return ex(e,r,t).next((function(e){return e&&(n=!0),Tm.resolve(!e)}))})).next((function(){return n}))}(e,t)}},{key:"removeOrphanedDocuments",value:function(e,t){var n=this,r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],a=0;return this.Xn(e,(function(o,s){if(s<=t){var u=n.er(e,o).next((function(t){if(!t)return a++,r.getEntry(e,o).next((function(){return r.removeEntry(o,um.min()),ux(e).delete(function(e){return[0,qm(e.path)]}(o))}))}));i.push(u)}})).next((function(){return Tm.waitFor(i)})).next((function(){return r.apply(e)})).next((function(){return a}))}},{key:"removeTarget",value:function(e,t){var n=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)}},{key:"updateLimboDocument",value:function(e,t){return vx(e,t)}},{key:"Xn",value:function(e,t){var n,r=ux(e),i=Fm.ae;return r.Z({index:"documentTargetsIndex"},(function(e,r){var a=l(e,2),o=a[0],s=(a[1],r.path),u=r.sequenceNumber;0===o?(i!==Fm.ae&&t(new hm(Gm(n)),i),i=u,n=s):i=Fm.ae})).next((function(){i!==Fm.ae&&t(new hm(Gm(n)),i)}))}},{key:"getCacheSize",value:function(e){return this.db.getRemoteDocumentCache().getSize(e)}}]),e}();function vx(e,t){return ux(e).put(function(e,t){return{targetId:0,path:qm(e.path),sequenceNumber:t}}(t,e.currentSequenceNumber))}var mx=function(){function e(){h(this,e),this.changes=new ob((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),this.changesApplied=!1}return g(e,[{key:"addEntry",value:function(e){this.assertNotApplied(),this.changes.set(e.key,e)}},{key:"removeEntry",value:function(e,t){this.assertNotApplied(),this.changes.set(e,uy.newInvalidDocument(e).setReadTime(t))}},{key:"getEntry",value:function(e,t){this.assertNotApplied();var n=this.changes.get(t);return void 0!==n?Tm.resolve(n):this.getFromCache(e,t)}},{key:"getEntries",value:function(e,t){return this.getAllFromCache(e,t)}},{key:"apply",value:function(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}},{key:"assertNotApplied",value:function(){}}]),e}(),gx=function(){function e(t){h(this,e),this.serializer=t}return g(e,[{key:"setIndexManager",value:function(e){this.indexManager=e}},{key:"addEntry",value:function(e,t,n){return wx(e).put(n)}},{key:"removeEntry",value:function(e,t,n){return wx(e).delete(function(e,t){var n=e.path.toArray();return[n.slice(0,n.length-2),n[n.length-2],aw(t),n[n.length-1]]}(t,n))}},{key:"updateMetadata",value:function(e,t){var n=this;return this.getMetadata(e).next((function(r){return r.byteSize+=t,n.tr(e,r)}))}},{key:"getEntry",value:function(e,t){var n=this,r=uy.newInvalidDocument(t);return wx(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(xx(t))},(function(e,i){r=n.nr(t,i)})).next((function(){return r}))}},{key:"rr",value:function(e,t){var n=this,r={size:0,document:uy.newInvalidDocument(t)};return wx(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(xx(t))},(function(e,i){r={document:n.nr(t,i),size:Jw(i)}})).next((function(){return r}))}},{key:"getEntries",value:function(e,t){var n=this,r=ub();return this.ir(e,t,(function(e,t){var i=n.nr(e,t);r=r.insert(e,i)})).next((function(){return r}))}},{key:"sr",value:function(e,t){var n=this,r=ub(),i=new wg(hm.comparator);return this.ir(e,t,(function(e,t){var a=n.nr(e,t);r=r.insert(e,a),i=i.insert(e,Jw(t))})).next((function(){return{documents:r,_r:i}}))}},{key:"ir",value:function(e,t,n){if(t.isEmpty())return Tm.resolve();var r=new Sg(Sx);t.forEach((function(e){return r=r.add(e)}));var i=IDBKeyRange.bound(xx(r.first()),xx(r.last())),a=r.getIterator(),o=a.getNext();return wx(e).Z({index:"documentKeyIndex",range:i},(function(e,t,r){for(var i=hm.fromSegments([].concat(d(t.prefixPath),[t.collectionGroup,t.documentId]));o&&Sx(o,i)<0;)n(o,null),o=a.getNext();o&&o.isEqual(i)&&(n(o,t),o=a.hasNext()?a.getNext():null),o?r.W(xx(o)):r.done()})).next((function(){for(;o;)n(o,null),o=a.hasNext()?a.getNext():null}))}},{key:"getDocumentsMatchingQuery",value:function(e,t,n,r){var i=this,a=t.path,o=[a.popLast().toArray(),a.lastSegment(),aw(n.readTime),n.documentKey.path.isEmpty()?"":n.documentKey.path.lastSegment()],s=[a.popLast().toArray(),a.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return wx(e).G(IDBKeyRange.bound(o,s,!0)).next((function(e){var n,a=ub(),o=T(e);try{for(o.s();!(n=o.n()).done;){var s=n.value,u=i.nr(hm.fromSegments(s.prefixPath.concat(s.collectionGroup,s.documentId)),s);u.isFoundDocument()&&(nb(t,u)||r.has(u.key))&&(a=a.insert(u.key,u))}}catch(c){o.e(c)}finally{o.f()}return a}))}},{key:"getAllFromCollectionGroup",value:function(e,t,n,r){var i=this,a=ub(),o=_x(t,n),s=_x(t,wm.max());return wx(e).Z({index:"collectionGroupIndex",range:IDBKeyRange.bound(o,s,!0)},(function(e,t,n){var o=i.nr(hm.fromSegments(t.prefixPath.concat(t.collectionGroup,t.documentId)),t);(a=a.insert(o.key,o)).size===r&&n.done()})).next((function(){return a}))}},{key:"newChangeBuffer",value:function(e){return new bx(this,!!e&&e.trackRemovals)}},{key:"getSize",value:function(e){return this.getMetadata(e).next((function(e){return e.byteSize}))}},{key:"getMetadata",value:function(e){return kx(e).get("remoteDocumentGlobalKey").next((function(e){return qv(!!e),e}))}},{key:"tr",value:function(e,t){return kx(e).put("remoteDocumentGlobalKey",t)}},{key:"nr",value:function(e,t){if(t){var n=function(e,t){var n;if(t.document)n=zk(e.ht,t.document,!!t.hasCommittedMutations);else if(t.noDocument){var r=hm.fromSegments(t.noDocument.path),i=sw(t.noDocument.readTime);n=uy.newNoDocument(r,i),t.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!t.unknownDocument)return Bv();var a=hm.fromSegments(t.unknownDocument.path),o=sw(t.unknownDocument.version);n=uy.newUnknownDocument(a,o)}return t.readTime&&n.setReadTime(function(e){var t=new sm(e[0],e[1]);return um.fromTimestamp(t)}(t.readTime)),n}(this.serializer,t);if(!n.isNoDocument()||!n.version.isEqual(um.min()))return n}return uy.newInvalidDocument(e)}}]),e}();function yx(e){return new gx(e)}var bx=function(e){b(n,e);var t=_(n);function n(e,r){var i;return h(this,n),(i=t.call(this)).ar=e,i.trackRemovals=r,i.ur=new ob((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),i}return g(n,[{key:"applyChanges",value:function(e){var t=this,n=[],r=0,i=new Sg((function(e,t){return im(e.canonicalString(),t.canonicalString())}));return this.changes.forEach((function(a,o){var s=t.ur.get(a);if(n.push(t.ar.removeEntry(e,a,s.readTime)),o.isValidDocument()){var u=iw(t.ar.serializer,o);i=i.add(a.path.popLast());var c=Jw(u);r+=c-s.size,n.push(t.ar.addEntry(e,a,u))}else if(r-=s.size,t.trackRemovals){var l=iw(t.ar.serializer,o.convertToNoDocument(um.min()));n.push(t.ar.addEntry(e,a,l))}})),i.forEach((function(r){n.push(t.ar.indexManager.addToCollectionParentIndex(e,r))})),n.push(this.ar.updateMetadata(e,r)),Tm.waitFor(n)}},{key:"getFromCache",value:function(e,t){var n=this;return this.ar.rr(e,t).next((function(e){return n.ur.set(t,{size:e.size,readTime:e.document.readTime}),e.document}))}},{key:"getAllFromCache",value:function(e,t){var n=this;return this.ar.sr(e,t).next((function(e){var t=e.documents;return e._r.forEach((function(e,r){n.ur.set(e,{size:r,readTime:t.get(e).readTime})})),t}))}}]),n}(mx);function kx(e){return gg(e,"remoteDocumentGlobal")}function wx(e){return gg(e,"remoteDocumentsV14")}function xx(e){var t=e.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}function _x(e,t){var n=t.documentKey.path.toArray();return[e,aw(t.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function Sx(e,t){for(var n=e.path.toArray(),r=t.path.toArray(),i=0,a=0;a<n.length-2&&a<r.length-2;++a)if(i=im(n[a],r[a]))return i;return(i=im(n.length,r.length))||((i=im(n[n.length-2],r[r.length-2]))||im(n[n.length-1],r[r.length-1]))}var Ex=g((function e(t,n){h(this,e),this.overlayedDocument=t,this.mutatedFields=n})),Ix=function(){function e(t,n,r,i){h(this,e),this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}return g(e,[{key:"getDocument",value:function(e,t){var n=this,r=null;return this.documentOverlayCache.getOverlay(e,t).next((function(i){return r=i,n.remoteDocumentCache.getEntry(e,t)})).next((function(e){return null!==r&&Bb(r.mutation,e,Tg.empty(),sm.now()),e}))}},{key:"getDocuments",value:function(e,t){var n=this;return this.remoteDocumentCache.getEntries(e,t).next((function(t){return n.getLocalViewOfDocuments(e,t,gb()).next((function(){return t}))}))}},{key:"getLocalViewOfDocuments",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:gb(),i=db();return this.populateOverlays(e,i,t).next((function(){return n.computeViews(e,t,i,r).next((function(e){var t=lb();return e.forEach((function(e,n){t=t.insert(e,n.overlayedDocument)})),t}))}))}},{key:"getOverlayedDocuments",value:function(e,t){var n=this,r=db();return this.populateOverlays(e,r,t).next((function(){return n.computeViews(e,t,r,gb())}))}},{key:"populateOverlays",value:function(e,t,n){var r=[];return n.forEach((function(e){t.has(e)||r.push(e)})),this.documentOverlayCache.getOverlays(e,r).next((function(e){e.forEach((function(e,n){t.set(e,n)}))}))}},{key:"computeViews",value:function(e,t,n,r){var i=ub(),a=pb(),o=pb();return t.forEach((function(e,t){var o=n.get(t.key);r.has(t.key)&&(void 0===o||o.mutation instanceof Gb)?i=i.insert(t.key,t):void 0!==o?(a.set(t.key,o.mutation.getFieldMask()),Bb(o.mutation,t,o.mutation.getFieldMask(),sm.now())):a.set(t.key,Tg.empty())})),this.recalculateAndSaveOverlays(e,i).next((function(e){return e.forEach((function(e,t){return a.set(e,t)})),t.forEach((function(e,t){var n;return o.set(e,new Ex(t,null!==(n=a.get(e))&&void 0!==n?n:null))})),o}))}},{key:"recalculateAndSaveOverlays",value:function(e,t){var n=this,r=pb(),i=new wg((function(e,t){return e-t})),a=gb();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((function(e){var n,a=T(e);try{var o=function(){var e=n.value;e.keys().forEach((function(n){var a=t.get(n);if(null!==a){var o=r.get(n)||Tg.empty();o=e.applyToLocalView(a,o),r.set(n,o);var s=(i.get(e.batchId)||gb()).add(n);i=i.insert(e.batchId,s)}}))};for(a.s();!(n=a.n()).done;)o()}catch(s){a.e(s)}finally{a.f()}})).next((function(){for(var o=[],s=i.getReverseIterator(),u=function(){var i=s.getNext(),u=i.key,c=i.value,l=hb();c.forEach((function(e){if(!a.has(e)){var n=zb(t.get(e),r.get(e));null!==n&&l.set(e,n),a=a.add(e)}})),o.push(n.documentOverlayCache.saveOverlays(e,u,l))};s.hasNext();)u();return Tm.waitFor(o)})).next((function(){return r}))}},{key:"recalculateAndSaveOverlaysForDocumentKeys",value:function(e,t){var n=this;return this.remoteDocumentCache.getEntries(e,t).next((function(t){return n.recalculateAndSaveOverlays(e,t)}))}},{key:"getDocumentsMatchingQuery",value:function(e,t,n){return function(e){return hm.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):Ky(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n):this.getDocumentsMatchingCollectionQuery(e,t,n)}},{key:"getNextDocuments",value:function(e,t,n,r){var i=this;return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next((function(a){var o=r-a.size>0?i.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-a.size):Tm.resolve(db()),s=-1,u=a;return o.next((function(t){return Tm.forEach(t,(function(t,n){return s<n.largestBatchId&&(s=n.largestBatchId),a.get(t)?Tm.resolve():i.remoteDocumentCache.getEntry(e,t).next((function(e){u=u.insert(t,e)}))})).next((function(){return i.populateOverlays(e,t,a)})).next((function(){return i.computeViews(e,u,t,gb())})).next((function(e){return{batchId:s,changes:fb(e)}}))}))}))}},{key:"getDocumentsMatchingDocumentQuery",value:function(e,t){return this.getDocument(e,new hm(t)).next((function(e){var t=lb();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}},{key:"getDocumentsMatchingCollectionGroupQuery",value:function(e,t,n){var r=this,i=t.collectionGroup,a=lb();return this.indexManager.getCollectionParents(e,i).next((function(o){return Tm.forEach(o,(function(o){var s=function(e,t){return new Vy(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,o.child(i));return r.getDocumentsMatchingCollectionQuery(e,s,n).next((function(e){e.forEach((function(e,t){a=a.insert(e,t)}))}))})).next((function(){return a}))}))}},{key:"getDocumentsMatchingCollectionQuery",value:function(e,t,n){var r,i=this;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next((function(a){return r=a,i.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,r)})).next((function(e){r.forEach((function(t,n){var r=n.getKey();null===e.get(r)&&(e=e.insert(r,uy.newInvalidDocument(r)))}));var n=lb();return e.forEach((function(e,i){var a=r.get(e);void 0!==a&&Bb(a.mutation,i,Tg.empty(),sm.now()),nb(t,i)&&(n=n.insert(e,i))})),n}))}}]),e}(),Tx=function(){function e(t){h(this,e),this.serializer=t,this.cr=new Map,this.lr=new Map}return g(e,[{key:"getBundleMetadata",value:function(e,t){return Tm.resolve(this.cr.get(t))}},{key:"saveBundleMetadata",value:function(e,t){return this.cr.set(t.id,function(e){return{id:e.id,version:e.version,createTime:Ok(e.createTime)}}(t)),Tm.resolve()}},{key:"getNamedQuery",value:function(e,t){return Tm.resolve(this.lr.get(t))}},{key:"saveNamedQuery",value:function(e,t){return this.lr.set(t.name,function(e){return{name:e.name,query:fw(e.bundledQuery),readTime:Ok(e.readTime)}}(t)),Tm.resolve()}}]),e}(),Cx=function(){function e(){h(this,e),this.overlays=new wg(hm.comparator),this.hr=new Map}return g(e,[{key:"getOverlay",value:function(e,t){return Tm.resolve(this.overlays.get(t))}},{key:"getOverlays",value:function(e,t){var n=this,r=db();return Tm.forEach(t,(function(t){return n.getOverlay(e,t).next((function(e){null!==e&&r.set(t,e)}))})).next((function(){return r}))}},{key:"saveOverlays",value:function(e,t,n){var r=this;return n.forEach((function(n,i){r.It(e,t,i)})),Tm.resolve()}},{key:"removeOverlaysForBatchId",value:function(e,t,n){var r=this,i=this.hr.get(n);return void 0!==i&&(i.forEach((function(e){return r.overlays=r.overlays.remove(e)})),this.hr.delete(n)),Tm.resolve()}},{key:"getOverlaysForCollection",value:function(e,t,n){for(var r=db(),i=t.length+1,a=new hm(t.child("")),o=this.overlays.getIteratorFrom(a);o.hasNext();){var s=o.getNext().value,u=s.getKey();if(!t.isPrefixOf(u.path))break;u.path.length===i&&s.largestBatchId>n&&r.set(s.getKey(),s)}return Tm.resolve(r)}},{key:"getOverlaysForCollectionGroup",value:function(e,t,n,r){for(var i=new wg((function(e,t){return e-t})),a=this.overlays.getIterator();a.hasNext();){var o=a.getNext().value;if(o.getKey().getCollectionGroup()===t&&o.largestBatchId>n){var s=i.get(o.largestBatchId);null===s&&(s=db(),i=i.insert(o.largestBatchId,s)),s.set(o.getKey(),o)}}for(var u=db(),c=i.getIterator();c.hasNext()&&(c.getNext().value.forEach((function(e,t){return u.set(e,t)})),!(u.size()>=r)););return Tm.resolve(u)}},{key:"It",value:function(e,t,n){var r=this.overlays.get(n.key);if(null!==r){var i=this.hr.get(r.largestBatchId).delete(n.key);this.hr.set(r.largestBatchId,i)}this.overlays=this.overlays.insert(n.key,new nk(t,n));var a=this.hr.get(t);void 0===a&&(a=gb(),this.hr.set(t,a)),this.hr.set(t,a.add(n.key))}}]),e}(),Nx=function(){function e(){h(this,e),this.Pr=new Sg(Ox.Ir),this.Tr=new Sg(Ox.Er)}return g(e,[{key:"isEmpty",value:function(){return this.Pr.isEmpty()}},{key:"addReference",value:function(e,t){var n=new Ox(e,t);this.Pr=this.Pr.add(n),this.Tr=this.Tr.add(n)}},{key:"dr",value:function(e,t){var n=this;e.forEach((function(e){return n.addReference(e,t)}))}},{key:"removeReference",value:function(e,t){this.Ar(new Ox(e,t))}},{key:"Rr",value:function(e,t){var n=this;e.forEach((function(e){return n.removeReference(e,t)}))}},{key:"Vr",value:function(e){var t=this,n=new hm(new lm([])),r=new Ox(n,e),i=new Ox(n,e+1),a=[];return this.Tr.forEachInRange([r,i],(function(e){t.Ar(e),a.push(e.key)})),a}},{key:"mr",value:function(){var e=this;this.Pr.forEach((function(t){return e.Ar(t)}))}},{key:"Ar",value:function(e){this.Pr=this.Pr.delete(e),this.Tr=this.Tr.delete(e)}},{key:"gr",value:function(e){var t=new hm(new lm([])),n=new Ox(t,e),r=new Ox(t,e+1),i=gb();return this.Tr.forEachInRange([n,r],(function(e){i=i.add(e.key)})),i}},{key:"containsKey",value:function(e){var t=new Ox(e,0),n=this.Pr.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}]),e}(),Ox=function(){function e(t,n){h(this,e),this.key=t,this.pr=n}return g(e,null,[{key:"Ir",value:function(e,t){return hm.comparator(e.key,t.key)||im(e.pr,t.pr)}},{key:"Er",value:function(e,t){return im(e.pr,t.pr)||hm.comparator(e.key,t.key)}}]),e}(),Px=function(){function e(t,n){h(this,e),this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.yr=1,this.wr=new Sg(Ox.Ir)}return g(e,[{key:"checkEmpty",value:function(e){return Tm.resolve(0===this.mutationQueue.length)}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this.yr;this.yr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];var a=new ek(i,t,n,r);this.mutationQueue.push(a);var o,s=T(r);try{for(s.s();!(o=s.n()).done;){var u=o.value;this.wr=this.wr.add(new Ox(u.key,i)),this.indexManager.addToCollectionParentIndex(e,u.key.path.popLast())}}catch(c){s.e(c)}finally{s.f()}return Tm.resolve(a)}},{key:"lookupMutationBatch",value:function(e,t){return Tm.resolve(this.Sr(t))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=t+1,r=this.br(n),i=r<0?0:r;return Tm.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}},{key:"getHighestUnacknowledgedBatchId",value:function(){return Tm.resolve(0===this.mutationQueue.length?-1:this.yr-1)}},{key:"getAllMutationBatches",value:function(e){return Tm.resolve(this.mutationQueue.slice())}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=new Ox(t,0),i=new Ox(t,Number.POSITIVE_INFINITY),a=[];return this.wr.forEachInRange([r,i],(function(e){var t=n.Sr(e.pr);a.push(t)})),Tm.resolve(a)}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new Sg(im);return t.forEach((function(e){var t=new Ox(e,0),i=new Ox(e,Number.POSITIVE_INFINITY);n.wr.forEachInRange([t,i],(function(e){r=r.add(e.pr)}))})),Tm.resolve(this.Dr(r))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=t.path,r=n.length+1,i=n;hm.isDocumentKey(i)||(i=i.child(""));var a=new Ox(new hm(i),0),o=new Sg(im);return this.wr.forEachWhile((function(e){var t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(o=o.add(e.pr)),!0)}),a),Tm.resolve(this.Dr(o))}},{key:"Dr",value:function(e){var t=this,n=[];return e.forEach((function(e){var r=t.Sr(e);null!==r&&n.push(r)})),n}},{key:"removeMutationBatch",value:function(e,t){var n=this;qv(0===this.vr(t.batchId,"removed")),this.mutationQueue.shift();var r=this.wr;return Tm.forEach(t.mutations,(function(i){var a=new Ox(i.key,t.batchId);return r=r.delete(a),n.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((function(){n.wr=r}))}},{key:"Mn",value:function(e){}},{key:"containsKey",value:function(e,t){var n=new Ox(t,0),r=this.wr.firstAfterOrEqual(n);return Tm.resolve(t.isEqual(r&&r.key))}},{key:"performConsistencyCheck",value:function(e){return this.mutationQueue.length,Tm.resolve()}},{key:"vr",value:function(e,t){return this.br(e)}},{key:"br",value:function(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}},{key:"Sr",value:function(e){var t=this.br(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}]),e}(),Ax=function(){function e(t){h(this,e),this.Cr=t,this.docs=new wg(hm.comparator),this.size=0}return g(e,[{key:"setIndexManager",value:function(e){this.indexManager=e}},{key:"addEntry",value:function(e,t){var n=t.key,r=this.docs.get(n),i=r?r.size:0,a=this.Cr(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:a}),this.size+=a-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}},{key:"removeEntry",value:function(e){var t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}},{key:"getEntry",value:function(e,t){var n=this.docs.get(t);return Tm.resolve(n?n.document.mutableCopy():uy.newInvalidDocument(t))}},{key:"getEntries",value:function(e,t){var n=this,r=ub();return t.forEach((function(e){var t=n.docs.get(e);r=r.insert(e,t?t.document.mutableCopy():uy.newInvalidDocument(e))})),Tm.resolve(r)}},{key:"getDocumentsMatchingQuery",value:function(e,t,n,r){for(var i=ub(),a=t.path,o=new hm(a.child("")),s=this.docs.getIteratorFrom(o);s.hasNext();){var u=s.getNext(),c=u.key,l=u.value.document;if(!a.isPrefixOf(c.path))break;c.path.length>a.length+1||xm(km(l),n)<=0||(r.has(l.key)||nb(t,l))&&(i=i.insert(l.key,l.mutableCopy()))}return Tm.resolve(i)}},{key:"getAllFromCollectionGroup",value:function(e,t,n,r){Bv()}},{key:"Fr",value:function(e,t){return Tm.forEach(this.docs,(function(e){return t(e)}))}},{key:"newChangeBuffer",value:function(e){return new Rx(this)}},{key:"getSize",value:function(e){return Tm.resolve(this.size)}}]),e}(),Rx=function(e){b(n,e);var t=_(n);function n(e){var r;return h(this,n),(r=t.call(this)).ar=e,r}return g(n,[{key:"applyChanges",value:function(e){var t=this,n=[];return this.changes.forEach((function(r,i){i.isValidDocument()?n.push(t.ar.addEntry(e,i)):t.ar.removeEntry(r)})),Tm.waitFor(n)}},{key:"getFromCache",value:function(e,t){return this.ar.getEntry(e,t)}},{key:"getAllFromCache",value:function(e,t){return this.ar.getEntries(e,t)}}]),n}(mx),jx=function(){function e(t){h(this,e),this.persistence=t,this.Mr=new ob((function(e){return Dy(e)}),Ly),this.lastRemoteSnapshotVersion=um.min(),this.highestTargetId=0,this.Or=0,this.Nr=new Nx,this.targetCount=0,this.Br=ix.Nn()}return g(e,[{key:"forEachTarget",value:function(e,t){return this.Mr.forEach((function(e,n){return t(n)})),Tm.resolve()}},{key:"getLastRemoteSnapshotVersion",value:function(e){return Tm.resolve(this.lastRemoteSnapshotVersion)}},{key:"getHighestSequenceNumber",value:function(e){return Tm.resolve(this.Or)}},{key:"allocateTargetId",value:function(e){return this.highestTargetId=this.Br.next(),Tm.resolve(this.highestTargetId)}},{key:"setTargetsMetadata",value:function(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.Or&&(this.Or=t),Tm.resolve()}},{key:"qn",value:function(e){this.Mr.set(e.target,e);var t=e.targetId;t>this.highestTargetId&&(this.Br=new ix(t),this.highestTargetId=t),e.sequenceNumber>this.Or&&(this.Or=e.sequenceNumber)}},{key:"addTargetData",value:function(e,t){return this.qn(t),this.targetCount+=1,Tm.resolve()}},{key:"updateTargetData",value:function(e,t){return this.qn(t),Tm.resolve()}},{key:"removeTargetData",value:function(e,t){return this.Mr.delete(t.target),this.Nr.Vr(t.targetId),this.targetCount-=1,Tm.resolve()}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return this.Mr.forEach((function(o,s){s.sequenceNumber<=t&&null===n.get(s.targetId)&&(r.Mr.delete(o),a.push(r.removeMatchingKeysForTargetId(e,s.targetId)),i++)})),Tm.waitFor(a).next((function(){return i}))}},{key:"getTargetCount",value:function(e){return Tm.resolve(this.targetCount)}},{key:"getTargetData",value:function(e,t){var n=this.Mr.get(t)||null;return Tm.resolve(n)}},{key:"addMatchingKeys",value:function(e,t,n){return this.Nr.dr(t,n),Tm.resolve()}},{key:"removeMatchingKeys",value:function(e,t,n){this.Nr.Rr(t,n);var r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((function(t){i.push(r.markPotentiallyOrphaned(e,t))})),Tm.waitFor(i)}},{key:"removeMatchingKeysForTargetId",value:function(e,t){return this.Nr.Vr(t),Tm.resolve()}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=this.Nr.gr(t);return Tm.resolve(n)}},{key:"containsKey",value:function(e,t){return Tm.resolve(this.Nr.containsKey(t))}}]),e}(),Dx=function(){function e(t,n){var r=this;h(this,e),this.Lr={},this.overlays={},this.kr=new Fm(0),this.qr=!1,this.qr=!0,this.referenceDelegate=t(this),this.Qr=new jx(this),this.indexManager=new zw,this.remoteDocumentCache=function(e){return new Ax(e)}((function(e){return r.referenceDelegate.Kr(e)})),this.serializer=new rw(n),this.$r=new Tx(this.serializer)}return g(e,[{key:"start",value:function(){return Promise.resolve()}},{key:"shutdown",value:function(){return this.qr=!1,Promise.resolve()}},{key:"started",get:function(){return this.qr}},{key:"setDatabaseDeletedListener",value:function(){}},{key:"setNetworkEnabled",value:function(){}},{key:"getIndexManager",value:function(e){return this.indexManager}},{key:"getDocumentOverlayCache",value:function(e){var t=this.overlays[e.toKey()];return t||(t=new Cx,this.overlays[e.toKey()]=t),t}},{key:"getMutationQueue",value:function(e,t){var n=this.Lr[e.toKey()];return n||(n=new Px(t,this.referenceDelegate),this.Lr[e.toKey()]=n),n}},{key:"getTargetCache",value:function(){return this.Qr}},{key:"getRemoteDocumentCache",value:function(){return this.remoteDocumentCache}},{key:"getBundleCache",value:function(){return this.$r}},{key:"runTransaction",value:function(e,t,n){var r=this;Uv("MemoryPersistence","Starting transaction:",e);var i=new Lx(this.kr.next());return this.referenceDelegate.Ur(),n(i).next((function(e){return r.referenceDelegate.Wr(i).next((function(){return e}))})).toPromise().then((function(e){return i.raiseOnCommittedEvent(),e}))}},{key:"Gr",value:function(e,t){return Tm.or(Object.values(this.Lr).map((function(n){return function(){return n.containsKey(e,t)}})))}}]),e}(),Lx=function(e){b(n,e);var t=_(n);function n(e){var r;return h(this,n),(r=t.call(this)).currentSequenceNumber=e,r}return g(n)}(Sm),Mx=function(){function e(t){h(this,e),this.persistence=t,this.zr=new Nx,this.jr=null}return g(e,[{key:"Jr",get:function(){if(this.jr)return this.jr;throw Bv()}},{key:"addReference",value:function(e,t,n){return this.zr.addReference(n,t),this.Jr.delete(n.toString()),Tm.resolve()}},{key:"removeReference",value:function(e,t,n){return this.zr.removeReference(n,t),this.Jr.add(n.toString()),Tm.resolve()}},{key:"markPotentiallyOrphaned",value:function(e,t){return this.Jr.add(t.toString()),Tm.resolve()}},{key:"removeTarget",value:function(e,t){var n=this;this.zr.Vr(t.targetId).forEach((function(e){return n.Jr.add(e.toString())}));var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((function(e){e.forEach((function(e){return n.Jr.add(e.toString())}))})).next((function(){return r.removeTargetData(e,t)}))}},{key:"Ur",value:function(){this.jr=new Set}},{key:"Wr",value:function(e){var t=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Tm.forEach(this.Jr,(function(r){var i=hm.fromPath(r);return t.Yr(e,i).next((function(e){e||n.removeEntry(i,um.min())}))})).next((function(){return t.jr=null,n.apply(e)}))}},{key:"updateLimboDocument",value:function(e,t){var n=this;return this.Yr(e,t).next((function(e){e?n.Jr.delete(t.toString()):n.Jr.add(t.toString())}))}},{key:"Kr",value:function(e){return 0}},{key:"Yr",value:function(e,t){var n=this;return Tm.or([function(){return Tm.resolve(n.zr.containsKey(t))},function(){return n.persistence.getTargetCache().containsKey(e,t)},function(){return n.persistence.Gr(e,t)}])}}],[{key:"Hr",value:function(t){return new e(t)}}]),e}(),Ux=function(){function e(t){h(this,e),this.serializer=t}return g(e,[{key:"B",value:function(e,t,n,r){var i=this,a=new Cm("createOrUpgrade",t);n<1&&r>=1&&(function(e){e.createObjectStore("owner")}(e),function(e){e.createObjectStore("mutationQueues",{keyPath:"userId"}),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Km,{unique:!0}),e.createObjectStore("documentMutations")}(e),Fx(e),function(e){e.createObjectStore("remoteDocuments")}(e));var o=Tm.resolve();return n<3&&r>=3&&(0!==n&&(function(e){e.deleteObjectStore("targetDocuments"),e.deleteObjectStore("targets"),e.deleteObjectStore("targetGlobal")}(e),Fx(e)),o=o.next((function(){return function(e){var t=e.store("targetGlobal"),n={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:um.min().toTimestamp(),targetCount:0};return t.put("targetGlobalKey",n)}(a)}))),n<4&&r>=4&&(0!==n&&(o=o.next((function(){return function(e,t){return t.store("mutations").G().next((function(n){e.deleteObjectStore("mutations"),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Km,{unique:!0});var r=t.store("mutations"),i=n.map((function(e){return r.put(e)}));return Tm.waitFor(i)}))}(e,a)}))),o=o.next((function(){!function(e){e.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)}))),n<5&&r>=5&&(o=o.next((function(){return i.Xr(a)}))),n<6&&r>=6&&(o=o.next((function(){return function(e){e.createObjectStore("remoteDocumentGlobal")}(e),i.ei(a)}))),n<7&&r>=7&&(o=o.next((function(){return i.ti(a)}))),n<8&&r>=8&&(o=o.next((function(){return i.ni(e,a)}))),n<9&&r>=9&&(o=o.next((function(){!function(e){e.objectStoreNames.contains("remoteDocumentChanges")&&e.deleteObjectStore("remoteDocumentChanges")}(e)}))),n<10&&r>=10&&(o=o.next((function(){return i.ri(a)}))),n<11&&r>=11&&(o=o.next((function(){!function(e){e.createObjectStore("bundles",{keyPath:"bundleId"})}(e),function(e){e.createObjectStore("namedQueries",{keyPath:"name"})}(e)}))),n<12&&r>=12&&(o=o.next((function(){!function(e){var t=e.createObjectStore("documentOverlays",{keyPath:ug});t.createIndex("collectionPathOverlayIndex",cg,{unique:!1}),t.createIndex("collectionGroupOverlayIndex",lg,{unique:!1})}(e)}))),n<13&&r>=13&&(o=o.next((function(){return function(e){var t=e.createObjectStore("remoteDocumentsV14",{keyPath:$m});t.createIndex("documentKeyIndex",Jm),t.createIndex("collectionGroupIndex",Zm)}(e)})).next((function(){return i.ii(e,a)})).next((function(){return e.deleteObjectStore("remoteDocuments")}))),n<14&&r>=14&&(o=o.next((function(){return i.si(e,a)}))),n<15&&r>=15&&(o=o.next((function(){return function(e){e.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),e.createObjectStore("indexState",{keyPath:ig}).createIndex("sequenceNumberIndex",ag,{unique:!1}),e.createObjectStore("indexEntries",{keyPath:og}).createIndex("documentKeyIndex",sg,{unique:!1})}(e)}))),o}},{key:"ei",value:function(e){var t=0;return e.store("remoteDocuments").Z((function(e,n){t+=Jw(n)})).next((function(){var n={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",n)}))}},{key:"Xr",value:function(e){var t=this,n=e.store("mutationQueues"),r=e.store("mutations");return n.G().next((function(n){return Tm.forEach(n,(function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.G("userMutationsIndex",i).next((function(r){return Tm.forEach(r,(function(r){qv(r.userId===n.userId);var i=uw(t.serializer,r);return $w(e,n.userId,i).next((function(){}))}))}))}))}))}},{key:"ti",value:function(e){var t=e.store("targetDocuments"),n=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next((function(e){var r=[];return n.Z((function(n,i){var a=new lm(n),o=function(e){return[0,qm(e)]}(a);r.push(t.get(o).next((function(n){return n?Tm.resolve():function(n){return t.put({targetId:0,path:qm(n),sequenceNumber:e.highestListenSequenceNumber})}(a)})))})).next((function(){return Tm.waitFor(r)}))}))}},{key:"ni",value:function(e,t){e.createObjectStore("collectionParents",{keyPath:rg});var n=t.store("collectionParents"),r=new Vw,i=function(e){if(r.add(e)){var t=e.lastSegment(),i=e.popLast();return n.put({collectionId:t,parent:qm(i)})}};return t.store("remoteDocuments").Z({Y:!0},(function(e,t){var n=new lm(e);return i(n.popLast())})).next((function(){return t.store("documentMutations").Z({Y:!0},(function(e,t){var n=l(e,3),r=(n[0],n[1]),a=(n[2],Gm(r));return i(a.popLast())}))}))}},{key:"ri",value:function(e){var t=this,n=e.store("targets");return n.Z((function(e,r){var i=cw(r),a=lw(t.serializer,i);return n.put(a)}))}},{key:"ii",value:function(e,t){var n=t.store("remoteDocuments"),r=[];return n.Z((function(e,n){var i=t.store("remoteDocumentsV14"),a=function(e){return e.document?new hm(lm.fromString(e.document.name).popFirst(5)):e.noDocument?hm.fromSegments(e.noDocument.path):e.unknownDocument?hm.fromSegments(e.unknownDocument.path):Bv()}(n).path.toArray(),o={prefixPath:a.slice(0,a.length-2),collectionGroup:a[a.length-2],documentId:a[a.length-1],readTime:n.readTime||[0,0],unknownDocument:n.unknownDocument,noDocument:n.noDocument,document:n.document,hasCommittedMutations:!!n.hasCommittedMutations};r.push(i.put(o))})).next((function(){return Tm.waitFor(r)}))}},{key:"si",value:function(e,t){var n=this,r=t.store("mutations"),i=yx(this.serializer),a=new Dx(Mx.Hr,this.serializer.ht);return r.G().next((function(e){var r=new Map;return e.forEach((function(e){var t,i=null!==(t=r.get(e.userId))&&void 0!==t?t:gb();uw(n.serializer,e).keys().forEach((function(e){return i=i.add(e)})),r.set(e.userId,i)})),Tm.forEach(r,(function(e,r){var o=new jv(r),s=yw.Pt(n.serializer,o),u=a.getIndexManager(o),c=Zw.Pt(o,n.serializer,u,a.referenceDelegate);return new Ix(i,c,s,u).recalculateAndSaveOverlaysForDocumentKeys(new mg(t,Fm.ae),e).next()}))}))}}]),e}();function Fx(e){e.createObjectStore("targetDocuments",{keyPath:tg}).createIndex("documentTargetsIndex",ng,{unique:!0}),e.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",eg,{unique:!0}),e.createObjectStore("targetGlobal")}var zx="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",Vx=function(){function e(t,n,r,i,a,o,s,u,c,l){var f=arguments.length>10&&void 0!==arguments[10]?arguments[10]:15;if(h(this,e),this.allowTabSynchronization=t,this.persistenceKey=n,this.clientId=r,this.oi=a,this.window=o,this.document=s,this._i=c,this.ai=l,this.ui=f,this.kr=null,this.qr=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ci=null,this.inForeground=!1,this.li=null,this.hi=null,this.Pi=Number.NEGATIVE_INFINITY,this.Ii=function(e){return Promise.resolve()},!e.v())throw new Gv(Wv.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new px(this,i),this.Ti=n+"main",this.serializer=new rw(u),this.Ei=new Nm(this.Ti,this.ui,new Ux(this.serializer)),this.Qr=new ax(this.referenceDelegate,this.serializer),this.remoteDocumentCache=yx(this.serializer),this.$r=new vw,this.window&&this.window.localStorage?this.di=this.window.localStorage:(this.di=null,!1===l&&Fv("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return g(e,[{key:"start",value:function(){var e=this;return this.Ai().then((function(){if(!e.isPrimary&&!e.allowTabSynchronization)throw new Gv(Wv.FAILED_PRECONDITION,zx);return e.Ri(),e.Vi(),e.mi(),e.runTransaction("getHighestListenSequenceNumber","readonly",(function(t){return e.Qr.getHighestSequenceNumber(t)}))})).then((function(t){e.kr=new Fm(t,e._i)})).then((function(){e.qr=!0})).catch((function(t){return e.Ei&&e.Ei.close(),Promise.reject(t)}))}},{key:"fi",value:function(e){var t=this;return this.Ii=function(){var n=Ze($e().mark((function n(r){return $e().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!t.started){n.next=2;break}return n.abrupt("return",e(r));case 2:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),e(this.isPrimary)}},{key:"setDatabaseDeletedListener",value:function(e){this.Ei.k(function(){var t=Ze($e().mark((function t(n){return $e().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=null===n.newVersion,!t.t0){t.next=4;break}return t.next=4,e();case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}},{key:"setNetworkEnabled",value:function(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.oi.enqueueAndForget(Ze($e().mark((function e(){return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.started,!e.t0){e.next=4;break}return e.next=4,t.Ai();case 4:case"end":return e.stop()}}),e)})))))}},{key:"Ai",value:function(){var e=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(function(t){return qx(t).put({clientId:e.clientId,updateTimeMs:Date.now(),networkEnabled:e.networkEnabled,inForeground:e.inForeground}).next((function(){if(e.isPrimary)return e.gi(t).next((function(t){t||(e.isPrimary=!1,e.oi.enqueueRetryable((function(){return e.Ii(!1)})))}))})).next((function(){return e.pi(t)})).next((function(n){return e.isPrimary&&!n?e.yi(t).next((function(){return!1})):!!n&&e.wi(t).next((function(){return!0}))}))})).catch((function(t){if(Am(t))return Uv("IndexedDbPersistence","Failed to extend owner lease: ",t),e.isPrimary;if(!e.allowTabSynchronization)throw t;return Uv("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1})).then((function(t){e.isPrimary!==t&&e.oi.enqueueRetryable((function(){return e.Ii(t)})),e.isPrimary=t}))}},{key:"gi",value:function(e){var t=this;return Bx(e).get("owner").next((function(e){return Tm.resolve(t.Si(e))}))}},{key:"bi",value:function(e){return qx(e).delete(this.clientId)}},{key:"Di",value:function(){var e=Ze($e().mark((function e(){var t,n,r,i,a=this;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.isPrimary||this.vi(this.Pi,18e5)){e.next=6;break}return this.Pi=Date.now(),e.next=4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(function(e){var t=gg(e,"clientMetadata");return t.G().next((function(e){var n=a.Ci(e,18e5),r=e.filter((function(e){return-1===n.indexOf(e)}));return Tm.forEach(r,(function(e){return t.delete(e.clientId)})).next((function(){return r}))}))})).catch((function(){return[]}));case 4:if(t=e.sent,this.di){n=T(t);try{for(n.s();!(r=n.n()).done;)i=r.value,this.di.removeItem(this.Fi(i.clientId))}catch(o){n.e(o)}finally{n.f()}}case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"mi",value:function(){var e=this;this.hi=this.oi.enqueueAfterDelay("client_metadata_refresh",4e3,(function(){return e.Ai().then((function(){return e.Di()})).then((function(){return e.mi()}))}))}},{key:"Si",value:function(e){return!!e&&e.ownerId===this.clientId}},{key:"pi",value:function(e){var t=this;return this.ai?Tm.resolve(!0):Bx(e).get("owner").next((function(n){if(null!==n&&t.vi(n.leaseTimestampMs,5e3)&&!t.Mi(n.ownerId)){if(t.Si(n)&&t.networkEnabled)return!0;if(!t.Si(n)){if(!n.allowTabSynchronization)throw new Gv(Wv.FAILED_PRECONDITION,zx);return!1}}return!(!t.networkEnabled||!t.inForeground)||qx(e).G().next((function(e){return void 0===t.Ci(e,5e3).find((function(e){if(t.clientId!==e.clientId){var n=!t.networkEnabled&&e.networkEnabled,r=!t.inForeground&&e.inForeground,i=t.networkEnabled===e.networkEnabled;if(n||r&&i)return!0}return!1}))}))})).next((function(e){return t.isPrimary!==e&&Uv("IndexedDbPersistence","Client ".concat(e?"is":"is not"," eligible for a primary lease.")),e}))}},{key:"shutdown",value:function(){var e=Ze($e().mark((function e(){var t=this;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.qr=!1,this.xi(),this.hi&&(this.hi.cancel(),this.hi=null),this.Oi(),this.Ni(),e.next=7,this.Ei.runTransaction("shutdown","readwrite",["owner","clientMetadata"],(function(e){var n=new mg(e,Fm.ae);return t.yi(n).next((function(){return t.bi(n)}))}));case 7:this.Ei.close(),this.Bi();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Ci",value:function(e,t){var n=this;return e.filter((function(e){return n.vi(e.updateTimeMs,t)&&!n.Mi(e.clientId)}))}},{key:"Li",value:function(){var e=this;return this.runTransaction("getActiveClients","readonly",(function(t){return qx(t).G().next((function(t){return e.Ci(t,18e5).map((function(e){return e.clientId}))}))}))}},{key:"started",get:function(){return this.qr}},{key:"getMutationQueue",value:function(e,t){return Zw.Pt(e,this.serializer,t,this.referenceDelegate)}},{key:"getTargetCache",value:function(){return this.Qr}},{key:"getRemoteDocumentCache",value:function(){return this.remoteDocumentCache}},{key:"getIndexManager",value:function(e){return new qw(e,this.serializer.ht.databaseId)}},{key:"getDocumentOverlayCache",value:function(e){return yw.Pt(this.serializer,e)}},{key:"getBundleCache",value:function(){return this.$r}},{key:"runTransaction",value:function(e,t,n){var r=this;Uv("IndexedDbPersistence","Starting transaction:",e);var i,a="readonly"===t?"readonly":"readwrite",o=function(e){return 15===e?vg:14===e?pg:13===e?hg:12===e?dg:11===e?fg:void Bv()}(this.ui);return this.Ei.runTransaction(e,a,o,(function(a){return i=new mg(a,r.kr?r.kr.next():Fm.ae),"readwrite-primary"===t?r.gi(i).next((function(e){return!!e||r.pi(i)})).next((function(t){if(!t)throw Fv("Failed to obtain primary lease for action '".concat(e,"'.")),r.isPrimary=!1,r.oi.enqueueRetryable((function(){return r.Ii(!1)})),new Gv(Wv.FAILED_PRECONDITION,_m);return n(i)})).next((function(e){return r.wi(i).next((function(){return e}))})):r.ki(i).next((function(){return n(i)}))})).then((function(e){return i.raiseOnCommittedEvent(),e}))}},{key:"ki",value:function(e){var t=this;return Bx(e).get("owner").next((function(e){if(null!==e&&t.vi(e.leaseTimestampMs,5e3)&&!t.Mi(e.ownerId)&&!t.Si(e)&&!(t.ai||t.allowTabSynchronization&&e.allowTabSynchronization))throw new Gv(Wv.FAILED_PRECONDITION,zx)}))}},{key:"wi",value:function(e){var t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Bx(e).put("owner",t)}},{key:"yi",value:function(e){var t=this,n=Bx(e);return n.get("owner").next((function(e){return t.Si(e)?(Uv("IndexedDbPersistence","Releasing primary lease."),n.delete("owner")):Tm.resolve()}))}},{key:"vi",value:function(e,t){var n=Date.now();return!(e<n-t)&&(!(e>n)||(Fv("Detected an update time that is in the future: ".concat(e," > ").concat(n)),!1))}},{key:"Ri",value:function(){var e=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.li=function(){e.oi.enqueueAndForget((function(){return e.inForeground="visible"===e.document.visibilityState,e.Ai()}))},this.document.addEventListener("visibilitychange",this.li),this.inForeground="visible"===this.document.visibilityState)}},{key:"Oi",value:function(){this.li&&(this.document.removeEventListener("visibilitychange",this.li),this.li=null)}},{key:"Vi",value:function(){var e,t=this;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ci=function(){t.xi();var e=/(?:Version|Mobile)\/1[456]/;!Mt()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")&&(navigator.appVersion.match(e)||navigator.userAgent.match(e))&&t.oi.enterRestrictedMode(!0),t.oi.enqueueAndForget((function(){return t.shutdown()}))},this.window.addEventListener("pagehide",this.ci))}},{key:"Ni",value:function(){this.ci&&(this.window.removeEventListener("pagehide",this.ci),this.ci=null)}},{key:"Mi",value:function(e){var t;try{var n=null!==(null===(t=this.di)||void 0===t?void 0:t.getItem(this.Fi(e)));return Uv("IndexedDbPersistence","Client '".concat(e,"' ").concat(n?"is":"is not"," zombied in LocalStorage")),n}catch(e){return Fv("IndexedDbPersistence","Failed to get zombied client id.",e),!1}}},{key:"xi",value:function(){if(this.di)try{this.di.setItem(this.Fi(this.clientId),String(Date.now()))}catch(e){Fv("Failed to set zombie client id.",e)}}},{key:"Bi",value:function(){if(this.di)try{this.di.removeItem(this.Fi(this.clientId))}catch(e){}}},{key:"Fi",value:function(e){return"firestore_zombie_".concat(this.persistenceKey,"_").concat(e)}}],[{key:"v",value:function(){return Nm.v()}}]),e}();function Bx(e){return gg(e,"owner")}function qx(e){return gg(e,"clientMetadata")}function Hx(e,t){var n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}var Wx=function(){function e(t,n,r,i){h(this,e),this.targetId=t,this.fromCache=n,this.qi=r,this.Qi=i}return g(e,null,[{key:"Ki",value:function(t,n){var r,i=gb(),a=gb(),o=T(n.docChanges);try{for(o.s();!(r=o.n()).done;){var s=r.value;switch(s.type){case 0:i=i.add(s.doc.key);break;case 1:a=a.add(s.doc.key)}}}catch(u){o.e(u)}finally{o.f()}return new e(t,n.fromCache,i,a)}}]),e}(),Gx=function(){function e(){h(this,e),this.$i=!1}return g(e,[{key:"initialize",value:function(e,t){this.Ui=e,this.indexManager=t,this.$i=!0}},{key:"getDocumentsMatchingQuery",value:function(e,t,n,r){var i=this;return this.Wi(e,t).next((function(a){return a||i.Gi(e,t,r,n)})).next((function(n){return n||i.zi(e,t)}))}},{key:"Wi",value:function(e,t){var n=this;if(Hy(t))return Tm.resolve(null);var r=Yy(t);return this.indexManager.getIndexType(e,r).next((function(i){return 0===i?null:(null!==t.limit&&1===i&&(t=Jy(t,null,"F"),r=Yy(t)),n.indexManager.getDocumentsMatchingTarget(e,r).next((function(i){var a=gb.apply(void 0,d(i));return n.Ui.getDocuments(e,a).next((function(i){return n.indexManager.getMinOffset(e,r).next((function(r){var o=n.ji(t,i);return n.Hi(t,o,a,r.readTime)?n.Wi(e,Jy(t,null,"F")):n.Ji(e,o,t,r)}))}))})))}))}},{key:"Gi",value:function(e,t,n,r){var i=this;return Hy(t)||r.isEqual(um.min())?this.zi(e,t):this.Ui.getDocuments(e,n).next((function(a){var o=i.ji(t,a);return i.Hi(t,o,n,r)?i.zi(e,t):(Mv()<=sn.DEBUG&&Uv("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),tb(t)),i.Ji(e,o,t,bm(r,-1)))}))}},{key:"ji",value:function(e,t){var n=new Sg(ib(e));return t.forEach((function(t,r){nb(e,r)&&(n=n.add(r))})),n}},{key:"Hi",value:function(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;var i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}},{key:"zi",value:function(e,t){return Mv()<=sn.DEBUG&&Uv("QueryEngine","Using full collection scan to execute query:",tb(t)),this.Ui.getDocumentsMatchingQuery(e,t,wm.min())}},{key:"Ji",value:function(e,t,n,r){return this.Ui.getDocumentsMatchingQuery(e,n,r).next((function(e){return t.forEach((function(t){e=e.insert(t.key,t)})),e}))}}]),e}(),Kx=function(){function e(t,n,r,i){h(this,e),this.persistence=t,this.Yi=n,this.serializer=i,this.Zi=new wg(im),this.Xi=new ob((function(e){return Dy(e)}),Ly),this.es=new Map,this.ts=t.getRemoteDocumentCache(),this.Qr=t.getTargetCache(),this.$r=t.getBundleCache(),this.ns(r)}return g(e,[{key:"ns",value:function(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Ix(this.ts,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ts.setIndexManager(this.indexManager),this.Yi.initialize(this.localDocuments,this.indexManager)}},{key:"collectGarbage",value:function(e){var t=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return e.collect(n,t.Zi)}))}}]),e}();function Qx(e,t,n,r){return new Kx(e,t,n,r)}function Yx(e,t){return Xx.apply(this,arguments)}function Xx(){return Xx=Ze($e().mark((function e(t,n){var r;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Hv(t),e.next=3,r.persistence.runTransaction("Handle user change","readonly",(function(e){var t;return r.mutationQueue.getAllMutationBatches(e).next((function(i){return t=i,r.ns(n),r.mutationQueue.getAllMutationBatches(e)})).next((function(n){var i,a=[],o=[],s=gb(),u=T(t);try{for(u.s();!(i=u.n()).done;){var c=i.value;a.push(c.batchId);var l,f=T(c.mutations);try{for(f.s();!(l=f.n()).done;){var d=l.value;s=s.add(d.key)}}catch(b){f.e(b)}finally{f.f()}}}catch(b){u.e(b)}finally{u.f()}var h,p=T(n);try{for(p.s();!(h=p.n()).done;){var v=h.value;o.push(v.batchId);var m,g=T(v.mutations);try{for(g.s();!(m=g.n()).done;){var y=m.value;s=s.add(y.key)}}catch(b){g.e(b)}finally{g.f()}}}catch(b){p.e(b)}finally{p.f()}return r.localDocuments.getDocuments(e,s).next((function(e){return{rs:e,removedBatchIds:a,addedBatchIds:o}}))}))}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)}))),Xx.apply(this,arguments)}function $x(e,t){var n=Hv(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(e){var r=t.batch.keys(),i=n.ts.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){var i=n.batch,a=i.keys(),o=Tm.resolve();return a.forEach((function(e){o=o.next((function(){return r.getEntry(t,e)})).next((function(t){var a=n.docVersions.get(e);qv(null!==a),t.version.compareTo(a)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))}))})),o.next((function(){return e.mutationQueue.removeMutationBatch(t,i)}))}(n,e,t,i).next((function(){return i.apply(e)})).next((function(){return n.mutationQueue.performConsistencyCheck(e)})).next((function(){return n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId)})).next((function(){return n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){for(var t=gb(),n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t))})).next((function(){return n.localDocuments.getDocuments(e,r)}))}))}function Jx(e){var t=Hv(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(function(e){return t.Qr.getLastRemoteSnapshotVersion(e)}))}function Zx(e,t){var n=Hv(e),r=t.snapshotVersion,i=n.Zi;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(e){var a=n.ts.newChangeBuffer({trackRemovals:!0});i=n.Zi;var o=[];t.targetChanges.forEach((function(a,s){var u=i.get(s);if(u){o.push(n.Qr.removeMatchingKeys(e,a.removedDocuments,s).next((function(){return n.Qr.addMatchingKeys(e,a.addedDocuments,s)})));var c=u.withSequenceNumber(e.currentSequenceNumber);null!==t.targetMismatches.get(s)?c=c.withResumeToken(Ng.EMPTY_BYTE_STRING,um.min()).withLastLimboFreeSnapshotVersion(um.min()):a.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(a.resumeToken,r)),i=i.insert(s,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||(t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0)}(u,c,a)&&o.push(n.Qr.updateTargetData(e,c))}}));var s=ub(),u=gb();if(t.documentUpdates.forEach((function(r){t.resolvedLimboDocuments.has(r)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),o.push(e_(e,a,t.documentUpdates).next((function(e){s=e.ss,u=e.os}))),!r.isEqual(um.min())){var c=n.Qr.getLastRemoteSnapshotVersion(e).next((function(t){return n.Qr.setTargetsMetadata(e,e.currentSequenceNumber,r)}));o.push(c)}return Tm.waitFor(o).next((function(){return a.apply(e)})).next((function(){return n.localDocuments.getLocalViewOfDocuments(e,s,u)})).next((function(){return s}))})).then((function(e){return n.Zi=i,e}))}function e_(e,t,n){var r=gb(),i=gb();return n.forEach((function(e){return r=r.add(e)})),t.getEntries(e,r).next((function(e){var r=ub();return n.forEach((function(n,a){var o=e.get(n);a.isFoundDocument()!==o.isFoundDocument()&&(i=i.add(n)),a.isNoDocument()&&a.version.isEqual(um.min())?(t.removeEntry(n,a.readTime),r=r.insert(n,a)):!o.isValidDocument()||a.version.compareTo(o.version)>0||0===a.version.compareTo(o.version)&&o.hasPendingWrites?(t.addEntry(a),r=r.insert(n,a)):Uv("LocalStore","Ignoring outdated watch update for ",n,". Current version:",o.version," Watch version:",a.version)})),{ss:r,os:i}}))}function t_(e,t){var n=Hv(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(e){return void 0===t&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t)}))}function n_(e,t){var n=Hv(e);return n.persistence.runTransaction("Allocate target","readwrite",(function(e){var r;return n.Qr.getTargetData(e,t).next((function(i){return i?(r=i,Tm.resolve(r)):n.Qr.allocateTargetId(e).next((function(i){return r=new nw(t,i,"TargetPurposeListen",e.currentSequenceNumber),n.Qr.addTargetData(e,r).next((function(){return r}))}))}))})).then((function(e){var r=n.Zi.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Zi=n.Zi.insert(e.targetId,e),n.Xi.set(t,e.targetId)),e}))}function r_(e,t,n){return i_.apply(this,arguments)}function i_(){return i_=Ze($e().mark((function e(t,n,r){var i,a,o;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=Hv(t),a=i.Zi.get(n),o=r?"readwrite":"readwrite-primary",e.prev=1,e.t0=r,e.t0){e.next=6;break}return e.next=6,i.persistence.runTransaction("Release target",o,(function(e){return i.persistence.referenceDelegate.removeTarget(e,a)}));case 6:e.next=13;break;case 8:if(e.prev=8,e.t1=e.catch(1),Am(e.t1)){e.next=12;break}throw e.t1;case 12:Uv("LocalStore","Failed to update sequence numbers for target ".concat(n,": ").concat(e.t1));case 13:i.Zi=i.Zi.remove(n),i.Xi.delete(a.target);case 14:case"end":return e.stop()}}),e,null,[[1,8]])}))),i_.apply(this,arguments)}function a_(e,t,n){var r=Hv(e),i=um.min(),a=gb();return r.persistence.runTransaction("Execute query","readonly",(function(e){return function(e,t,n){var r=Hv(e),i=r.Xi.get(n);return void 0!==i?Tm.resolve(r.Zi.get(i)):r.Qr.getTargetData(t,n)}(r,e,Yy(t)).next((function(t){if(t)return i=t.lastLimboFreeSnapshotVersion,r.Qr.getMatchingKeysForTargetId(e,t.targetId).next((function(e){a=e}))})).next((function(){return r.Yi.getDocumentsMatchingQuery(e,t,n?i:um.min(),n?a:gb())})).next((function(e){return u_(r,rb(t),e),{documents:e,_s:a}}))}))}function o_(e,t){var n=Hv(e),r=Hv(n.Qr),i=n.Zi.get(t);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(function(e){return r.lt(e,t).next((function(e){return e?e.target:null}))}))}function s_(e,t){var n=Hv(e),r=n.es.get(t)||um.min();return n.persistence.runTransaction("Get new document changes","readonly",(function(e){return n.ts.getAllFromCollectionGroup(e,t,bm(r,-1),Number.MAX_SAFE_INTEGER)})).then((function(e){return u_(n,t,e),e}))}function u_(e,t,n){var r=e.es.get(t)||um.min();n.forEach((function(e,t){t.readTime.compareTo(r)>0&&(r=t.readTime)})),e.es.set(t,r)}function c_(e,t,n,r){return l_.apply(this,arguments)}function l_(){return l_=Ze($e().mark((function e(t,n,r,i){var a,o,s,u,c,l,f,d,h,p;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=Hv(t),o=gb(),s=ub(),u=T(r);try{for(u.s();!(c=u.n()).done;)l=c.value,f=n.us(l.metadata.name),l.document&&(o=o.add(f)),(d=n.cs(l)).setReadTime(n.ls(l.metadata.readTime)),s=s.insert(f,d)}catch(v){u.e(v)}finally{u.f()}return h=a.ts.newChangeBuffer({trackRemovals:!0}),e.next=7,n_(a,function(e){return Yy(qy(lm.fromString("__bundle__/docs/".concat(e))))}(i));case 7:return p=e.sent,e.abrupt("return",a.persistence.runTransaction("Apply bundle documents","readwrite",(function(e){return e_(e,h,s).next((function(t){return h.apply(e),t})).next((function(t){return a.Qr.removeMatchingKeysForTargetId(e,p.targetId).next((function(){return a.Qr.addMatchingKeys(e,o,p.targetId)})).next((function(){return a.localDocuments.getLocalViewOfDocuments(e,t.ss,t.os)})).next((function(){return t.ss}))}))})));case 9:case"end":return e.stop()}}),e)}))),l_.apply(this,arguments)}function f_(e,t){return d_.apply(this,arguments)}function d_(){return d_=Ze($e().mark((function e(t,n){var r,i,a,o=arguments;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=o.length>2&&void 0!==o[2]?o[2]:gb(),e.next=3,n_(t,Yy(fw(n.bundledQuery)));case 3:return i=e.sent,a=Hv(t),e.abrupt("return",a.persistence.runTransaction("Save named query","readwrite",(function(e){var t=Ok(n.readTime);if(i.snapshotVersion.compareTo(t)>=0)return a.$r.saveNamedQuery(e,n);var o=i.withResumeToken(Ng.EMPTY_BYTE_STRING,t);return a.Zi=a.Zi.insert(o.targetId,o),a.Qr.updateTargetData(e,o).next((function(){return a.Qr.removeMatchingKeysForTargetId(e,i.targetId)})).next((function(){return a.Qr.addMatchingKeys(e,r,i.targetId)})).next((function(){return a.$r.saveNamedQuery(e,n)}))})));case 6:case"end":return e.stop()}}),e)}))),d_.apply(this,arguments)}function h_(e,t){return"firestore_clients_".concat(e,"_").concat(t)}function p_(e,t,n){var r="firestore_mutations_".concat(e,"_").concat(n);return t.isAuthenticated()&&(r+="_".concat(t.uid)),r}function v_(e,t){return"firestore_targets_".concat(e,"_").concat(t)}var m_=function(){function e(t,n,r,i){h(this,e),this.user=t,this.batchId=n,this.state=r,this.error=i}return g(e,[{key:"Ps",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"hs",value:function(t,n,r){var i,a=JSON.parse(r),o="object"==typeof a&&-1!==["pending","acknowledged","rejected"].indexOf(a.state)&&(void 0===a.error||"object"==typeof a.error);return o&&a.error&&((o="string"==typeof a.error.message&&"string"==typeof a.error.code)&&(i=new Gv(a.error.code,a.error.message))),o?new e(t,n,a.state,i):(Fv("SharedClientState","Failed to parse mutation state for ID '".concat(n,"': ").concat(r)),null)}}]),e}(),g_=function(){function e(t,n,r){h(this,e),this.targetId=t,this.state=n,this.error=r}return g(e,[{key:"Ps",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"hs",value:function(t,n){var r,i=JSON.parse(n),a="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return a&&i.error&&((a="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(r=new Gv(i.error.code,i.error.message))),a?new e(t,i.state,r):(Fv("SharedClientState","Failed to parse target state for ID '".concat(t,"': ").concat(n)),null)}}]),e}(),y_=function(){function e(t,n){h(this,e),this.clientId=t,this.activeTargetIds=n}return g(e,null,[{key:"hs",value:function(t,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,a=bb(),o=0;i&&o<r.activeTargetIds.length;++o)i=Bm(r.activeTargetIds[o]),a=a.add(r.activeTargetIds[o]);return i?new e(t,a):(Fv("SharedClientState","Failed to parse client data for instance '".concat(t,"': ").concat(n)),null)}}]),e}(),b_=function(){function e(t,n){h(this,e),this.clientId=t,this.onlineState=n}return g(e,null,[{key:"hs",value:function(t){var n=JSON.parse(t);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new e(n.clientId,n.onlineState):(Fv("SharedClientState","Failed to parse online state: ".concat(t)),null)}}]),e}(),k_=function(){function e(){h(this,e),this.activeTargetIds=bb()}return g(e,[{key:"Is",value:function(e){this.activeTargetIds=this.activeTargetIds.add(e)}},{key:"Ts",value:function(e){this.activeTargetIds=this.activeTargetIds.delete(e)}},{key:"Ps",value:function(){var e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}]),e}(),w_=function(){function e(t,n,r,i,a){h(this,e),this.window=t,this.oi=n,this.persistenceKey=r,this.Es=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.ds=this.As.bind(this),this.Rs=new wg(im),this.started=!1,this.Vs=[];var o=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=a,this.fs=h_(this.persistenceKey,this.Es),this.gs=function(e){return"firestore_sequence_number_".concat(e)}(this.persistenceKey),this.Rs=this.Rs.insert(this.Es,new k_),this.ps=new RegExp("^firestore_clients_".concat(o,"_([^_]*)$")),this.ys=new RegExp("^firestore_mutations_".concat(o,"_(\\d+)(?:_(.*))?$")),this.ws=new RegExp("^firestore_targets_".concat(o,"_(\\d+)$")),this.Ss=function(e){return"firestore_online_state_".concat(e)}(this.persistenceKey),this.bs=function(e){return"firestore_bundle_loaded_v2_".concat(e)}(this.persistenceKey),this.window.addEventListener("storage",this.ds)}return g(e,[{key:"start",value:function(){var e=Ze($e().mark((function e(){var t,n,r,i,a,o,s,u,c,l,f,d=this;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.syncEngine.Li();case 2:t=e.sent,n=T(t),e.prev=4,n.s();case 6:if((r=n.n()).done){e.next=14;break}if((i=r.value)!==this.Es){e.next=10;break}return e.abrupt("continue",12);case 10:(a=this.getItem(h_(this.persistenceKey,i)))&&(o=y_.hs(i,a))&&(this.Rs=this.Rs.insert(o.clientId,o));case 12:e.next=6;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(4),n.e(e.t0);case 19:return e.prev=19,n.f(),e.finish(19);case 22:this.Ds(),(s=this.storage.getItem(this.Ss))&&(u=this.vs(s))&&this.Cs(u),c=T(this.Vs);try{for(c.s();!(l=c.n()).done;)f=l.value,this.As(f)}catch(h){c.e(h)}finally{c.f()}this.Vs=[],this.window.addEventListener("pagehide",(function(){return d.shutdown()})),this.started=!0;case 28:case"end":return e.stop()}}),e,this,[[4,16,19,22]])})));return function(){return e.apply(this,arguments)}}()},{key:"writeSequenceNumber",value:function(e){this.setItem(this.gs,JSON.stringify(e))}},{key:"getAllActiveQueryTargets",value:function(){return this.Fs(this.Rs)}},{key:"isActiveQueryTarget",value:function(e){var t=!1;return this.Rs.forEach((function(n,r){r.activeTargetIds.has(e)&&(t=!0)})),t}},{key:"addPendingMutation",value:function(e){this.Ms(e,"pending")}},{key:"updateMutationState",value:function(e,t,n){this.Ms(e,t,n),this.xs(e)}},{key:"addLocalQueryTarget",value:function(e){var t="not-current";if(this.isActiveQueryTarget(e)){var n=this.storage.getItem(v_(this.persistenceKey,e));if(n){var r=g_.hs(e,n);r&&(t=r.state)}}return this.Os.Is(e),this.Ds(),t}},{key:"removeLocalQueryTarget",value:function(e){this.Os.Ts(e),this.Ds()}},{key:"isLocalQueryTarget",value:function(e){return this.Os.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){this.removeItem(v_(this.persistenceKey,e))}},{key:"updateQueryState",value:function(e,t,n){this.Ns(e,t,n)}},{key:"handleUserChange",value:function(e,t,n){var r=this;t.forEach((function(e){r.xs(e)})),this.currentUser=e,n.forEach((function(e){r.addPendingMutation(e)}))}},{key:"setOnlineState",value:function(e){this.Bs(e)}},{key:"notifyBundleLoaded",value:function(e){this.Ls(e)}},{key:"shutdown",value:function(){this.started&&(this.window.removeEventListener("storage",this.ds),this.removeItem(this.fs),this.started=!1)}},{key:"getItem",value:function(e){var t=this.storage.getItem(e);return Uv("SharedClientState","READ",e,t),t}},{key:"setItem",value:function(e,t){Uv("SharedClientState","SET",e,t),this.storage.setItem(e,t)}},{key:"removeItem",value:function(e){Uv("SharedClientState","REMOVE",e),this.storage.removeItem(e)}},{key:"As",value:function(e){var t=this,n=e;if(n.storageArea===this.storage){if(Uv("SharedClientState","EVENT",n.key,n.newValue),n.key===this.fs)return void Fv("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.oi.enqueueRetryable(Ze($e().mark((function e(){var r,i,a,o,s,u,c;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.started){e.next=43;break}if(null===n.key){e.next=41;break}if(!t.ps.test(n.key)){e.next=11;break}if(null!=n.newValue){e.next=6;break}return r=t.ks(n.key),e.abrupt("return",t.qs(r,null));case 6:if(!(i=t.Qs(n.key,n.newValue))){e.next=9;break}return e.abrupt("return",t.qs(i.clientId,i));case 9:e.next=41;break;case 11:if(!t.ys.test(n.key)){e.next=18;break}if(null===n.newValue){e.next=16;break}if(!(a=t.Ks(n.key,n.newValue))){e.next=16;break}return e.abrupt("return",t.$s(a));case 16:e.next=41;break;case 18:if(!t.ws.test(n.key)){e.next=25;break}if(null===n.newValue){e.next=23;break}if(!(o=t.Us(n.key,n.newValue))){e.next=23;break}return e.abrupt("return",t.Ws(o));case 23:e.next=41;break;case 25:if(n.key!==t.Ss){e.next=32;break}if(null===n.newValue){e.next=30;break}if(!(s=t.vs(n.newValue))){e.next=30;break}return e.abrupt("return",t.Cs(s));case 30:e.next=41;break;case 32:if(n.key!==t.gs){e.next=37;break}u=function(e){var t=Fm.ae;if(null!=e)try{var n=JSON.parse(e);qv("number"==typeof n),t=n}catch(e){Fv("SharedClientState","Failed to read sequence number from WebStorage",e)}return t}(n.newValue),u!==Fm.ae&&t.sequenceNumberHandler(u),e.next=41;break;case 37:if(n.key!==t.bs){e.next=41;break}return c=t.Gs(n.newValue),e.next=41,Promise.all(c.map((function(e){return t.syncEngine.zs(e)})));case 41:e.next=44;break;case 43:t.Vs.push(n);case 44:case"end":return e.stop()}}),e)}))))}}},{key:"Os",get:function(){return this.Rs.get(this.Es)}},{key:"Ds",value:function(){this.setItem(this.fs,this.Os.Ps())}},{key:"Ms",value:function(e,t,n){var r=new m_(this.currentUser,e,t,n),i=p_(this.persistenceKey,this.currentUser,e);this.setItem(i,r.Ps())}},{key:"xs",value:function(e){var t=p_(this.persistenceKey,this.currentUser,e);this.removeItem(t)}},{key:"Bs",value:function(e){var t={clientId:this.Es,onlineState:e};this.storage.setItem(this.Ss,JSON.stringify(t))}},{key:"Ns",value:function(e,t,n){var r=v_(this.persistenceKey,e),i=new g_(e,t,n);this.setItem(r,i.Ps())}},{key:"Ls",value:function(e){var t=JSON.stringify(Array.from(e));this.setItem(this.bs,t)}},{key:"ks",value:function(e){var t=this.ps.exec(e);return t?t[1]:null}},{key:"Qs",value:function(e,t){var n=this.ks(e);return y_.hs(n,t)}},{key:"Ks",value:function(e,t){var n=this.ys.exec(e),r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return m_.hs(new jv(i),r,t)}},{key:"Us",value:function(e,t){var n=this.ws.exec(e),r=Number(n[1]);return g_.hs(r,t)}},{key:"vs",value:function(e){return b_.hs(e)}},{key:"Gs",value:function(e){return JSON.parse(e)}},{key:"$s",value:function(){var e=Ze($e().mark((function e(t){return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.user.uid!==this.currentUser.uid){e.next=2;break}return e.abrupt("return",this.syncEngine.js(t.batchId,t.state,t.error));case 2:Uv("SharedClientState","Ignoring mutation for non-active user ".concat(t.user.uid));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Ws",value:function(e){return this.syncEngine.Hs(e.targetId,e.state,e.error)}},{key:"qs",value:function(e,t){var n=this,r=t?this.Rs.insert(e,t):this.Rs.remove(e),i=this.Fs(this.Rs),a=this.Fs(r),o=[],s=[];return a.forEach((function(e){i.has(e)||o.push(e)})),i.forEach((function(e){a.has(e)||s.push(e)})),this.syncEngine.Js(o,s).then((function(){n.Rs=r}))}},{key:"Cs",value:function(e){this.Rs.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}},{key:"Fs",value:function(e){var t=bb();return e.forEach((function(e,n){t=t.unionWith(n.activeTargetIds)})),t}}],[{key:"v",value:function(e){return!(!e||!e.localStorage)}}]),e}(),x_=function(){function e(){h(this,e),this.Ys=new k_,this.Zs={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return g(e,[{key:"addPendingMutation",value:function(e){}},{key:"updateMutationState",value:function(e,t,n){}},{key:"addLocalQueryTarget",value:function(e){return this.Ys.Is(e),this.Zs[e]||"not-current"}},{key:"updateQueryState",value:function(e,t,n){this.Zs[e]=t}},{key:"removeLocalQueryTarget",value:function(e){this.Ys.Ts(e)}},{key:"isLocalQueryTarget",value:function(e){return this.Ys.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){delete this.Zs[e]}},{key:"getAllActiveQueryTargets",value:function(){return this.Ys.activeTargetIds}},{key:"isActiveQueryTarget",value:function(e){return this.Ys.activeTargetIds.has(e)}},{key:"start",value:function(){return this.Ys=new k_,Promise.resolve()}},{key:"handleUserChange",value:function(e,t,n){}},{key:"setOnlineState",value:function(e){}},{key:"shutdown",value:function(){}},{key:"writeSequenceNumber",value:function(e){}},{key:"notifyBundleLoaded",value:function(e){}}]),e}(),__=function(){function e(){h(this,e)}return g(e,[{key:"Xs",value:function(e){}},{key:"shutdown",value:function(){}}]),e}(),S_=function(){function e(){var t=this;h(this,e),this.eo=function(){return t.no()},this.ro=function(){return t.io()},this.so=[],this.oo()}return g(e,[{key:"Xs",value:function(e){this.so.push(e)}},{key:"shutdown",value:function(){window.removeEventListener("online",this.eo),window.removeEventListener("offline",this.ro)}},{key:"oo",value:function(){window.addEventListener("online",this.eo),window.addEventListener("offline",this.ro)}},{key:"no",value:function(){Uv("ConnectivityMonitor","Network connectivity changed: AVAILABLE");var e,t=T(this.so);try{for(t.s();!(e=t.n()).done;){(0,e.value)(0)}}catch(n){t.e(n)}finally{t.f()}}},{key:"io",value:function(){Uv("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");var e,t=T(this.so);try{for(t.s();!(e=t.n()).done;){(0,e.value)(1)}}catch(n){t.e(n)}finally{t.f()}}}],[{key:"v",value:function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}]),e}(),E_=null;function I_(){return null===E_?E_=268435456+Math.round(2147483648*Math.random()):E_++,"0x"+E_.toString(16)}var T_={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"},C_=function(){function e(t){h(this,e),this._o=t._o,this.ao=t.ao}return g(e,[{key:"uo",value:function(e){this.co=e}},{key:"lo",value:function(e){this.ho=e}},{key:"onMessage",value:function(e){this.Po=e}},{key:"close",value:function(){this.ao()}},{key:"send",value:function(e){this._o(e)}},{key:"Io",value:function(){this.co()}},{key:"To",value:function(e){this.ho(e)}},{key:"Eo",value:function(e){this.Po(e)}}]),e}(),N_="WebChannelConnection",O_=function(e){b(n,e);var t=_(n);function n(e){var r;return h(this,n),(r=t.call(this,e)).forceLongPolling=e.forceLongPolling,r.autoDetectLongPolling=e.autoDetectLongPolling,r.useFetchStreams=e.useFetchStreams,r.longPollingOptions=e.longPollingOptions,r}return g(n,[{key:"wo",value:function(e,t,n,r){var i=I_();return new Promise((function(a,o){var s=new Ov;s.setWithCredentials(!0),s.listenOnce(Iv.COMPLETE,(function(){try{switch(s.getLastErrorCode()){case Ev.NO_ERROR:var t=s.getResponseJson();Uv(N_,"XHR for RPC '".concat(e,"' ").concat(i," received:"),JSON.stringify(t)),a(t);break;case Ev.TIMEOUT:Uv(N_,"RPC '".concat(e,"' ").concat(i," timed out")),o(new Gv(Wv.DEADLINE_EXCEEDED,"Request time out"));break;case Ev.HTTP_ERROR:var n=s.getStatus();if(Uv(N_,"RPC '".concat(e,"' ").concat(i," failed with status:"),n,"response text:",s.getResponseText()),n>0){var r=s.getResponseJson();Array.isArray(r)&&(r=r[0]);var u=null==r?void 0:r.error;if(u&&u.status&&u.message){var c=function(e){var t=e.toLowerCase().replace(/_/g,"-");return Object.values(Wv).indexOf(t)>=0?t:Wv.UNKNOWN}(u.status);o(new Gv(c,u.message))}else o(new Gv(Wv.UNKNOWN,"Server responded with status "+s.getStatus()))}else o(new Gv(Wv.UNAVAILABLE,"Connection failed."));break;default:Bv()}}finally{Uv(N_,"RPC '".concat(e,"' ").concat(i," completed."))}}));var u=JSON.stringify(r);Uv(N_,"RPC '".concat(e,"' ").concat(i," sending request:"),r),s.send(t,"POST",u,n,15)}))}},{key:"bo",value:function(e,t,n){var r=I_(),i=[this.Ao,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=_v(),o=Sv(),s={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;void 0!==u&&(s.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(s.useFetchStreams=!0),this.yo(s.initMessageHeaders,t,n),s.encodeInitMessageHeaders=!0;var c=i.join("");Uv(N_,"Creating RPC '".concat(e,"' stream ").concat(r,": ").concat(c),s);var l=a.createWebChannel(c,s),f=!1,d=!1,h=new C_({_o:function(t){d?Uv(N_,"Not sending because RPC '".concat(e,"' stream ").concat(r," is closed:"),t):(f||(Uv(N_,"Opening RPC '".concat(e,"' stream ").concat(r," transport.")),l.open(),f=!0),Uv(N_,"RPC '".concat(e,"' stream ").concat(r," sending:"),t),l.send(t))},ao:function(){return l.close()}}),p=function(e,t,n){e.listen(t,(function(e){try{n(e)}catch(e){setTimeout((function(){throw e}),0)}}))};return p(l,Nv.EventType.OPEN,(function(){d||Uv(N_,"RPC '".concat(e,"' stream ").concat(r," transport opened."))})),p(l,Nv.EventType.CLOSE,(function(){d||(d=!0,Uv(N_,"RPC '".concat(e,"' stream ").concat(r," transport closed")),h.To())})),p(l,Nv.EventType.ERROR,(function(t){d||(d=!0,zv(N_,"RPC '".concat(e,"' stream ").concat(r," transport errored:"),t),h.To(new Gv(Wv.UNAVAILABLE,"The operation could not be completed")))})),p(l,Nv.EventType.MESSAGE,(function(t){var n;if(!d){var i=t.data[0];qv(!!i);var a=i,o=a.error||(null===(n=a[0])||void 0===n?void 0:n.error);if(o){Uv(N_,"RPC '".concat(e,"' stream ").concat(r," received error:"),o);var s=o.status,u=function(e){var t=Xb[e];if(void 0!==t)return ak(t)}(s),c=o.message;void 0===u&&(u=Wv.INTERNAL,c="Unknown error status: "+s+" with message "+o.message),d=!0,h.To(new Gv(u,c)),l.close()}else Uv(N_,"RPC '".concat(e,"' stream ").concat(r," received:"),i),h.Eo(i)}})),p(o,Tv.STAT_EVENT,(function(t){t.stat===Cv.PROXY?Uv(N_,"RPC '".concat(e,"' stream ").concat(r," detected buffering proxy")):t.stat===Cv.NOPROXY&&Uv(N_,"RPC '".concat(e,"' stream ").concat(r," detected no buffering proxy"))})),setTimeout((function(){h.Io()}),0),h}}]),n}(function(){function e(t){h(this,e),this.databaseInfo=t,this.databaseId=t.databaseId;var n=t.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Ao=n+"://"+t.host,this.Ro="projects/".concat(r,"/databases/").concat(i),this.Vo="(default)"===this.databaseId.database?"project_id=".concat(r):"project_id=".concat(r,"&database_id=").concat(i)}return g(e,[{key:"mo",get:function(){return!1}},{key:"fo",value:function(e,t,n,r,i){var a=I_(),o=this.po(e,t);Uv("RestConnection","Sending RPC '".concat(e,"' ").concat(a,":"),o,n);var s={"google-cloud-resource-prefix":this.Ro,"x-goog-request-params":this.Vo};return this.yo(s,r,i),this.wo(e,o,s,n).then((function(t){return Uv("RestConnection","Received RPC '".concat(e,"' ").concat(a,": "),t),t}),(function(t){throw zv("RestConnection","RPC '".concat(e,"' ").concat(a," failed with error: "),t,"url: ",o,"request:",n),t}))}},{key:"So",value:function(e,t,n,r,i,a){return this.fo(e,t,n,r,i)}},{key:"yo",value:function(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+Dv,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((function(t,n){return e[n]=t})),n&&n.headers.forEach((function(t,n){return e[n]=t}))}},{key:"po",value:function(e,t){var n=T_[e];return"".concat(this.Ao,"/v1/").concat(t,":").concat(n)}}]),e}());function P_(){return"undefined"!=typeof window?window:null}function A_(){return"undefined"!=typeof document?document:null}function R_(e){return new Ek(e,!0)}var j_=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;h(this,e),this.oi=t,this.timerId=n,this.Do=r,this.vo=i,this.Co=a,this.Fo=0,this.Mo=null,this.xo=Date.now(),this.reset()}return g(e,[{key:"reset",value:function(){this.Fo=0}},{key:"Oo",value:function(){this.Fo=this.Co}},{key:"No",value:function(e){var t=this;this.cancel();var n=Math.floor(this.Fo+this.Bo()),r=Math.max(0,Date.now()-this.xo),i=Math.max(0,n-r);i>0&&Uv("ExponentialBackoff","Backing off for ".concat(i," ms (base delay: ").concat(this.Fo," ms, delay with jitter: ").concat(n," ms, last attempt: ").concat(r," ms ago)")),this.Mo=this.oi.enqueueAfterDelay(this.timerId,i,(function(){return t.xo=Date.now(),e()})),this.Fo*=this.vo,this.Fo<this.Do&&(this.Fo=this.Do),this.Fo>this.Co&&(this.Fo=this.Co)}},{key:"Lo",value:function(){null!==this.Mo&&(this.Mo.skipDelay(),this.Mo=null)}},{key:"cancel",value:function(){null!==this.Mo&&(this.Mo.cancel(),this.Mo=null)}},{key:"Bo",value:function(){return(Math.random()-.5)*this.Fo}}]),e}(),D_=function(){function e(t,n,r,i,a,o,s,u){h(this,e),this.oi=t,this.ko=r,this.qo=i,this.connection=a,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=s,this.listener=u,this.state=0,this.Qo=0,this.Ko=null,this.$o=null,this.stream=null,this.Uo=new j_(t,n)}return g(e,[{key:"Wo",value:function(){return 1===this.state||5===this.state||this.Go()}},{key:"Go",value:function(){return 2===this.state||3===this.state}},{key:"start",value:function(){4!==this.state?this.auth():this.zo()}},{key:"stop",value:function(){var e=Ze($e().mark((function e(){return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.Wo(),!e.t0){e.next=4;break}return e.next=4,this.close(0);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"jo",value:function(){this.state=0,this.Uo.reset()}},{key:"Ho",value:function(){var e=this;this.Go()&&null===this.Ko&&(this.Ko=this.oi.enqueueAfterDelay(this.ko,6e4,(function(){return e.Jo()})))}},{key:"Yo",value:function(e){this.Zo(),this.stream.send(e)}},{key:"Jo",value:function(){var e=Ze($e().mark((function e(){return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.Go()){e.next=2;break}return e.abrupt("return",this.close(0));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Zo",value:function(){this.Ko&&(this.Ko.cancel(),this.Ko=null)}},{key:"Xo",value:function(){this.$o&&(this.$o.cancel(),this.$o=null)}},{key:"close",value:function(){var e=Ze($e().mark((function e(t,n){return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.Zo(),this.Xo(),this.Uo.cancel(),this.Qo++,4!==t?this.Uo.reset():n&&n.code===Wv.RESOURCE_EXHAUSTED?(Fv(n.toString()),Fv("Using maximum backoff delay to prevent overloading the backend."),this.Uo.Oo()):n&&n.code===Wv.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.e_(),this.stream.close(),this.stream=null),this.state=t,e.next=9,this.listener.lo(n);case 9:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"e_",value:function(){}},{key:"auth",value:function(){var e=this;this.state=1;var t=this.t_(this.Qo),n=this.Qo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((function(t){var r=l(t,2),i=r[0],a=r[1];e.Qo===n&&e.n_(i,a)}),(function(n){t((function(){var t=new Gv(Wv.UNKNOWN,"Fetching auth token failed: "+n.message);return e.r_(t)}))}))}},{key:"n_",value:function(e,t){var n=this,r=this.t_(this.Qo);this.stream=this.i_(e,t),this.stream.uo((function(){r((function(){return n.state=2,n.$o=n.oi.enqueueAfterDelay(n.qo,1e4,(function(){return n.Go()&&(n.state=3),Promise.resolve()})),n.listener.uo()}))})),this.stream.lo((function(e){r((function(){return n.r_(e)}))})),this.stream.onMessage((function(e){r((function(){return n.onMessage(e)}))}))}},{key:"zo",value:function(){var e=this;this.state=5,this.Uo.No(Ze($e().mark((function t(){return $e().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.state=0,e.start();case 1:case"end":return t.stop()}}),t)}))))}},{key:"r_",value:function(e){return Uv("PersistentStream","close with error: ".concat(e)),this.stream=null,this.close(4,e)}},{key:"t_",value:function(e){var t=this;return function(n){t.oi.enqueueAndForget((function(){return t.Qo===e?n():(Uv("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}}}]),e}(),L_=function(e){b(n,e);var t=_(n);function n(e,r,i,a,o,s){var u;return h(this,n),(u=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,i,a,s)).serializer=o,u}return g(n,[{key:"i_",value:function(e,t){return this.connection.bo("Listen",e,t)}},{key:"onMessage",value:function(e){this.Uo.reset();var t=function(e,t){var n;if("targetChange"in t){t.targetChange;var r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:Bv()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],a=function(e,t){return e.useProto3Json?(qv(void 0===t||"string"==typeof t),Ng.fromBase64String(t||"")):(qv(void 0===t||t instanceof Uint8Array),Ng.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,s=o&&function(e){var t=void 0===e.code?Wv.UNKNOWN:ak(e.code);return new Gv(t,e.message||"")}(o);n=new gk(r,i,a,s||null)}else if("documentChange"in t){t.documentChange;var u=t.documentChange;u.document,u.document.name,u.document.updateTime;var c=jk(e,u.document.name),l=Ok(u.document.updateTime),f=u.document.createTime?Ok(u.document.createTime):um.min(),d=new oy({mapValue:{fields:u.document.fields}}),h=uy.newFoundDocument(c,l,f,d),p=u.targetIds||[],v=u.removedTargetIds||[];n=new vk(p,v,h.key,h)}else if("documentDelete"in t){t.documentDelete;var m=t.documentDelete;m.document;var g=jk(e,m.document),y=m.readTime?Ok(m.readTime):um.min(),b=uy.newNoDocument(g,y),k=m.removedTargetIds||[];n=new vk([],k,b.key,b)}else if("documentRemove"in t){t.documentRemove;var w=t.documentRemove;w.document;var x=jk(e,w.document),_=w.removedTargetIds||[];n=new vk([],_,x,null)}else{if(!("filter"in t))return Bv();t.filter;var S=t.filter;S.targetId;var E=S.count,I=void 0===E?0:E,T=S.unchangedNames,C=new rk(I,T),N=S.targetId;n=new mk(N,C)}return n}(this.serializer,e),n=function(e){if(!("targetChange"in e))return um.min();var t=e.targetChange;return t.targetIds&&t.targetIds.length?um.min():t.readTime?Ok(t.readTime):um.min()}(e);return this.listener.s_(t,n)}},{key:"o_",value:function(e){var t={};t.database=Mk(this.serializer),t.addTarget=function(e,t){var n,r=t.target;if((n=My(r)?{documents:Hk(e,r)}:{query:Wk(e,r)}).targetId=t.targetId,t.resumeToken.approximateByteSize()>0){n.resumeToken=Ck(e,t.resumeToken);var i=Ik(e,t.expectedCount);null!==i&&(n.expectedCount=i)}else if(t.snapshotVersion.compareTo(um.min())>0){n.readTime=Tk(e,t.snapshotVersion.toTimestamp());var a=Ik(e,t.expectedCount);null!==a&&(n.expectedCount=a)}return n}(this.serializer,e);var n=function(e,t){var n=function(e){switch(e){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Bv()}}(t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.serializer,e);n&&(t.labels=n),this.Yo(t)}},{key:"__",value:function(e){var t={};t.database=Mk(this.serializer),t.removeTarget=e,this.Yo(t)}}]),n}(D_),M_=function(e){b(n,e);var t=_(n);function n(e,r,i,a,o,s){var u;return h(this,n),(u=t.call(this,e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,i,a,s)).serializer=o,u.a_=!1,u}return g(n,[{key:"u_",get:function(){return this.a_}},{key:"start",value:function(){this.a_=!1,this.lastStreamToken=void 0,Or(k(n.prototype),"start",this).call(this)}},{key:"e_",value:function(){this.a_&&this.c_([])}},{key:"i_",value:function(e,t){return this.connection.bo("Write",e,t)}},{key:"onMessage",value:function(e){if(qv(!!e.streamToken),this.lastStreamToken=e.streamToken,this.a_){this.Uo.reset();var t=function(e,t){return e&&e.length>0?(qv(void 0!==t),e.map((function(e){return function(e,t){var n=e.updateTime?Ok(e.updateTime):Ok(t);return n.isEqual(um.min())&&(n=Ok(t)),new Lb(n,e.transformResults||[])}(e,t)}))):[]}(e.writeResults,e.commitTime),n=Ok(e.commitTime);return this.listener.l_(n,t)}return qv(!e.writeResults||0===e.writeResults.length),this.a_=!0,this.listener.h_()}},{key:"P_",value:function(){var e={};e.database=Mk(this.serializer),this.Yo(e)}},{key:"c_",value:function(e){var t=this,n={streamToken:this.lastStreamToken,writes:e.map((function(e){return Bk(t.serializer,e)}))};this.Yo(n)}}]),n}(D_),U_=function(e){b(n,e);var t=_(n);function n(e,r,i,a){var o;return h(this,n),(o=t.call(this)).authCredentials=e,o.appCheckCredentials=r,o.connection=i,o.serializer=a,o.I_=!1,o}return g(n,[{key:"T_",value:function(){if(this.I_)throw new Gv(Wv.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"fo",value:function(e,t,n){var r=this;return this.T_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(i){var a=l(i,2),o=a[0],s=a[1];return r.connection.fo(e,t,n,o,s)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===Wv.UNAUTHENTICATED&&(r.authCredentials.invalidateToken(),r.appCheckCredentials.invalidateToken()),e):new Gv(Wv.UNKNOWN,e.toString())}))}},{key:"So",value:function(e,t,n,r){var i=this;return this.T_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(a){var o=l(a,2),s=o[0],u=o[1];return i.connection.So(e,t,n,s,u,r)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===Wv.UNAUTHENTICATED&&(i.authCredentials.invalidateToken(),i.appCheckCredentials.invalidateToken()),e):new Gv(Wv.UNKNOWN,e.toString())}))}},{key:"terminate",value:function(){this.I_=!0}}]),n}(g((function e(){h(this,e)})));var F_=function(){function e(t,n){h(this,e),this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.d_=0,this.A_=null,this.R_=!0}return g(e,[{key:"V_",value:function(){var e=this;0===this.d_&&(this.m_("Unknown"),this.A_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(function(){return e.A_=null,e.f_("Backend didn't respond within 10 seconds."),e.m_("Offline"),Promise.resolve()})))}},{key:"g_",value:function(e){"Online"===this.state?this.m_("Unknown"):(this.d_++,this.d_>=1&&(this.p_(),this.f_("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.m_("Offline")))}},{key:"set",value:function(e){this.p_(),this.d_=0,"Online"===e&&(this.R_=!1),this.m_(e)}},{key:"m_",value:function(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}},{key:"f_",value:function(e){var t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.R_?(Fv(t),this.R_=!1):Uv("OnlineStateTracker",t)}},{key:"p_",value:function(){null!==this.A_&&(this.A_.cancel(),this.A_=null)}}]),e}(),z_=g((function e(t,n,r,i,a){var o=this;h(this,e),this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.y_=[],this.w_=new Map,this.S_=new Set,this.b_=[],this.D_=a,this.D_.Xs((function(e){r.enqueueAndForget(Ze($e().mark((function e(){return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=$_(o),!e.t0){e.next=5;break}return Uv("RemoteStore","Restarting streams for network reachability change."),e.next=5,function(){var e=Ze($e().mark((function e(t){var n;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=Hv(t)).S_.add(4),e.next=4,q_(n);case 4:return n.v_.set("Unknown"),n.S_.delete(4),e.next=8,V_(n);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(o);case 5:case"end":return e.stop()}}),e)}))))})),this.v_=new F_(r,i)}));function V_(e){return B_.apply(this,arguments)}function B_(){return(B_=Ze($e().mark((function e(t){var n,r,i;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!$_(t)){e.next=18;break}n=T(t.b_),e.prev=2,n.s();case 4:if((r=n.n()).done){e.next=10;break}return i=r.value,e.next=8,i(!0);case 8:e.next=4;break;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),n.e(e.t0);case 15:return e.prev=15,n.f(),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[2,12,15,18]])})))).apply(this,arguments)}function q_(e){return H_.apply(this,arguments)}function H_(){return(H_=Ze($e().mark((function e(t){var n,r,i;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=T(t.b_),e.prev=1,n.s();case 3:if((r=n.n()).done){e.next=9;break}return i=r.value,e.next=7,i(!1);case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),n.e(e.t0);case 14:return e.prev=14,n.f(),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[1,11,14,17]])})))).apply(this,arguments)}function W_(e,t){var n=Hv(e);n.w_.has(t.targetId)||(n.w_.set(t.targetId,t),X_(n)?Y_(n):IS(n).Go()&&K_(n,t))}function G_(e,t){var n=Hv(e),r=IS(n);n.w_.delete(t),r.Go()&&Q_(n,t),0===n.w_.size&&(r.Go()?r.Ho():$_(n)&&n.v_.set("Unknown"))}function K_(e,t){if(e.C_.Le(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(um.min())>0){var n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}IS(e).o_(t)}function Q_(e,t){e.C_.Le(t),IS(e).__(t)}function Y_(e){e.C_=new bk({getRemoteKeysForTarget:function(t){return e.remoteSyncer.getRemoteKeysForTarget(t)},lt:function(t){return e.w_.get(t)||null},st:function(){return e.datastore.serializer.databaseId}}),IS(e).start(),e.v_.V_()}function X_(e){return $_(e)&&!IS(e).Wo()&&e.w_.size>0}function $_(e){return 0===Hv(e).S_.size}function J_(e){e.C_=void 0}function Z_(e){return eS.apply(this,arguments)}function eS(){return(eS=Ze($e().mark((function e(t){return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.w_.forEach((function(e,n){K_(t,e)}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function tS(e,t){return nS.apply(this,arguments)}function nS(){return(nS=Ze($e().mark((function e(t,n){return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:J_(t),X_(t)?(t.v_.g_(n),Y_(t)):t.v_.set("Unknown");case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function rS(e,t,n){return iS.apply(this,arguments)}function iS(){return iS=Ze($e().mark((function e(t,n,r){var i;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.v_.set("Online"),!(n instanceof gk&&2===n.state&&n.cause)){e.next=13;break}return e.prev=1,e.next=4,function(){var e=Ze($e().mark((function e(t,n){var r,i,a,o;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=n.cause,i=T(n.targetIds),e.prev=2,i.s();case 4:if((a=i.n()).done){e.next=14;break}if(o=a.value,e.t0=t.w_.has(o),!e.t0){e.next=12;break}return e.next=10,t.remoteSyncer.rejectListen(o,r);case 10:t.w_.delete(o),t.C_.removeTarget(o);case 12:e.next=4;break;case 14:e.next=19;break;case 16:e.prev=16,e.t1=e.catch(2),i.e(e.t1);case 19:return e.prev=19,i.f(),e.finish(19);case 22:case"end":return e.stop()}}),e,null,[[2,16,19,22]])})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:e.next=11;break;case 6:return e.prev=6,e.t0=e.catch(1),Uv("RemoteStore","Failed to remove targets %s: %s ",n.targetIds.join(","),e.t0),e.next=11,aS(t,e.t0);case 11:case 22:e.next=29;break;case 13:if(n instanceof vk?t.C_.Ge(n):n instanceof mk?t.C_.Xe(n):t.C_.He(n),r.isEqual(um.min())){e.next=29;break}return e.prev=14,e.next=17,Jx(t.localStore);case 17:if(i=e.sent,e.t1=r.compareTo(i)>=0,!e.t1){e.next=22;break}return e.next=22,function(e,t){var n=e.C_._t(t);return n.targetChanges.forEach((function(n,r){if(n.resumeToken.approximateByteSize()>0){var i=e.w_.get(r);i&&e.w_.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach((function(t,n){var r=e.w_.get(t);if(r){e.w_.set(t,r.withResumeToken(Ng.EMPTY_BYTE_STRING,r.snapshotVersion)),Q_(e,t);var i=new nw(r.target,t,n,r.sequenceNumber);K_(e,i)}})),e.remoteSyncer.applyRemoteEvent(n)}(t,r);case 24:return e.prev=24,e.t2=e.catch(14),Uv("RemoteStore","Failed to raise snapshot:",e.t2),e.next=29,aS(t,e.t2);case 29:case"end":return e.stop()}}),e,null,[[1,6],[14,24]])}))),iS.apply(this,arguments)}function aS(e,t,n){return oS.apply(this,arguments)}function oS(){return(oS=Ze($e().mark((function e(t,n,r){return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Am(n)){e.next=2;break}throw n;case 2:return t.S_.add(1),e.next=5,q_(t);case 5:t.v_.set("Offline"),r||(r=function(){return Jx(t.localStore)}),t.asyncQueue.enqueueRetryable(Ze($e().mark((function e(){return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Uv("RemoteStore","Retrying IndexedDB access"),e.next=3,r();case 3:return t.S_.delete(1),e.next=6,V_(t);case 6:case"end":return e.stop()}}),e)}))));case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function sS(e,t){return t().catch((function(n){return aS(e,n,t)}))}function uS(e){return cS.apply(this,arguments)}function cS(){return cS=Ze($e().mark((function e(t){var n,r,i,a;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=Hv(t),r=TS(n),i=n.y_.length>0?n.y_[n.y_.length-1].batchId:-1;case 2:if(!lS(n)){e.next=19;break}return e.prev=3,e.next=6,t_(n.localStore,i);case 6:if(null!==(a=e.sent)){e.next=10;break}return 0===n.y_.length&&r.Ho(),e.abrupt("break",19);case 10:i=a.batchId,fS(n,a),e.next=17;break;case 13:return e.prev=13,e.t0=e.catch(3),e.next=17,aS(n,e.t0);case 17:e.next=2;break;case 19:dS(n)&&hS(n);case 20:case"end":return e.stop()}}),e,null,[[3,13]])}))),cS.apply(this,arguments)}function lS(e){return $_(e)&&e.y_.length<10}function fS(e,t){e.y_.push(t);var n=TS(e);n.Go()&&n.u_&&n.c_(t.mutations)}function dS(e){return $_(e)&&!TS(e).Wo()&&e.y_.length>0}function hS(e){TS(e).start()}function pS(e){return vS.apply(this,arguments)}function vS(){return(vS=Ze($e().mark((function e(t){return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:TS(t).P_();case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function mS(e){return gS.apply(this,arguments)}function gS(){return(gS=Ze($e().mark((function e(t){var n,r,i,a;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=TS(t),r=T(t.y_);try{for(r.s();!(i=r.n()).done;)a=i.value,n.c_(a.mutations)}catch(o){r.e(o)}finally{r.f()}case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function yS(e,t,n){return bS.apply(this,arguments)}function bS(){return bS=Ze($e().mark((function e(t,n,r){var i,a;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.y_.shift(),a=tk.from(i,n,r),e.next=3,sS(t,(function(){return t.remoteSyncer.applySuccessfulWrite(a)}));case 3:return e.next=5,uS(t);case 5:case"end":return e.stop()}}),e)}))),bS.apply(this,arguments)}function kS(e,t){return wS.apply(this,arguments)}function wS(){return wS=Ze($e().mark((function e(t,n){return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=n&&TS(t).u_,!e.t0){e.next=4;break}return e.next=4,function(){var e=Ze($e().mark((function e(t,n){var r;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!function(e){return ik(e)&&e!==Wv.ABORTED}(n.code)){e.next=7;break}return r=t.y_.shift(),TS(t).jo(),e.next=5,sS(t,(function(){return t.remoteSyncer.rejectFailedWrite(r.batchId,n)}));case 5:return e.next=7,uS(t);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:dS(t)&&hS(t);case 5:case"end":return e.stop()}}),e)}))),wS.apply(this,arguments)}function xS(e,t){return _S.apply(this,arguments)}function _S(){return _S=Ze($e().mark((function e(t,n){var r,i;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=Hv(t)).asyncQueue.verifyOperationInProgress(),Uv("RemoteStore","RemoteStore received new credentials"),i=$_(r),r.S_.add(3),e.next=6,q_(r);case 6:return i&&r.v_.set("Unknown"),e.next=9,r.remoteSyncer.handleCredentialChange(n);case 9:return r.S_.delete(3),e.next=12,V_(r);case 12:case"end":return e.stop()}}),e)}))),_S.apply(this,arguments)}function SS(e,t){return ES.apply(this,arguments)}function ES(){return(ES=Ze($e().mark((function e(t,n){var r;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Hv(t),!n){e.next=7;break}return r.S_.delete(2),e.next=5,V_(r);case 5:e.next=13;break;case 7:if(e.t0=n,e.t0){e.next=13;break}return r.S_.add(2),e.next=12,q_(r);case 12:r.v_.set("Unknown");case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function IS(e){return e.F_||(e.F_=function(e,t,n){var r=Hv(e);return r.T_(),new L_(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{uo:Z_.bind(null,e),lo:tS.bind(null,e),s_:rS.bind(null,e)}),e.b_.push(function(){var t=Ze($e().mark((function t(n){return $e().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=4;break}e.F_.jo(),X_(e)?Y_(e):e.v_.set("Unknown"),t.next=7;break;case 4:return t.next=6,e.F_.stop();case 6:J_(e);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.F_}function TS(e){return e.M_||(e.M_=function(e,t,n){var r=Hv(e);return r.T_(),new M_(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{uo:pS.bind(null,e),lo:kS.bind(null,e),h_:mS.bind(null,e),l_:yS.bind(null,e)}),e.b_.push(function(){var t=Ze($e().mark((function t(n){return $e().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=6;break}return e.M_.jo(),t.next=4,uS(e);case 4:t.next=9;break;case 6:return t.next=8,e.M_.stop();case 8:e.y_.length>0&&(Uv("RemoteStore","Stopping write stream with ".concat(e.y_.length," pending writes")),e.y_=[]);case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.M_}var CS=function(){function e(t,n,r,i,a){h(this,e),this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new Kv,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((function(e){}))}return g(e,[{key:"start",value:function(e){var t=this;this.timerHandle=setTimeout((function(){return t.handleDelayElapsed()}),e)}},{key:"skipDelay",value:function(){return this.handleDelayElapsed()}},{key:"cancel",value:function(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Gv(Wv.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}},{key:"handleDelayElapsed",value:function(){var e=this;this.asyncQueue.enqueueAndForget((function(){return null!==e.timerHandle?(e.clearTimeout(),e.op().then((function(t){return e.deferred.resolve(t)}))):Promise.resolve()}))}},{key:"clearTimeout",value:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}))}],[{key:"createAndSchedule",value:function(t,n,r,i,a){var o=new e(t,n,Date.now()+r,i,a);return o.start(r),o}}]),e}();function NS(e,t){if(Fv("AsyncQueue","".concat(t,": ").concat(e)),Am(e))return new Gv(Wv.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}var OS=function(){function e(t){h(this,e),this.comparator=t?function(e,n){return t(e,n)||hm.comparator(e.key,n.key)}:function(e,t){return hm.comparator(e.key,t.key)},this.keyedMap=lb(),this.sortedSet=new wg(this.comparator)}return g(e,[{key:"has",value:function(e){return null!=this.keyedMap.get(e)}},{key:"get",value:function(e){return this.keyedMap.get(e)}},{key:"first",value:function(){return this.sortedSet.minKey()}},{key:"last",value:function(){return this.sortedSet.maxKey()}},{key:"isEmpty",value:function(){return this.sortedSet.isEmpty()}},{key:"indexOf",value:function(e){var t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}},{key:"size",get:function(){return this.sortedSet.size}},{key:"forEach",value:function(e){this.sortedSet.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"add",value:function(e){var t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}},{key:"delete",value:function(e){var t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}},{key:"copy",value:function(t,n){var r=new e;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}}],[{key:"emptySet",value:function(t){return new e(t.comparator)}}]),e}(),PS=function(){function e(){h(this,e),this.x_=new wg(hm.comparator)}return g(e,[{key:"track",value:function(e){var t=e.doc.key,n=this.x_.get(t);n?0!==e.type&&3===n.type?this.x_=this.x_.insert(t,e):3===e.type&&1!==n.type?this.x_=this.x_.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.x_=this.x_.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.x_=this.x_.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.x_=this.x_.remove(t):1===e.type&&2===n.type?this.x_=this.x_.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.x_=this.x_.insert(t,{type:2,doc:e.doc}):Bv():this.x_=this.x_.insert(t,e)}},{key:"O_",value:function(){var e=[];return this.x_.inorderTraversal((function(t,n){e.push(n)})),e}}]),e}(),AS=function(){function e(t,n,r,i,a,o,s,u,c){h(this,e),this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=o,this.syncStateChanged=s,this.excludesMetadataChanges=u,this.hasCachedResults=c}return g(e,[{key:"hasPendingWrites",get:function(){return!this.mutatedKeys.isEmpty()}},{key:"isEqual",value:function(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Zy(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;var t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(var r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}],[{key:"fromInitialDocuments",value:function(t,n,r,i,a){var o=[];return n.forEach((function(e){o.push({type:0,doc:e})})),new e(t,n,OS.emptySet(n),o,r,i,!0,!1,a)}}]),e}(),RS=g((function e(){h(this,e),this.N_=void 0,this.listeners=[]})),jS=g((function e(){h(this,e),this.queries=new ob((function(e){return eb(e)}),Zy),this.onlineState="Unknown",this.B_=new Set}));function DS(e,t){return LS.apply(this,arguments)}function LS(){return LS=Ze($e().mark((function e(t,n){var r,i,a,o,s;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Hv(t),i=n.query,a=!1,(o=r.queries.get(i))||(a=!0,o=new RS),!a){e.next=13;break}return e.prev=3,e.next=6,r.onListen(i);case 6:o.N_=e.sent,e.next=13;break;case 9:return e.prev=9,e.t0=e.catch(3),s=NS(e.t0,"Initialization of query '".concat(tb(n.query),"' failed")),e.abrupt("return",void n.onError(s));case 13:r.queries.set(i,o),o.listeners.push(n),n.L_(r.onlineState),o.N_&&n.k_(o.N_)&&VS(r);case 14:case"end":return e.stop()}}),e,null,[[3,9]])}))),LS.apply(this,arguments)}function MS(e,t){return US.apply(this,arguments)}function US(){return US=Ze($e().mark((function e(t,n){var r,i,a,o,s;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Hv(t),i=n.query,a=!1,(o=r.queries.get(i))&&(s=o.listeners.indexOf(n))>=0&&(o.listeners.splice(s,1),a=0===o.listeners.length),!a){e.next=6;break}return e.abrupt("return",(r.queries.delete(i),r.onUnlisten(i)));case 6:case"end":return e.stop()}}),e)}))),US.apply(this,arguments)}function FS(e,t){var n,r=Hv(e),i=!1,a=T(t);try{for(a.s();!(n=a.n()).done;){var o=n.value,s=o.query,u=r.queries.get(s);if(u){var c,l=T(u.listeners);try{for(l.s();!(c=l.n()).done;){c.value.k_(o)&&(i=!0)}}catch(f){l.e(f)}finally{l.f()}u.N_=o}}}catch(f){a.e(f)}finally{a.f()}i&&VS(r)}function zS(e,t,n){var r=Hv(e),i=r.queries.get(t);if(i){var a,o=T(i.listeners);try{for(o.s();!(a=o.n()).done;){a.value.onError(n)}}catch(s){o.e(s)}finally{o.f()}}r.queries.delete(t)}function VS(e){e.B_.forEach((function(e){e.next()}))}var BS=function(){function e(t,n,r){h(this,e),this.query=t,this.q_=n,this.Q_=!1,this.K_=null,this.onlineState="Unknown",this.options=r||{}}return g(e,[{key:"k_",value:function(e){if(!this.options.includeMetadataChanges){var t,n=[],r=T(e.docChanges);try{for(r.s();!(t=r.n()).done;){var i=t.value;3!==i.type&&n.push(i)}}catch(o){r.e(o)}finally{r.f()}e=new AS(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}var a=!1;return this.Q_?this.U_(e)&&(this.q_.next(e),a=!0):this.W_(e,this.onlineState)&&(this.G_(e),a=!0),this.K_=e,a}},{key:"onError",value:function(e){this.q_.error(e)}},{key:"L_",value:function(e){this.onlineState=e;var t=!1;return this.K_&&!this.Q_&&this.W_(this.K_,e)&&(this.G_(this.K_),t=!0),t}},{key:"W_",value:function(e,t){if(!e.fromCache)return!0;var n="Offline"!==t;return(!this.options.z_||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}},{key:"U_",value:function(e){if(e.docChanges.length>0)return!0;var t=this.K_&&this.K_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}},{key:"G_",value:function(e){e=AS.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Q_=!0,this.q_.next(e)}}]),e}(),qS=function(){function e(t,n){h(this,e),this.j_=t,this.byteLength=n}return g(e,[{key:"H_",value:function(){return"metadata"in this.j_}}]),e}(),HS=function(){function e(t){h(this,e),this.serializer=t}return g(e,[{key:"us",value:function(e){return jk(this.serializer,e)}},{key:"cs",value:function(e){return e.metadata.exists?zk(this.serializer,e.document,!1):uy.newNoDocument(this.us(e.metadata.name),this.ls(e.metadata.readTime))}},{key:"ls",value:function(e){return Ok(e)}}]),e}(),WS=function(){function e(t,n,r){h(this,e),this.J_=t,this.localStore=n,this.serializer=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=GS(t)}return g(e,[{key:"Y_",value:function(e){this.progress.bytesLoaded+=e.byteLength;var t=this.progress.documentsLoaded;if(e.j_.namedQuery)this.queries.push(e.j_.namedQuery);else if(e.j_.documentMetadata){this.documents.push({metadata:e.j_.documentMetadata}),e.j_.documentMetadata.exists||++t;var n=lm.fromString(e.j_.documentMetadata.name);this.collectionGroups.add(n.get(n.length-2))}else e.j_.document&&(this.documents[this.documents.length-1].document=e.j_.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}},{key:"Z_",value:function(e){var t,n=new Map,r=new HS(this.serializer),i=T(e);try{for(i.s();!(t=i.n()).done;){var a=t.value;if(a.metadata.queries){var o,s=r.us(a.metadata.name),u=T(a.metadata.queries);try{for(u.s();!(o=u.n()).done;){var c=o.value,l=(n.get(c)||gb()).add(s);n.set(c,l)}}catch(f){u.e(f)}finally{u.f()}}}}catch(f){i.e(f)}finally{i.f()}return n}},{key:"complete",value:function(){var e=Ze($e().mark((function e(){var t,n,r,i,a;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c_(this.localStore,new HS(this.serializer),this.documents,this.J_.id);case 2:t=e.sent,n=this.Z_(this.documents),r=T(this.queries),e.prev=5,r.s();case 7:if((i=r.n()).done){e.next=13;break}return a=i.value,e.next=11,f_(this.localStore,a,n.get(a.name));case 11:e.next=7;break;case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(5),r.e(e.t0);case 18:return e.prev=18,r.f(),e.finish(18);case 21:return e.abrupt("return",(this.progress.taskState="Success",{progress:this.progress,X_:this.collectionGroups,ea:t}));case 22:case"end":return e.stop()}}),e,this,[[5,15,18,21]])})));return function(){return e.apply(this,arguments)}}()}]),e}();function GS(e){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}var KS=g((function e(t){h(this,e),this.key=t})),QS=g((function e(t){h(this,e),this.key=t})),YS=function(){function e(t,n){h(this,e),this.query=t,this.ta=n,this.na=null,this.hasCachedResults=!1,this.current=!1,this.ra=gb(),this.mutatedKeys=gb(),this.ia=ib(t),this.sa=new OS(this.ia)}return g(e,[{key:"oa",get:function(){return this.ta}},{key:"_a",value:function(e,t){var n=this,r=t?t.aa:new PS,i=t?t.sa:this.sa,a=t?t.mutatedKeys:this.mutatedKeys,o=i,s=!1,u="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,c="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((function(e,t){var l=i.get(e),f=nb(n.query,t)?t:null,d=!!l&&n.mutatedKeys.has(l.key),h=!!f&&(f.hasLocalMutations||n.mutatedKeys.has(f.key)&&f.hasCommittedMutations),p=!1;l&&f?l.data.isEqual(f.data)?d!==h&&(r.track({type:3,doc:f}),p=!0):n.ua(l,f)||(r.track({type:2,doc:f}),p=!0,(u&&n.ia(f,u)>0||c&&n.ia(f,c)<0)&&(s=!0)):!l&&f?(r.track({type:0,doc:f}),p=!0):l&&!f&&(r.track({type:1,doc:l}),p=!0,(u||c)&&(s=!0)),p&&(f?(o=o.add(f),a=h?a.add(e):a.delete(e)):(o=o.delete(e),a=a.delete(e)))})),null!==this.query.limit)for(;o.size>this.query.limit;){var l="F"===this.query.limitType?o.last():o.first();o=o.delete(l.key),a=a.delete(l.key),r.track({type:1,doc:l})}return{sa:o,aa:r,Hi:s,mutatedKeys:a}}},{key:"ua",value:function(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}},{key:"applyChanges",value:function(e,t,n){var r=this,i=this.sa;this.sa=e.sa,this.mutatedKeys=e.mutatedKeys;var a=e.aa.O_();a.sort((function(e,t){return function(e,t){var n=function(e){switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Bv()}};return n(e)-n(t)}(e.type,t.type)||r.ia(e.doc,t.doc)})),this.ca(n);var o=t?this.la():[],s=0===this.ra.size&&this.current?1:0,u=s!==this.na;return this.na=s,0!==a.length||u?{snapshot:new AS(this.query,e.sa,i,a,e.mutatedKeys,0===s,u,!1,!!n&&n.resumeToken.approximateByteSize()>0),ha:o}:{ha:o}}},{key:"L_",value:function(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({sa:this.sa,aa:new PS,mutatedKeys:this.mutatedKeys,Hi:!1},!1)):{ha:[]}}},{key:"Pa",value:function(e){return!this.ta.has(e)&&!!this.sa.has(e)&&!this.sa.get(e).hasLocalMutations}},{key:"ca",value:function(e){var t=this;e&&(e.addedDocuments.forEach((function(e){return t.ta=t.ta.add(e)})),e.modifiedDocuments.forEach((function(e){})),e.removedDocuments.forEach((function(e){return t.ta=t.ta.delete(e)})),this.current=e.current)}},{key:"la",value:function(){var e=this;if(!this.current)return[];var t=this.ra;this.ra=gb(),this.sa.forEach((function(t){e.Pa(t.key)&&(e.ra=e.ra.add(t.key))}));var n=[];return t.forEach((function(t){e.ra.has(t)||n.push(new QS(t))})),this.ra.forEach((function(e){t.has(e)||n.push(new KS(e))})),n}},{key:"Ia",value:function(e){this.ta=e._s,this.ra=gb();var t=this._a(e.documents);return this.applyChanges(t,!0)}},{key:"Ta",value:function(){return AS.fromInitialDocuments(this.query,this.sa,this.mutatedKeys,0===this.na,this.hasCachedResults)}}]),e}(),XS=g((function e(t,n,r){h(this,e),this.query=t,this.targetId=n,this.view=r})),$S=g((function e(t){h(this,e),this.key=t,this.Ea=!1})),JS=function(){function e(t,n,r,i,a,o){h(this,e),this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=o,this.da={},this.Aa=new ob((function(e){return eb(e)}),Zy),this.Ra=new Map,this.Va=new Set,this.ma=new wg(hm.comparator),this.fa=new Map,this.ga=new Nx,this.pa={},this.ya=new Map,this.wa=ix.Bn(),this.onlineState="Unknown",this.Sa=void 0}return g(e,[{key:"isPrimaryClient",get:function(){return!0===this.Sa}}]),e}();function ZS(e,t){return eE.apply(this,arguments)}function eE(){return eE=Ze($e().mark((function e(t,n){var r,i,a,o,s,u;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=GE(t),!(o=r.Aa.get(n))){e.next=6;break}i=o.targetId,r.sharedClientState.addLocalQueryTarget(i),a=o.view.Ta(),e.next=15;break;case 6:return e.next=8,n_(r.localStore,Yy(n));case 8:return s=e.sent,u=r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.targetId,e.next=13,tE(r,n,i,"current"===u,s.resumeToken);case 13:a=e.sent,r.isPrimaryClient&&W_(r.remoteStore,s);case 15:return e.abrupt("return",a);case 16:case"end":return e.stop()}}),e)}))),eE.apply(this,arguments)}function tE(e,t,n,r,i){return nE.apply(this,arguments)}function nE(){return nE=Ze($e().mark((function e(t,n,r,i,a){var o,s,u,c,l,f;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.ba=function(e,n,r){return function(){var e=Ze($e().mark((function e(t,n,r,i){var a,o,s;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=n.view._a(r),e.t0=a.Hi,!e.t0){e.next=6;break}return e.next=5,a_(t.localStore,n.query,!1).then((function(e){var t=e.documents;return n.view._a(t,a)}));case 5:a=e.sent;case 6:return o=i&&i.targetChanges.get(n.targetId),s=n.view.applyChanges(a,t.isPrimaryClient,o),e.abrupt("return",(xE(t,n.targetId,s.ha),s.snapshot));case 8:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}()(t,e,n,r)},e.next=3,a_(t.localStore,n,!0);case 3:return o=e.sent,s=new YS(n,o._s),u=s._a(o.documents),c=pk.createSynthesizedTargetChangeForCurrentChange(r,i&&"Offline"!==t.onlineState,a),l=s.applyChanges(u,t.isPrimaryClient,c),xE(t,r,l.ha),f=new XS(n,r,s),e.abrupt("return",(t.Aa.set(n,f),t.Ra.has(r)?t.Ra.get(r).push(n):t.Ra.set(r,[n]),l.snapshot));case 11:case"end":return e.stop()}}),e)}))),nE.apply(this,arguments)}function rE(e,t){return iE.apply(this,arguments)}function iE(){return iE=Ze($e().mark((function e(t,n){var r,i,a;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Hv(t),i=r.Aa.get(n),!((a=r.Ra.get(i.targetId)).length>1)){e.next=3;break}return e.abrupt("return",(r.Ra.set(i.targetId,a.filter((function(e){return!Zy(e,n)}))),void r.Aa.delete(n)));case 3:if(!r.isPrimaryClient){e.next=11;break}if(r.sharedClientState.removeLocalQueryTarget(i.targetId),e.t0=r.sharedClientState.isActiveQueryTarget(i.targetId),e.t0){e.next=9;break}return e.next=9,r_(r.localStore,i.targetId,!1).then((function(){r.sharedClientState.clearQueryState(i.targetId),G_(r.remoteStore,i.targetId),kE(r,i.targetId)})).catch(Em);case 9:e.next=14;break;case 11:return kE(r,i.targetId),e.next=14,r_(r.localStore,i.targetId,!0);case 14:case"end":return e.stop()}}),e)}))),iE.apply(this,arguments)}function aE(e,t,n){return oE.apply(this,arguments)}function oE(){return oE=Ze($e().mark((function e(t,n,r){var i,a,o;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=KE(t),e.prev=1,e.next=4,function(e,t){var n,r,i=Hv(e),a=sm.now(),o=t.reduce((function(e,t){return e.add(t.key)}),gb());return i.persistence.runTransaction("Locally write mutations","readwrite",(function(e){var s=ub(),u=gb();return i.ts.getEntries(e,o).next((function(e){(s=e).forEach((function(e,t){t.isValidDocument()||(u=u.add(e))}))})).next((function(){return i.localDocuments.getOverlayedDocuments(e,s)})).next((function(r){n=r;var o,s=[],u=T(t);try{for(u.s();!(o=u.n()).done;){var c=o.value,l=qb(c,n.get(c.key).overlayedDocument);null!=l&&s.push(new Gb(c.key,l,sy(l.value.mapValue),Mb.exists(!0)))}}catch(f){u.e(f)}finally{u.f()}return i.mutationQueue.addMutationBatch(e,a,s,t)})).next((function(t){r=t;var a=t.applyToLocalDocumentSet(n,u);return i.documentOverlayCache.saveOverlays(e,t.batchId,a)}))})).then((function(){return{batchId:r.batchId,changes:fb(n)}}))}(i.localStore,n);case 4:return a=e.sent,i.sharedClientState.addPendingMutation(a.batchId),function(e,t,n){var r=e.pa[e.currentUser.toKey()];r||(r=new wg(im)),r=r.insert(t,n),e.pa[e.currentUser.toKey()]=r}(i,a.batchId,r),e.next=9,EE(i,a.changes);case 9:return e.next=11,uS(i.remoteStore);case 11:e.next=17;break;case 13:e.prev=13,e.t0=e.catch(1),o=NS(e.t0,"Failed to persist write"),r.reject(o);case 17:case"end":return e.stop()}}),e,null,[[1,13]])}))),oE.apply(this,arguments)}function sE(e,t){return uE.apply(this,arguments)}function uE(){return uE=Ze($e().mark((function e(t,n){var r,i;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Hv(t),e.prev=1,e.next=4,Zx(r.localStore,n);case 4:return i=e.sent,n.targetChanges.forEach((function(e,t){var n=r.fa.get(t);n&&(qv(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?n.Ea=!0:e.modifiedDocuments.size>0?qv(n.Ea):e.removedDocuments.size>0&&(qv(n.Ea),n.Ea=!1))})),e.next=8,EE(r,i,n);case 8:e.next=14;break;case 10:return e.prev=10,e.t0=e.catch(1),e.next=14,Em(e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,10]])}))),uE.apply(this,arguments)}function cE(e,t,n){var r=Hv(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.Aa.forEach((function(e,n){var r=n.view.L_(t);r.snapshot&&i.push(r.snapshot)})),function(e,t){var n=Hv(e);n.onlineState=t;var r=!1;n.queries.forEach((function(e,n){var i,a=T(n.listeners);try{for(a.s();!(i=a.n()).done;){i.value.L_(t)&&(r=!0)}}catch(o){a.e(o)}finally{a.f()}})),r&&VS(n)}(r.eventManager,t),i.length&&r.da.s_(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}function lE(e,t,n){return fE.apply(this,arguments)}function fE(){return fE=Ze($e().mark((function e(t,n,r){var i,a,o,s,u,c;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((i=Hv(t)).sharedClientState.updateQueryState(n,"rejected",r),a=i.fa.get(n),!(o=a&&a.key)){e.next=14;break}return s=(s=new wg(hm.comparator)).insert(o,uy.newNoDocument(o,um.min())),u=gb().add(o),c=new hk(um.min(),new Map,new wg(im),s,u),e.next=9,sE(i,c);case 9:i.ma=i.ma.remove(o),i.fa.delete(n),SE(i),e.next=16;break;case 14:return e.next=16,r_(i.localStore,n,!1).then((function(){return kE(i,n,r)})).catch(Em);case 16:case"end":return e.stop()}}),e)}))),fE.apply(this,arguments)}function dE(e,t){return hE.apply(this,arguments)}function hE(){return hE=Ze($e().mark((function e(t,n){var r,i,a;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Hv(t),i=n.batch.batchId,e.prev=1,e.next=4,$x(r.localStore,n);case 4:return a=e.sent,bE(r,i,null),yE(r,i),r.sharedClientState.updateMutationState(i,"acknowledged"),e.next=10,EE(r,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,Em(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),hE.apply(this,arguments)}function pE(e,t,n){return vE.apply(this,arguments)}function vE(){return vE=Ze($e().mark((function e(t,n,r){var i,a;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Hv(t),e.prev=1,e.next=4,function(e,t){var n=Hv(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(function(e){var r;return n.mutationQueue.lookupMutationBatch(e,t).next((function(t){return qv(null!==t),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t)})).next((function(){return n.mutationQueue.performConsistencyCheck(e)})).next((function(){return n.documentOverlayCache.removeOverlaysForBatchId(e,r,t)})).next((function(){return n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r)})).next((function(){return n.localDocuments.getDocuments(e,r)}))}))}(i.localStore,n);case 4:return a=e.sent,bE(i,n,r),yE(i,n),i.sharedClientState.updateMutationState(n,"rejected",r),e.next=10,EE(i,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,Em(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),vE.apply(this,arguments)}function mE(e,t){return gE.apply(this,arguments)}function gE(){return gE=Ze($e().mark((function e(t,n){var r,i,a,o;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return $_((r=Hv(t)).remoteStore)||Uv("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),e.prev=2,e.next=5,function(e){var t=Hv(e);return t.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(function(e){return t.mutationQueue.getHighestUnacknowledgedBatchId(e)}))}(r.localStore);case 5:if(-1!==(i=e.sent)){e.next=8;break}return e.abrupt("return",void n.resolve());case 8:(a=r.ya.get(i)||[]).push(n),r.ya.set(i,a),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(2),o=NS(e.t0,"Initialization of waitForPendingWrites() operation failed"),n.reject(o);case 16:case"end":return e.stop()}}),e,null,[[2,12]])}))),gE.apply(this,arguments)}function yE(e,t){(e.ya.get(t)||[]).forEach((function(e){e.resolve()})),e.ya.delete(t)}function bE(e,t,n){var r=Hv(e),i=r.pa[r.currentUser.toKey()];if(i){var a=i.get(t);a&&(n?a.reject(n):a.resolve(),i=i.remove(t)),r.pa[r.currentUser.toKey()]=i}}function kE(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);var r,i=T(e.Ra.get(t));try{for(i.s();!(r=i.n()).done;){var a=r.value;e.Aa.delete(a),n&&e.da.Da(a,n)}}catch(o){i.e(o)}finally{i.f()}e.Ra.delete(t),e.isPrimaryClient&&e.ga.Vr(t).forEach((function(t){e.ga.containsKey(t)||wE(e,t)}))}function wE(e,t){e.Va.delete(t.path.canonicalString());var n=e.ma.get(t);null!==n&&(G_(e.remoteStore,n),e.ma=e.ma.remove(t),e.fa.delete(n),SE(e))}function xE(e,t,n){var r,i=T(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;a instanceof KS?(e.ga.addReference(a.key,t),_E(e,a)):a instanceof QS?(Uv("SyncEngine","Document no longer in limbo: "+a.key),e.ga.removeReference(a.key,t),e.ga.containsKey(a.key)||wE(e,a.key)):Bv()}}catch(o){i.e(o)}finally{i.f()}}function _E(e,t){var n=t.key,r=n.path.canonicalString();e.ma.get(n)||e.Va.has(r)||(Uv("SyncEngine","New document in limbo: "+n),e.Va.add(r),SE(e))}function SE(e){for(;e.Va.size>0&&e.ma.size<e.maxConcurrentLimboResolutions;){var t=e.Va.values().next().value;e.Va.delete(t);var n=new hm(lm.fromString(t)),r=e.wa.next();e.fa.set(r,new $S(n)),e.ma=e.ma.insert(n,r),W_(e.remoteStore,new nw(Yy(qy(n.path)),r,"TargetPurposeLimboResolution",Fm.ae))}}function EE(e,t,n){return IE.apply(this,arguments)}function IE(){return IE=Ze($e().mark((function e(t,n,r){var i,a,o,s;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=Hv(t),a=[],o=[],s=[],e.t0=i.Aa.isEmpty(),e.t0){e.next=9;break}return i.Aa.forEach((function(e,t){s.push(i.ba(t,n,r).then((function(e){if((e||r)&&i.isPrimaryClient&&i.sharedClientState.updateQueryState(t.targetId,(null==e?void 0:e.fromCache)?"not-current":"current"),e){a.push(e);var n=Wx.Ki(t.targetId,e);o.push(n)}})))})),e.next=6,Promise.all(s);case 6:return i.da.s_(a),e.next=9,function(){var e=Ze($e().mark((function e(t,n){var r,i,a,o,s,u,c,l;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Hv(t),e.prev=1,e.next=4,r.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(e){return Tm.forEach(n,(function(t){return Tm.forEach(t.qi,(function(n){return r.persistence.referenceDelegate.addReference(e,t.targetId,n)})).next((function(){return Tm.forEach(t.Qi,(function(n){return r.persistence.referenceDelegate.removeReference(e,t.targetId,n)}))}))}))}));case 4:e.next=11;break;case 6:if(e.prev=6,e.t0=e.catch(1),Am(e.t0)){e.next=10;break}throw e.t0;case 10:Uv("LocalStore","Failed to update sequence numbers: "+e.t0);case 11:i=T(n);try{for(i.s();!(a=i.n()).done;)o=a.value,s=o.targetId,o.fromCache||(u=r.Zi.get(s),c=u.snapshotVersion,l=u.withLastLimboFreeSnapshotVersion(c),r.Zi=r.Zi.insert(s,l))}catch(f){i.e(f)}finally{i.f()}case 13:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t,n){return e.apply(this,arguments)}}()(i.localStore,o);case 9:case"end":return e.stop()}}),e)}))),IE.apply(this,arguments)}function TE(e,t){return CE.apply(this,arguments)}function CE(){return(CE=Ze($e().mark((function e(t,n){var r,i;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((r=Hv(t)).currentUser.isEqual(n)){e.next=11;break}return Uv("SyncEngine","User change. New user:",n.toKey()),e.next=5,Yx(r.localStore,n);case 5:return i=e.sent,r.currentUser=n,function(e,t){e.ya.forEach((function(e){e.forEach((function(e){e.reject(new Gv(Wv.CANCELLED,t))}))})),e.ya.clear()}(r,"'waitForPendingWrites' promise is rejected due to a user change."),r.sharedClientState.handleUserChange(n,i.removedBatchIds,i.addedBatchIds),e.next=11,EE(r,i.rs);case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function NE(e,t){var n=Hv(e),r=n.fa.get(t);if(r&&r.Ea)return gb().add(r.key);var i=gb(),a=n.Ra.get(t);if(!a)return i;var o,s=T(a);try{for(s.s();!(o=s.n()).done;){var u=o.value,c=n.Aa.get(u);i=i.unionWith(c.view.oa)}}catch(l){s.e(l)}finally{s.f()}return i}function OE(e,t){return PE.apply(this,arguments)}function PE(){return PE=Ze($e().mark((function e(t,n){var r,i,a;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Hv(t),e.next=3,a_(r.localStore,n.query,!0);case 3:return i=e.sent,a=n.view.Ia(i),e.abrupt("return",(r.isPrimaryClient&&xE(r,n.targetId,a.ha),a));case 6:case"end":return e.stop()}}),e)}))),PE.apply(this,arguments)}function AE(e,t){return RE.apply(this,arguments)}function RE(){return(RE=Ze($e().mark((function e(t,n){var r;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Hv(t),e.abrupt("return",s_(r.localStore,n).then((function(e){return EE(r,e)})));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function jE(e,t,n,r){return DE.apply(this,arguments)}function DE(){return DE=Ze($e().mark((function e(t,n,r,i){var a,o;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Hv(t),e.next=3,function(e,t){var n=Hv(e),r=Hv(n.mutationQueue);return n.persistence.runTransaction("Lookup mutation documents","readonly",(function(e){return r.Cn(e,t).next((function(t){return t?n.localDocuments.getDocuments(e,t):Tm.resolve(null)}))}))}(a.localStore,n);case 3:if(null===(o=e.sent)){e.next=15;break}if("pending"!==r){e.next=10;break}return e.next=8,uS(a.remoteStore);case 8:e.next=11;break;case 10:"acknowledged"===r||"rejected"===r?(bE(a,n,i||null),yE(a,n),function(e,t){Hv(Hv(e).mutationQueue).Mn(t)}(a.localStore,n)):Bv();case 11:return e.next=13,EE(a,o);case 13:e.next=16;break;case 15:Uv("SyncEngine","Cannot apply mutation batch with id: "+n);case 16:case"end":return e.stop()}}),e)}))),DE.apply(this,arguments)}function LE(e,t){return ME.apply(this,arguments)}function ME(){return ME=Ze($e().mark((function e(t,n){var r,i,a,o,s,u,c,l;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(GE(r=Hv(t)),KE(r),!0!==n||!0===r.Sa){e.next=13;break}return i=r.sharedClientState.getAllActiveQueryTargets(),e.next=5,UE(r,i.toArray());case 5:return a=e.sent,r.Sa=!0,e.next=9,SS(r.remoteStore,!0);case 9:o=T(a);try{for(o.s();!(s=o.n()).done;)u=s.value,W_(r.remoteStore,u)}catch(f){o.e(f)}finally{o.f()}e.next=25;break;case 13:if(!1!==n||!1===r.Sa){e.next=25;break}return c=[],l=Promise.resolve(),r.Ra.forEach((function(e,t){r.sharedClientState.isLocalQueryTarget(t)?c.push(t):l=l.then((function(){return kE(r,t),r_(r.localStore,t,!0)})),G_(r.remoteStore,t)})),e.next=19,l;case 19:return e.next=21,UE(r,c);case 21:return function(e){var t=Hv(e);t.fa.forEach((function(e,n){G_(t.remoteStore,n)})),t.ga.mr(),t.fa=new Map,t.ma=new wg(hm.comparator)}(r),r.Sa=!1,e.next=25,SS(r.remoteStore,!1);case 25:case"end":return e.stop()}}),e)}))),ME.apply(this,arguments)}function UE(e,t,n){return FE.apply(this,arguments)}function FE(){return FE=Ze($e().mark((function e(t,n,r){var i,a,o,s,u,c,l,f,d,h,p,v,m,g;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=Hv(t),a=[],o=[],s=T(n),e.prev=2,s.s();case 4:if((u=s.n()).done){e.next=45;break}if(c=u.value,l=void 0,!(f=i.Ra.get(c))||0===f.length){e.next=34;break}return e.next=11,n_(i.localStore,Yy(f[0]));case 11:l=e.sent,d=T(f),e.prev=13,d.s();case 15:if((h=d.n()).done){e.next=24;break}return p=h.value,v=i.Aa.get(p),e.next=20,OE(i,v);case 20:(m=e.sent).snapshot&&o.push(m.snapshot);case 22:e.next=15;break;case 24:e.next=29;break;case 26:e.prev=26,e.t0=e.catch(13),d.e(e.t0);case 29:return e.prev=29,d.f(),e.finish(29);case 32:e.next=42;break;case 34:return e.next=36,o_(i.localStore,c);case 36:return g=e.sent,e.next=39,n_(i.localStore,g);case 39:return l=e.sent,e.next=42,tE(i,zE(g),c,!1,l.resumeToken);case 42:a.push(l);case 43:e.next=4;break;case 45:e.next=50;break;case 47:e.prev=47,e.t1=e.catch(2),s.e(e.t1);case 50:return e.prev=50,s.f(),e.finish(50);case 53:return e.abrupt("return",(i.da.s_(o),a));case 54:case"end":return e.stop()}}),e,null,[[2,47,50,53],[13,26,29,32]])}))),FE.apply(this,arguments)}function zE(e){return By(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function VE(e){return function(e){return Hv(Hv(e).persistence).Li()}(Hv(e).localStore)}function BE(e,t,n,r){return qE.apply(this,arguments)}function qE(){return qE=Ze($e().mark((function e(t,n,r,i){var a,o,s,u;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(a=Hv(t)).Sa){e.next=3;break}return e.abrupt("return",void Uv("SyncEngine","Ignoring unexpected query state notification."));case 3:if(!((o=a.Ra.get(n))&&o.length>0)){e.next=20;break}e.t0=r,e.next="current"===e.t0||"not-current"===e.t0?8:"rejected"===e.t0?15:19;break;case 8:return e.next=10,s_(a.localStore,rb(o[0]));case 10:return s=e.sent,u=hk.createSynthesizedRemoteEventForCurrentChange(n,"current"===r,Ng.EMPTY_BYTE_STRING),e.next=14,EE(a,s,u);case 14:return e.abrupt("break",20);case 15:return e.next=17,r_(a.localStore,n,!0);case 17:return kE(a,n,i),e.abrupt("break",20);case 19:Bv();case 20:case"end":return e.stop()}}),e)}))),qE.apply(this,arguments)}function HE(e,t,n){return WE.apply(this,arguments)}function WE(){return WE=Ze($e().mark((function e(t,n,r){var i,a,o,s,u,c,l,f,d;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(i=GE(t)).Sa){e.next=45;break}a=T(n),e.prev=3,a.s();case 5:if((o=a.n()).done){e.next=21;break}if(s=o.value,!i.Ra.has(s)){e.next=10;break}return Uv("SyncEngine","Adding an already active target "+s),e.abrupt("continue",19);case 10:return e.next=12,o_(i.localStore,s);case 12:return u=e.sent,e.next=15,n_(i.localStore,u);case 15:return c=e.sent,e.next=18,tE(i,zE(u),c.targetId,!1,c.resumeToken);case 18:W_(i.remoteStore,c);case 19:e.next=5;break;case 21:e.next=26;break;case 23:e.prev=23,e.t0=e.catch(3),a.e(e.t0);case 26:return e.prev=26,a.f(),e.finish(26);case 29:l=T(r),e.prev=30,d=$e().mark((function e(){var t;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=f.value,e.t0=i.Ra.has(t),!e.t0){e.next=5;break}return e.next=5,r_(i.localStore,t,!1).then((function(){G_(i.remoteStore,t),kE(i,t)})).catch(Em);case 5:case"end":return e.stop()}}),e)})),l.s();case 33:if((f=l.n()).done){e.next=37;break}return e.delegateYield(d(),"t1",35);case 35:e.next=33;break;case 37:e.next=42;break;case 39:e.prev=39,e.t2=e.catch(30),l.e(e.t2);case 42:return e.prev=42,l.f(),e.finish(42);case 45:case"end":return e.stop()}}),e,null,[[3,23,26,29],[30,39,42,45]])}))),WE.apply(this,arguments)}function GE(e){var t=Hv(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=sE.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=NE.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=lE.bind(null,t),t.da.s_=FS.bind(null,t.eventManager),t.da.Da=zS.bind(null,t.eventManager),t}function KE(e){var t=Hv(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=dE.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=pE.bind(null,t),t}function QE(e,t,n){var r=Hv(e);(function(){var e=Ze($e().mark((function e(t,n,r){var i,a,o,s,u;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.getMetadata();case 3:return i=e.sent,e.next=6,function(e,t){var n=Hv(e),r=Ok(t.createTime);return n.persistence.runTransaction("hasNewerBundle","readonly",(function(e){return n.$r.getBundleMetadata(e,t.id)})).then((function(e){return!!e&&e.createTime.compareTo(r)>=0}))}(t.localStore,i);case 6:if(!e.sent){e.next=11;break}return e.next=9,n.close();case 9:return r._completeWith(function(e){return{taskState:"Success",documentsLoaded:e.totalDocuments,bytesLoaded:e.totalBytes,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}(i)),e.abrupt("return",Promise.resolve(new Set));case 11:return r._updateProgress(GS(i)),a=new WS(i,t.localStore,n.serializer),e.next=15,n.va();case 15:o=e.sent;case 16:if(!o){e.next=26;break}return e.next=19,a.Y_(o);case 19:return(s=e.sent)&&r._updateProgress(s),e.next=23,n.va();case 23:o=e.sent;case 24:e.next=16;break;case 26:return e.next=28,a.complete();case 28:return u=e.sent,e.next=31,EE(t,u.ea,void 0);case 31:return e.next=33,function(e,t){var n=Hv(e);return n.persistence.runTransaction("Save bundle","readwrite",(function(e){return n.$r.saveBundleMetadata(e,t)}))}(t.localStore,i);case 33:return r._completeWith(u.progress),e.abrupt("return",Promise.resolve(u.X_));case 37:return e.prev=37,e.t0=e.catch(0),e.abrupt("return",(zv("SyncEngine","Loading bundle failed with ".concat(e.t0)),r._failWith(e.t0),Promise.resolve(new Set)));case 40:case"end":return e.stop()}}),e,null,[[0,37]])})));return function(t,n,r){return e.apply(this,arguments)}})()(r,t,n).then((function(e){r.sharedClientState.notifyBundleLoaded(e)}))}var YE=function(){function e(){h(this,e),this.synchronizeTabs=!1}return g(e,[{key:"initialize",value:function(){var e=Ze($e().mark((function e(t){return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.serializer=R_(t.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(t),this.persistence=this.createPersistence(t),e.next=5,this.persistence.start();case 5:this.localStore=this.createLocalStore(t),this.gcScheduler=this.createGarbageCollectionScheduler(t,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(t,this.localStore);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"createGarbageCollectionScheduler",value:function(e,t){return null}},{key:"createIndexBackfillerScheduler",value:function(e,t){return null}},{key:"createLocalStore",value:function(e){return Qx(this.persistence,new Gx,e.initialUser,this.serializer)}},{key:"createPersistence",value:function(e){return new Dx(Mx.Hr,this.serializer)}},{key:"createSharedClientState",value:function(e){return new x_}},{key:"terminate",value:function(){var e=Ze($e().mark((function e(){return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.gcScheduler&&this.gcScheduler.stop(),e.next=3,this.sharedClientState.shutdown();case 3:return e.next=5,this.persistence.shutdown();case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),XE=function(e){b(n,e);var t=_(n);function n(e,r,i){var a;return h(this,n),(a=t.call(this)).Ca=e,a.cacheSizeBytes=r,a.forceOwnership=i,a.synchronizeTabs=!1,a}return g(n,[{key:"initialize",value:function(){var e=Ze($e().mark((function e(t){var r=this;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Or(k(n.prototype),"initialize",this).call(this,t);case 2:return e.next=4,this.Ca.initialize(this,t);case 4:return e.next=6,KE(this.Ca.syncEngine);case 6:return e.next=8,uS(this.Ca.remoteStore);case 8:return e.next=10,this.persistence.fi((function(){return r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(),r.indexBackfillerScheduler&&!r.indexBackfillerScheduler.started&&r.indexBackfillerScheduler.start(),Promise.resolve()}));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"createLocalStore",value:function(e){return Qx(this.persistence,new Gx,e.initialUser,this.serializer)}},{key:"createGarbageCollectionScheduler",value:function(e,t){var n=this.persistence.referenceDelegate.garbageCollector;return new fx(n,e.asyncQueue,t)}},{key:"createIndexBackfillerScheduler",value:function(e,t){var n=new Um(t,this.persistence);return new Mm(e.asyncQueue,n)}},{key:"createPersistence",value:function(e){var t=Hx(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?Xw.withCacheSize(this.cacheSizeBytes):Xw.DEFAULT;return new Vx(this.synchronizeTabs,t,e.clientId,n,e.asyncQueue,P_(),A_(),this.serializer,this.sharedClientState,!!this.forceOwnership)}},{key:"createSharedClientState",value:function(e){return new x_}}]),n}(YE),$E=function(e){b(n,e);var t=_(n);function n(e,r){var i;return h(this,n),(i=t.call(this,e,r,!1)).Ca=e,i.cacheSizeBytes=r,i.synchronizeTabs=!0,i}return g(n,[{key:"initialize",value:function(){var e=Ze($e().mark((function e(t){var r,i=this;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Or(k(n.prototype),"initialize",this).call(this,t);case 2:if(r=this.Ca.syncEngine,e.t0=this.sharedClientState instanceof w_,!e.t0){e.next=8;break}return this.sharedClientState.syncEngine={js:jE.bind(null,r),Hs:BE.bind(null,r),Js:HE.bind(null,r),Li:VE.bind(null,r),zs:AE.bind(null,r)},e.next=8,this.sharedClientState.start();case 8:return e.next=10,this.persistence.fi(function(){var e=Ze($e().mark((function e(t){return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,LE(i.Ca.syncEngine,t);case 2:i.gcScheduler&&(t&&!i.gcScheduler.started?i.gcScheduler.start():t||i.gcScheduler.stop()),i.indexBackfillerScheduler&&(t&&!i.indexBackfillerScheduler.started?i.indexBackfillerScheduler.start():t||i.indexBackfillerScheduler.stop());case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"createSharedClientState",value:function(e){var t=P_();if(!w_.v(t))throw new Gv(Wv.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=Hx(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new w_(t,e.asyncQueue,n,e.clientId,e.initialUser)}}]),n}(XE),JE=function(){function e(){h(this,e)}return g(e,[{key:"initialize",value:function(){var e=Ze($e().mark((function e(t,n){var r=this;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.localStore,e.t0){e.next=12;break}return this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(e){return cE(r.syncEngine,e,1)},this.remoteStore.remoteSyncer.handleCredentialChange=TE.bind(null,this.syncEngine),e.next=12,SS(this.remoteStore,this.syncEngine.isPrimaryClient);case 12:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"createEventManager",value:function(e){return new jS}},{key:"createDatastore",value:function(e){var t=R_(e.databaseInfo.databaseId),n=function(e){return new O_(e)}(e.databaseInfo);return function(e,t,n,r){return new U_(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,n,t)}},{key:"createRemoteStore",value:function(e){var t=this;return function(e,t,n,r,i){return new z_(e,t,n,r,i)}(this.localStore,this.datastore,e.asyncQueue,(function(e){return cE(t.syncEngine,e,0)}),S_.v()?new S_:new __)}},{key:"createSyncEngine",value:function(e,t){return function(e,t,n,r,i,a,o){var s=new JS(e,t,n,r,i,a);return o&&(s.Sa=!0),s}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}},{key:"terminate",value:function(){return function(){var e=Ze($e().mark((function e(t){var n;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Hv(t),Uv("RemoteStore","RemoteStore shutting down."),n.S_.add(5),e.next=5,q_(n);case 5:n.D_.shutdown(),n.v_.set("Unknown");case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(this.remoteStore)}}]),e}();function ZE(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10240,n=0;return{read:function(){return Ze($e().mark((function r(){var i;return $e().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!(n<e.byteLength)){r.next=3;break}return i={value:e.slice(n,n+t),done:!1},r.abrupt("return",(n+=t,i));case 3:return r.abrupt("return",{done:!0});case 4:case"end":return r.stop()}}),r)})))()},cancel:function(){return Ze($e().mark((function e(){return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))()},releaseLock:function(){},closed:Promise.resolve()}}var eI=function(){function e(t){h(this,e),this.observer=t,this.muted=!1}return g(e,[{key:"next",value:function(e){this.observer.next&&this.Fa(this.observer.next,e)}},{key:"error",value:function(e){this.observer.error?this.Fa(this.observer.error,e):Fv("Uncaught Error in snapshot listener:",e.toString())}},{key:"Ma",value:function(){this.muted=!0}},{key:"Fa",value:function(e,t){var n=this;this.muted||setTimeout((function(){n.muted||e(t)}),0)}}]),e}(),tI=function(){function e(t,n){var r=this;h(this,e),this.xa=t,this.serializer=n,this.metadata=new Kv,this.buffer=new Uint8Array,this.Oa=new TextDecoder("utf-8"),this.Na().then((function(e){e&&e.H_()?r.metadata.resolve(e.j_.metadata):r.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             ".concat(JSON.stringify(null==e?void 0:e.j_))))}),(function(e){return r.metadata.reject(e)}))}return g(e,[{key:"close",value:function(){return this.xa.cancel()}},{key:"getMetadata",value:function(){var e=Ze($e().mark((function e(){return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.metadata.promise);case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"va",value:function(){var e=Ze($e().mark((function e(){return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getMetadata();case 2:return e.abrupt("return",this.Na());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Na",value:function(){var e=Ze($e().mark((function e(){var t,n,r,i;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.Ba();case 2:if(null!==(t=e.sent)){e.next=5;break}return e.abrupt("return",null);case 5:return n=this.Oa.decode(t),r=Number(n),isNaN(r)&&this.La("length string (".concat(n,") is not valid number")),e.next=9,this.ka(r);case 9:return i=e.sent,e.abrupt("return",new qS(JSON.parse(i),t.length+r));case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"qa",value:function(){return this.buffer.findIndex((function(e){return e==="{".charCodeAt(0)}))}},{key:"Ba",value:function(){var e=Ze($e().mark((function e(){var t,n;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.qa()<0)){e.next=7;break}return e.next=3,this.Qa();case 3:if(!e.sent){e.next=5;break}return e.abrupt("break",7);case 5:e.next=0;break;case 7:if(0!==this.buffer.length){e.next=9;break}return e.abrupt("return",null);case 9:return(t=this.qa())<0&&this.La("Reached the end of bundle when a length string is expected."),n=this.buffer.slice(0,t),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"ka",value:function(){var e=Ze($e().mark((function e(t){var n;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.buffer.length<t)){e.next=8;break}return e.next=3,this.Qa();case 3:if(e.t0=e.sent,!e.t0){e.next=6;break}this.La("Reached the end of bundle when more is expected.");case 6:e.next=0;break;case 8:return n=this.Oa.decode(this.buffer.slice(0,t)),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"La",value:function(e){throw this.xa.cancel(),new Error("Invalid bundle format: ".concat(e))}},{key:"Qa",value:function(){var e=Ze($e().mark((function e(){var t,n;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.xa.read();case 2:return(t=e.sent).done||((n=new Uint8Array(this.buffer.length+t.value.length)).set(this.buffer),n.set(t.value,this.buffer.length),this.buffer=n),e.abrupt("return",t.done);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),nI=function(){function e(t){h(this,e),this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return g(e,[{key:"lookup",value:function(){var e=Ze($e().mark((function e(t){var n,r=this;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!(this.mutations.length>0)){e.next=2;break}throw new Gv(Wv.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");case 2:return e.next=4,function(){var e=Ze($e().mark((function e(t,n){var r,i,a,o,s,u;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Hv(t),i=Mk(r.serializer)+"/documents",a={documents:n.map((function(e){return Rk(r.serializer,e)}))},e.next=5,r.So("BatchGetDocuments",i,a,n.length);case 5:return o=e.sent,s=new Map,o.forEach((function(e){var t=Vk(r.serializer,e);s.set(t.key.toString(),t)})),u=[],e.abrupt("return",(n.forEach((function(e){var t=s.get(e.toString());qv(!!t),u.push(t)})),u));case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this.datastore,t);case 4:return n=e.sent,e.abrupt("return",(n.forEach((function(e){return r.recordVersion(e)})),n));case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"set",value:function(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"update",value:function(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(e){this.lastWriteError=e}this.writtenDocs.add(e.toString())}},{key:"delete",value:function(e){this.write(new Jb(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"commit",value:function(){var e=Ze($e().mark((function e(){var t,n=this;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!this.lastWriteError){e.next=2;break}throw this.lastWriteError;case 2:return t=this.readVersions,this.mutations.forEach((function(e){t.delete(e.key.toString())})),t.forEach((function(e,t){var r=hm.fromPath(t);n.mutations.push(new Zb(r,n.precondition(r)))})),e.next=7,function(){var e=Ze($e().mark((function e(t,n){var r,i,a;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Hv(t),i=Mk(r.serializer)+"/documents",a={writes:n.map((function(e){return Bk(r.serializer,e)}))},e.next=3,r.fo("Commit",i,a);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this.datastore,this.mutations);case 7:this.committed=!0;case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"recordVersion",value:function(e){var t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw Bv();t=um.min()}var n=this.readVersions.get(e.key.toString());if(n){if(!t.isEqual(n))throw new Gv(Wv.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}},{key:"precondition",value:function(e){var t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(um.min())?Mb.exists(!1):Mb.updateTime(t):Mb.none()}},{key:"preconditionForUpdate",value:function(e){var t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(um.min()))throw new Gv(Wv.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Mb.updateTime(t)}return Mb.exists(!0)}},{key:"write",value:function(e){this.ensureCommitNotCalled(),this.mutations.push(e)}},{key:"ensureCommitNotCalled",value:function(){}}]),e}(),rI=function(){function e(t,n,r,i,a){h(this,e),this.asyncQueue=t,this.datastore=n,this.options=r,this.updateFunction=i,this.deferred=a,this.Ka=r.maxAttempts,this.Uo=new j_(this.asyncQueue,"transaction_retry")}return g(e,[{key:"run",value:function(){this.Ka-=1,this.$a()}},{key:"$a",value:function(){var e=this;this.Uo.No(Ze($e().mark((function t(){var n,r;return $e().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=new nI(e.datastore),(r=e.Ua(n))&&r.then((function(t){e.asyncQueue.enqueueAndForget((function(){return n.commit().then((function(){e.deferred.resolve(t)})).catch((function(t){e.Wa(t)}))}))})).catch((function(t){e.Wa(t)}));case 2:case"end":return t.stop()}}),t)}))))}},{key:"Ua",value:function(e){try{var t=this.updateFunction(e);return!zm(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}},{key:"Wa",value:function(e){var t=this;this.Ka>0&&this.Ga(e)?(this.Ka-=1,this.asyncQueue.enqueueAndForget((function(){return t.$a(),Promise.resolve()}))):this.deferred.reject(e)}},{key:"Ga",value:function(e){if("FirebaseError"===e.name){var t=e.code;return"aborted"===t||"failed-precondition"===t||"already-exists"===t||!ik(t)}return!1}}]),e}(),iI=function(){function e(t,n,r,i){var a=this;h(this,e),this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=jv.UNAUTHENTICATED,this.clientId=rm.V(),this.authCredentialListener=function(){return Promise.resolve()},this.appCheckCredentialListener=function(){return Promise.resolve()},this.authCredentials.start(r,function(){var e=Ze($e().mark((function e(t){return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Uv("FirestoreClient","Received user=",t.uid),e.next=3,a.authCredentialListener(t);case 3:a.user=t;case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),this.appCheckCredentials.start(r,(function(e){return Uv("FirestoreClient","Received new app check token=",e),a.appCheckCredentialListener(e,a.user)}))}return g(e,[{key:"getConfiguration",value:function(){var e=Ze($e().mark((function e(){return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100});case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setCredentialChangeListener",value:function(e){this.authCredentialListener=e}},{key:"setAppCheckTokenChangeListener",value:function(e){this.appCheckCredentialListener=e}},{key:"verifyNotTerminated",value:function(){if(this.asyncQueue.isShuttingDown)throw new Gv(Wv.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"terminate",value:function(){var e=this;this.asyncQueue.enterRestrictedMode();var t=new Kv;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(Ze($e().mark((function n(){var r;return $e().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,n.t0=e._onlineComponents,!n.t0){n.next=5;break}return n.next=5,e._onlineComponents.terminate();case 5:if(n.t1=e._offlineComponents,!n.t1){n.next=9;break}return n.next=9,e._offlineComponents.terminate();case 9:e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve(),n.next=18;break;case 14:n.prev=14,n.t2=n.catch(0),r=NS(n.t2,"Failed to shutdown persistence"),t.reject(r);case 18:case"end":return n.stop()}}),n,null,[[0,14]])})))),t.promise}}]),e}();function aI(e,t){return oI.apply(this,arguments)}function oI(){return oI=Ze($e().mark((function e(t,n){var r,i;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),Uv("FirestoreClient","Initializing OfflineComponentProvider"),e.next=3,t.getConfiguration();case 3:return r=e.sent,e.next=6,n.initialize(r);case 6:i=r.initialUser,t.setCredentialChangeListener(function(){var e=Ze($e().mark((function e(t){return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=i.isEqual(t),e.t0){e.next=5;break}return e.next=4,Yx(n.localStore,t);case 4:i=t;case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),n.persistence.setDatabaseDeletedListener((function(){return t.terminate()})),t._offlineComponents=n;case 8:case"end":return e.stop()}}),e)}))),oI.apply(this,arguments)}function sI(e,t){return uI.apply(this,arguments)}function uI(){return uI=Ze($e().mark((function e(t,n){var r,i;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),e.next=3,lI(t);case 3:return r=e.sent,Uv("FirestoreClient","Initializing OnlineComponentProvider"),e.next=7,t.getConfiguration();case 7:return i=e.sent,e.next=10,n.initialize(r,i);case 10:t.setCredentialChangeListener((function(e){return xS(n.remoteStore,e)})),t.setAppCheckTokenChangeListener((function(e,t){return xS(n.remoteStore,t)})),t._onlineComponents=n;case 13:case"end":return e.stop()}}),e)}))),uI.apply(this,arguments)}function cI(e){return"FirebaseError"===e.name?e.code===Wv.FAILED_PRECONDITION||e.code===Wv.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}function lI(e){return fI.apply(this,arguments)}function fI(){return(fI=Ze($e().mark((function e(t){var n;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t._offlineComponents){e.next=21;break}if(!t._uninitializedComponentsProvider){e.next=18;break}return Uv("FirestoreClient","Using user provided OfflineComponentProvider"),e.prev=3,e.next=6,aI(t,t._uninitializedComponentsProvider._offline);case 6:e.next=16;break;case 8:if(e.prev=8,e.t0=e.catch(3),cI(n=e.t0)){e.next=13;break}throw n;case 13:return zv("Error using user provided cache. Falling back to memory cache: "+n),e.next=16,aI(t,new YE);case 16:e.next=21;break;case 18:return Uv("FirestoreClient","Using default OfflineComponentProvider"),e.next=21,aI(t,new YE);case 21:return e.abrupt("return",t._offlineComponents);case 22:case"end":return e.stop()}}),e,null,[[3,8]])})))).apply(this,arguments)}function dI(e){return hI.apply(this,arguments)}function hI(){return(hI=Ze($e().mark((function e(t){return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t._onlineComponents,e.t0){e.next=11;break}if(!t._uninitializedComponentsProvider){e.next=8;break}return Uv("FirestoreClient","Using user provided OnlineComponentProvider"),e.next=6,sI(t,t._uninitializedComponentsProvider._online);case 6:e.next=11;break;case 8:return Uv("FirestoreClient","Using default OnlineComponentProvider"),e.next=11,sI(t,new JE);case 11:return e.abrupt("return",t._onlineComponents);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function pI(e){return lI(e).then((function(e){return e.persistence}))}function vI(e){return lI(e).then((function(e){return e.localStore}))}function mI(e){return dI(e).then((function(e){return e.remoteStore}))}function gI(e){return dI(e).then((function(e){return e.syncEngine}))}function yI(e){return dI(e).then((function(e){return e.datastore}))}function bI(e){return kI.apply(this,arguments)}function kI(){return(kI=Ze($e().mark((function e(t){var n,r;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,dI(t);case 2:return n=e.sent,r=n.eventManager,e.abrupt("return",(r.onListen=ZS.bind(null,n.syncEngine),r.onUnlisten=rE.bind(null,n.syncEngine),r));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function wI(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new Kv;return e.asyncQueue.enqueueAndForget(Ze($e().mark((function i(){return $e().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new eI({next:function(a){t.enqueueAndForget((function(){return MS(e,o)}));var s=a.docs.has(n);!s&&a.fromCache?i.reject(new Gv(Wv.UNAVAILABLE,"Failed to get document because the client is offline.")):s&&a.fromCache&&r&&"server"===r.source?i.reject(new Gv(Wv.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(a)},error:function(e){return i.reject(e)}}),o=new BS(qy(n.path),a,{includeMetadataChanges:!0,z_:!0});return DS(e,o)},i.next=3,bI(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}function xI(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new Kv;return e.asyncQueue.enqueueAndForget(Ze($e().mark((function i(){return $e().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new eI({next:function(n){t.enqueueAndForget((function(){return MS(e,o)})),n.fromCache&&"server"===r.source?i.reject(new Gv(Wv.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(e){return i.reject(e)}}),o=new BS(n,a,{includeMetadataChanges:!0,z_:!0});return DS(e,o)},i.next=3,bI(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}function _I(e){var t={};return void 0!==e.timeoutSeconds&&(t.timeoutSeconds=e.timeoutSeconds),t}var SI=new Map;function EI(e,t,n){if(!n)throw new Gv(Wv.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function II(e,t,n,r){if(!0===t&&!0===r)throw new Gv(Wv.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))}function TI(e){if(!hm.isDocumentKey(e))throw new Gv(Wv.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function CI(e){if(hm.isDocumentKey(e))throw new Gv(Wv.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function NI(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";var t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}return"function"==typeof e?"a function":Bv()}function OI(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new Gv(Wv.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=NI(e);throw new Gv(Wv.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}return e}function PI(e,t){if(t<=0)throw new Gv(Wv.INVALID_ARGUMENT,"Function ".concat(e,"() requires a positive number, but it was: ").concat(t,"."))}var AI=function(){function e(t){var n,r;if(h(this,e),void 0===t.host){if(void 0!==t.ssl)throw new Gv(Wv.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(n=t.ssl)||void 0===n||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new Gv(Wv.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}II("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:void 0===t.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=_I(null!==(r=t.experimentalLongPollingOptions)&&void 0!==r?r:{}),function(e){if(void 0!==e.timeoutSeconds){if(isNaN(e.timeoutSeconds))throw new Gv(Wv.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (must not be NaN)"));if(e.timeoutSeconds<5)throw new Gv(Wv.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (minimum allowed value is 5)"));if(e.timeoutSeconds>30)throw new Gv(Wv.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (maximum allowed value is 30)"))}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}return g(e,[{key:"isEqual",value:function(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(e,t){return e.timeoutSeconds===t.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}]),e}(),RI=function(){function e(t,n,r,i){h(this,e),this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new AI({}),this._settingsFrozen=!1}return g(e,[{key:"app",get:function(){if(!this._app)throw new Gv(Wv.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}},{key:"_initialized",get:function(){return this._settingsFrozen}},{key:"_terminated",get:function(){return void 0!==this._terminateTask}},{key:"_setSettings",value:function(e){if(this._settingsFrozen)throw new Gv(Wv.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new AI(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new Yv;switch(e.type){case"firstParty":return new Zv(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new Gv(Wv.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}},{key:"_getSettings",value:function(){return this._settings}},{key:"_freezeSettings",value:function(){return this._settingsFrozen=!0,this._settings}},{key:"_delete",value:function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}},{key:"toJSON",value:function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}},{key:"_terminate",value:function(){return function(e){var t=SI.get(e);t&&(Uv("ComponentProvider","Removing Datastore"),SI.delete(e),t.terminate())}(this),Promise.resolve()}}]),e}();function jI(e,t,n){var r,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=(e=OI(e,RI))._getSettings(),o="".concat(t,":").concat(n);if("firestore.googleapis.com"!==a.host&&a.host!==o&&zv("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),e._setSettings(Object.assign(Object.assign({},a),{host:o,ssl:!1})),i.mockUserToken){var s,u;if("string"==typeof i.mockUserToken)s=i.mockUserToken,u=jv.MOCK_USER;else{s=Dt(i.mockUserToken,null===(r=e._app)||void 0===r?void 0:r.options.projectId);var c=i.mockUserToken.sub||i.mockUserToken.user_id;if(!c)throw new Gv(Wv.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new jv(c)}e._authCredentials=new Xv(new Qv(s,u))}}var DI=function(){function e(t,n,r){h(this,e),this.converter=n,this._query=r,this.type="query",this.firestore=t}return g(e,[{key:"withConverter",value:function(t){return new e(this.firestore,t,this._query)}}]),e}(),LI=function(){function e(t,n,r){h(this,e),this.converter=n,this._key=r,this.type="document",this.firestore=t}return g(e,[{key:"_path",get:function(){return this._key.path}},{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"path",get:function(){return this._key.path.canonicalString()}},{key:"parent",get:function(){return new MI(this.firestore,this.converter,this._key.path.popLast())}},{key:"withConverter",value:function(t){return new e(this.firestore,t,this._key)}}]),e}(),MI=function(e){b(n,e);var t=_(n);function n(e,r,i){var a;return h(this,n),(a=t.call(this,e,r,qy(i)))._path=i,a.type="collection",a}return g(n,[{key:"id",get:function(){return this._query.path.lastSegment()}},{key:"path",get:function(){return this._query.path.canonicalString()}},{key:"parent",get:function(){var e=this._path.popLast();return e.isEmpty()?null:new LI(this.firestore,null,new hm(e))}},{key:"withConverter",value:function(e){return new n(this.firestore,e,this._path)}}]),n}(DI);function UI(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=tn(e),EI("collection","path",t),e instanceof RI){var a=lm.fromString.apply(lm,[t].concat(r));return CI(a),new MI(e,null,a)}if(!(e instanceof LI||e instanceof MI))throw new Gv(Wv.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(lm.fromString.apply(lm,[t].concat(r)));return CI(o),new MI(e.firestore,null,o)}function FI(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=tn(e),1===arguments.length&&(t=rm.V()),EI("doc","path",t),e instanceof RI){var a=lm.fromString.apply(lm,[t].concat(r));return TI(a),new LI(e,null,new hm(a))}if(!(e instanceof LI||e instanceof MI))throw new Gv(Wv.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(lm.fromString.apply(lm,[t].concat(r)));return TI(o),new LI(e.firestore,e instanceof MI?e.converter:null,new hm(o))}function zI(e,t){return e=tn(e),t=tn(t),(e instanceof LI||e instanceof MI)&&(t instanceof LI||t instanceof MI)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}function VI(e,t){return e=tn(e),t=tn(t),e instanceof DI&&t instanceof DI&&e.firestore===t.firestore&&Zy(e._query,t._query)&&e.converter===t.converter}var BI=function(){function e(){var t=this;h(this,e),this.za=Promise.resolve(),this.ja=[],this.Ha=!1,this.Ja=[],this.Ya=null,this.Za=!1,this.Xa=!1,this.eu=[],this.Uo=new j_(this,"async_queue_retry"),this.tu=function(){var e=A_();e&&Uv("AsyncQueue","Visibility state changed to "+e.visibilityState),t.Uo.Lo()};var n=A_();n&&"function"==typeof n.addEventListener&&n.addEventListener("visibilitychange",this.tu)}return g(e,[{key:"isShuttingDown",get:function(){return this.Ha}},{key:"enqueueAndForget",value:function(e){this.enqueue(e)}},{key:"enqueueAndForgetEvenWhileRestricted",value:function(e){this.nu(),this.ru(e)}},{key:"enterRestrictedMode",value:function(e){if(!this.Ha){this.Ha=!0,this.Xa=e||!1;var t=A_();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.tu)}}},{key:"enqueue",value:function(e){var t=this;if(this.nu(),this.Ha)return new Promise((function(){}));var n=new Kv;return this.ru((function(){return t.Ha&&t.Xa?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)})).then((function(){return n.promise}))}},{key:"enqueueRetryable",value:function(e){var t=this;this.enqueueAndForget((function(){return t.ja.push(e),t.iu()}))}},{key:"iu",value:function(){var e=Ze($e().mark((function e(){var t=this;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0===this.ja.length){e.next=14;break}return e.prev=1,e.next=4,this.ja[0]();case 4:this.ja.shift(),this.Uo.reset(),e.next=13;break;case 8:if(e.prev=8,e.t0=e.catch(1),Am(e.t0)){e.next=12;break}throw e.t0;case 12:Uv("AsyncQueue","Operation failed with retryable error: "+e.t0);case 13:this.ja.length>0&&this.Uo.No((function(){return t.iu()}));case 14:case"end":return e.stop()}}),e,this,[[1,8]])})));return function(){return e.apply(this,arguments)}}()},{key:"ru",value:function(e){var t=this,n=this.za.then((function(){return t.Za=!0,e().catch((function(e){t.Ya=e,t.Za=!1;var n=function(e){var t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw Fv("INTERNAL UNHANDLED ERROR: ",n),e})).then((function(e){return t.Za=!1,e}))}));return this.za=n,n}},{key:"enqueueAfterDelay",value:function(e,t,n){var r=this;this.nu(),this.eu.indexOf(e)>-1&&(t=0);var i=CS.createAndSchedule(this,e,t,n,(function(e){return r.su(e)}));return this.Ja.push(i),i}},{key:"nu",value:function(){this.Ya&&Bv()}},{key:"verifyOperationInProgress",value:function(){}},{key:"ou",value:function(){var e=Ze($e().mark((function e(){var t;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.za,e.next=3,t;case 3:if(t!==this.za){e.next=0;break}case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_u",value:function(e){var t,n=T(this.Ja);try{for(n.s();!(t=n.n()).done;){if(t.value.timerId===e)return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"au",value:function(e){var t=this;return this.ou().then((function(){t.Ja.sort((function(e,t){return e.targetTimeMs-t.targetTimeMs}));var n,r=T(t.Ja);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i.skipDelay(),"all"!==e&&i.timerId===e)break}}catch(a){r.e(a)}finally{r.f()}return t.ou()}))}},{key:"uu",value:function(e){this.eu.push(e)}},{key:"su",value:function(e){var t=this.Ja.indexOf(e);this.Ja.splice(t,1)}}]),e}();function qI(e){return function(e,t){if("object"!=typeof e||null===e)return!1;var n,r=e,i=T(t);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"==typeof r[a])return!0}}catch(o){i.e(o)}finally{i.f()}return!1}(e,["next","error","complete"])}var HI=function(){function e(){h(this,e),this._progressObserver={},this._taskCompletionResolver=new Kv,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}return g(e,[{key:"onProgress",value:function(e,t,n){this._progressObserver={next:e,error:t,complete:n}}},{key:"catch",value:function(e){return this._taskCompletionResolver.promise.catch(e)}},{key:"then",value:function(e,t){return this._taskCompletionResolver.promise.then(e,t)}},{key:"_completeWith",value:function(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}},{key:"_failWith",value:function(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}},{key:"_updateProgress",value:function(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}]),e}(),WI=function(e){b(n,e);var t=_(n);function n(e,r,i,a){var o;return h(this,n),(o=t.call(this,e,r,i,a)).type="firestore",o._queue=new BI,o._persistenceKey=(null==a?void 0:a.name)||"[DEFAULT]",o}return g(n,[{key:"_terminate",value:function(){return this._firestoreClient||KI(this),this._firestoreClient.terminate()}}]),n}(RI);function GI(e){return e._firestoreClient||KI(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function KI(e){var t,n,r,i=e._freezeSettings(),a=function(e,t,n,r){return new Mg(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,_I(r.experimentalLongPollingOptions),r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,i);e._firestoreClient=new iI(e._authCredentials,e._appCheckCredentials,e._queue,a),(null===(n=i.localCache)||void 0===n?void 0:n._offlineComponentProvider)&&(null===(r=i.localCache)||void 0===r?void 0:r._onlineComponentProvider)&&(e._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}function QI(e,t,n){var r=new Kv;return e.asyncQueue.enqueue(Ze($e().mark((function i(){var a;return $e().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,aI(e,n);case 3:return i.next=5,sI(e,t);case 5:r.resolve(),i.next=14;break;case 8:if(i.prev=8,i.t0=i.catch(0),cI(a=i.t0)){i.next=13;break}throw a;case 13:zv("Error enabling indexeddb cache. Falling back to memory cache: "+a),r.reject(a);case 14:case"end":return i.stop()}}),i,null,[[0,8]])})))).then((function(){return r.promise}))}function YI(e){return function(e){var t=new Kv;return e.asyncQueue.enqueueAndForget(Ze($e().mark((function n(){return $e().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=mE,n.next=3,gI(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}}),n)})))),t.promise}(GI(e=OI(e,WI)))}function XI(e){return function(e){return e.asyncQueue.enqueue(Ze($e().mark((function t(){var n,r;return $e().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,pI(e);case 2:return n=t.sent,t.next=5,mI(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!0),function(e){var t=Hv(e);return t.S_.delete(0),V_(t)}(r)));case 7:case"end":return t.stop()}}),t)}))))}(GI(e=OI(e,WI)))}function $I(e){return function(e){return e.asyncQueue.enqueue(Ze($e().mark((function t(){var n,r;return $e().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,pI(e);case 2:return n=t.sent,t.next=5,mI(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!1),function(){var e=Ze($e().mark((function e(t){var n;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=Hv(t)).S_.add(0),e.next=4,q_(n);case 4:n.v_.set("Offline");case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(r)));case 7:case"end":return t.stop()}}),t)}))))}(GI(e=OI(e,WI)))}function JI(e,t){var n=GI(e=OI(e,WI)),r=new HI;return function(e,t,n,r){var i=function(e,t){return function(e,t){return new tI(e,t)}(function(e,t){if(e instanceof Uint8Array)return ZE(e,t);if(e instanceof ArrayBuffer)return ZE(new Uint8Array(e),t);if(e instanceof ReadableStream)return e.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}("string"==typeof e?sk().encode(e):e),t)}(n,R_(t));e.asyncQueue.enqueueAndForget(Ze($e().mark((function t(){return $e().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=QE,t.next=3,gI(e);case 3:t.t1=t.sent,t.t2=i,t.t3=r,(0,t.t0)(t.t1,t.t2,t.t3);case 7:case"end":return t.stop()}}),t)}))))}(n,e._databaseId,t,r),r}function ZI(e,t){return function(e,t){return e.asyncQueue.enqueue(Ze($e().mark((function n(){return $e().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=function(e,t){var n=Hv(e);return n.persistence.runTransaction("Get named query","readonly",(function(e){return n.$r.getNamedQuery(e,t)}))},n.next=3,vI(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}}),n)}))))}(GI(e=OI(e,WI)),t).then((function(t){return t?new DI(e,null,t.query):null}))}function eT(e){if(e._initialized||e._terminated)throw new Gv(Wv.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var tT=function(){function e(t){h(this,e),this._byteString=t}return g(e,[{key:"toBase64",value:function(){return this._byteString.toBase64()}},{key:"toUint8Array",value:function(){return this._byteString.toUint8Array()}},{key:"toString",value:function(){return"Bytes(base64: "+this.toBase64()+")"}},{key:"isEqual",value:function(e){return this._byteString.isEqual(e._byteString)}}],[{key:"fromBase64String",value:function(t){try{return new e(Ng.fromBase64String(t))}catch(t){throw new Gv(Wv.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}},{key:"fromUint8Array",value:function(t){return new e(Ng.fromUint8Array(t))}}]),e}(),nT=function(){function e(){h(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0;i<n.length;++i)if(0===n[i].length)throw new Gv(Wv.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new dm(n)}return g(e,[{key:"isEqual",value:function(e){return this._internalPath.isEqual(e._internalPath)}}]),e}();var rT=g((function e(t){h(this,e),this._methodName=t})),iT=function(){function e(t,n){if(h(this,e),!isFinite(t)||t<-90||t>90)throw new Gv(Wv.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new Gv(Wv.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}return g(e,[{key:"latitude",get:function(){return this._lat}},{key:"longitude",get:function(){return this._long}},{key:"isEqual",value:function(e){return this._lat===e._lat&&this._long===e._long}},{key:"toJSON",value:function(){return{latitude:this._lat,longitude:this._long}}},{key:"_compareTo",value:function(e){return im(this._lat,e._lat)||im(this._long,e._long)}}]),e}(),aT=/^__.*__$/,oT=function(){function e(t,n,r){h(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return g(e,[{key:"toMutation",value:function(e,t){return null!==this.fieldMask?new Gb(e,this.data,this.fieldMask,t,this.fieldTransforms):new Wb(e,this.data,t,this.fieldTransforms)}}]),e}(),sT=function(){function e(t,n,r){h(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return g(e,[{key:"toMutation",value:function(e,t){return new Gb(e,this.data,this.fieldMask,t,this.fieldTransforms)}}]),e}();function uT(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Bv()}}var cT=function(){function e(t,n,r,i,a,o){h(this,e),this.settings=t,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,void 0===a&&this.cu(),this.fieldTransforms=a||[],this.fieldMask=o||[]}return g(e,[{key:"path",get:function(){return this.settings.path}},{key:"lu",get:function(){return this.settings.lu}},{key:"hu",value:function(t){return new e(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}},{key:"Pu",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.hu({path:n,Iu:!1});return r.Tu(e),r}},{key:"Eu",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.hu({path:n,Iu:!1});return r.cu(),r}},{key:"du",value:function(e){return this.hu({path:void 0,Iu:!0})}},{key:"Au",value:function(e){return NT(e,this.settings.methodName,this.settings.Ru||!1,this.path,this.settings.Vu)}},{key:"contains",value:function(e){return void 0!==this.fieldMask.find((function(t){return e.isPrefixOf(t)}))||void 0!==this.fieldTransforms.find((function(t){return e.isPrefixOf(t.field)}))}},{key:"cu",value:function(){if(this.path)for(var e=0;e<this.path.length;e++)this.Tu(this.path.get(e))}},{key:"Tu",value:function(e){if(0===e.length)throw this.Au("Document fields must not be empty");if(uT(this.lu)&&aT.test(e))throw this.Au('Document fields cannot begin and end with "__"')}}]),e}(),lT=function(){function e(t,n,r){h(this,e),this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=r||R_(t)}return g(e,[{key:"mu",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new cT({lu:e,methodName:t,Vu:n,path:dm.emptyPath(),Iu:!1,Ru:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}]),e}();function fT(e){var t=e._freezeSettings(),n=R_(e._databaseId);return new lT(e._databaseId,!!t.ignoreUndefinedProperties,n)}function dT(e,t,n,r,i){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},o=e.mu(a.merge||a.mergeFields?2:0,t,n,i);ET("Data must be an object, but it was:",o,r);var s,u,c=_T(r,o);if(a.merge)s=new Tg(o.fieldMask),u=o.fieldTransforms;else if(a.mergeFields){var l,f=[],d=T(a.mergeFields);try{for(d.s();!(l=d.n()).done;){var h=IT(t,l.value,n);if(!o.contains(h))throw new Gv(Wv.INVALID_ARGUMENT,"Field '".concat(h,"' is specified in your field mask but missing from your input data."));OT(f,h)||f.push(h)}}catch(p){d.e(p)}finally{d.f()}s=new Tg(f),u=o.fieldTransforms.filter((function(e){return s.covers(e.field)}))}else s=null,u=o.fieldTransforms;return new oT(new oy(c),s,u)}var hT=function(e){b(n,e);var t=_(n);function n(){return h(this,n),t.apply(this,arguments)}return g(n,[{key:"_toFieldTransform",value:function(e){if(2!==e.lu)throw 1===e.lu?e.Au("".concat(this._methodName,"() can only appear at the top level of your update data")):e.Au("".concat(this._methodName,"() cannot be used with set() unless you pass {merge:true}"));return e.fieldMask.push(e.path),null}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(rT);function pT(e,t,n){return new cT({lu:3,Vu:t.settings.Vu,methodName:e._methodName,Iu:n},t.databaseId,t.serializer,t.ignoreUndefinedProperties)}var vT=function(e){b(n,e);var t=_(n);function n(){return h(this,n),t.apply(this,arguments)}return g(n,[{key:"_toFieldTransform",value:function(e){return new Db(e.path,new Tb)}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(rT),mT=function(e){b(n,e);var t=_(n);function n(e,r){var i;return h(this,n),(i=t.call(this,e)).fu=r,i}return g(n,[{key:"_toFieldTransform",value:function(e){var t=pT(this,e,!0),n=this.fu.map((function(e){return xT(e,t)})),r=new Cb(n);return new Db(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(rT),gT=function(e){b(n,e);var t=_(n);function n(e,r){var i;return h(this,n),(i=t.call(this,e)).fu=r,i}return g(n,[{key:"_toFieldTransform",value:function(e){var t=pT(this,e,!0),n=this.fu.map((function(e){return xT(e,t)})),r=new Ob(n);return new Db(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(rT),yT=function(e){b(n,e);var t=_(n);function n(e,r){var i;return h(this,n),(i=t.call(this,e)).gu=r,i}return g(n,[{key:"_toFieldTransform",value:function(e){var t=new Ab(e.serializer,xb(e.serializer,this.gu));return new Db(e.path,t)}},{key:"isEqual",value:function(e){return this===e}}]),n}(rT);function bT(e,t,n,r){var i=e.mu(1,t,n);ET("Data must be an object, but it was:",i,r);var a=[],o=oy.empty();bg(r,(function(e,r){var s=CT(t,e,n);r=tn(r);var u=i.Eu(s);if(r instanceof hT)a.push(s);else{var c=xT(r,u);null!=c&&(a.push(s),o.set(s,c))}}));var s=new Tg(a);return new sT(o,s,i.fieldTransforms)}function kT(e,t,n,r,i,a){var o=e.mu(1,t,n),s=[IT(t,r,n)],u=[i];if(a.length%2!=0)throw new Gv(Wv.INVALID_ARGUMENT,"Function ".concat(t,"() needs to be called with an even number of arguments that alternate between field names and values."));for(var c=0;c<a.length;c+=2)s.push(IT(t,a[c])),u.push(a[c+1]);for(var l=[],f=oy.empty(),d=s.length-1;d>=0;--d)if(!OT(l,s[d])){var h=s[d],p=u[d];p=tn(p);var v=o.Eu(h);if(p instanceof hT)l.push(h);else{var m=xT(p,v);null!=m&&(l.push(h),f.set(h,m))}}var g=new Tg(l);return new sT(f,g,o.fieldTransforms)}function wT(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return xT(n,e.mu(r?4:3,t))}function xT(e,t){if(ST(e=tn(e)))return ET("Unsupported field value:",t,e),_T(e,t);if(e instanceof rT)return function(e,t){if(!uT(t.lu))throw t.Au("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t.Au("".concat(e._methodName,"() is not currently supported inside arrays"));var n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.Iu&&4!==t.lu)throw t.Au("Nested arrays are not supported");return function(e,t){var n,r=[],i=0,a=T(e);try{for(a.s();!(n=a.n()).done;){var o=xT(n.value,t.du(i));null==o&&(o={nullValue:"NULL_VALUE"}),r.push(o),i++}}catch(s){a.e(s)}finally{a.f()}return{arrayValue:{values:r}}}(e,t)}return function(e,t){if(null===(e=tn(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return xb(t.serializer,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){var n=sm.fromDate(e);return{timestampValue:Tk(t.serializer,n)}}if(e instanceof sm){var r=new sm(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:Tk(t.serializer,r)}}if(e instanceof iT)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof tT)return{bytesValue:Ck(t.serializer,e._byteString)};if(e instanceof LI){var i=t.databaseId,a=e.firestore._databaseId;if(!a.isEqual(i))throw t.Au("Document reference is for database ".concat(a.projectId,"/").concat(a.database," but should be for database ").concat(i.projectId,"/").concat(i.database));return{referenceValue:Pk(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.Au("Unsupported field value: ".concat(NI(e)))}(e,t)}function _T(e,t){var n={};return kg(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):bg(e,(function(e,r){var i=xT(r,t.Pu(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function ST(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof sm||e instanceof iT||e instanceof tT||e instanceof LI||e instanceof rT)}function ET(e,t,n){if(!ST(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){var r=NI(n);throw"an object"===r?t.Au(e+" a custom object"):t.Au(e+" "+r)}}function IT(e,t,n){if((t=tn(t))instanceof nT)return t._internalPath;if("string"==typeof t)return CT(e,t);throw NT("Field path arguments must be of type string or ",e,!1,void 0,n)}var TT=new RegExp("[~\\*/\\[\\]]");function CT(e,t,n){if(t.search(TT)>=0)throw NT("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return S(nT,d(t.split(".")))._internalPath}catch(If){throw NT("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function NT(e,t,n,r,i){var a=r&&!r.isEmpty(),o=void 0!==i,s="Function ".concat(t,"() called with invalid data");n&&(s+=" (via `toFirestore()`)"),s+=". ";var u="";return(a||o)&&(u+=" (found",a&&(u+=" in field ".concat(r)),o&&(u+=" in document ".concat(i)),u+=")"),new Gv(Wv.INVALID_ARGUMENT,s+e+u)}function OT(e,t){return e.some((function(e){return e.isEqual(t)}))}var PT=function(){function e(t,n,r,i,a){h(this,e),this._firestore=t,this._userDataWriter=n,this._key=r,this._document=i,this._converter=a}return g(e,[{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"ref",get:function(){return new LI(this._firestore,this._converter,this._key)}},{key:"exists",value:function(){return null!==this._document}},{key:"data",value:function(){if(this._document){if(this._converter){var e=new AT(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}},{key:"get",value:function(e){if(this._document){var t=this._document.data.field(RT("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}]),e}(),AT=function(e){b(n,e);var t=_(n);function n(){return h(this,n),t.apply(this,arguments)}return g(n,[{key:"data",value:function(){return Or(k(n.prototype),"data",this).call(this)}}]),n}(PT);function RT(e,t){return"string"==typeof t?CT(e,t):t instanceof nT?t._internalPath:t._delegate._internalPath}function jT(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new Gv(Wv.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var DT=g((function e(){h(this,e)})),LT=function(e){b(n,e);var t=_(n);function n(){return h(this,n),t.apply(this,arguments)}return g(n)}(DT);function MT(e,t){for(var n=[],r=arguments.length,i=new Array(r>2?r-2:0),a=2;a<r;a++)i[a-2]=arguments[a];t instanceof DT&&n.push(t),function(e){var t=e.filter((function(e){return e instanceof FT})).length,n=e.filter((function(e){return e instanceof UT})).length;if(t>1||t>0&&n>0)throw new Gv(Wv.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n=n.concat(i));var o,s=T(n);try{for(s.s();!(o=s.n()).done;){e=o.value._apply(e)}}catch(u){s.e(u)}finally{s.f()}return e}var UT=function(e){b(n,e);var t=_(n);function n(e,r,i){var a;return h(this,n),(a=t.call(this))._field=e,a._op=r,a._value=i,a.type="where",a}return g(n,[{key:"_apply",value:function(e){var t=this._parse(e);return $T(e._query,t),new DI(e.firestore,e.converter,$y(e._query,t))}},{key:"_parse",value:function(e){var t=fT(e.firestore),n=function(e,t,n,r,i,a,o){var s;if(i.isKeyField()){if("array-contains"===a||"array-contains-any"===a)throw new Gv(Wv.INVALID_ARGUMENT,"Invalid Query. You can't perform '".concat(a,"' queries on documentId()."));if("in"===a||"not-in"===a){XT(o,a);var u,c=[],l=T(o);try{for(l.s();!(u=l.n()).done;){var f=u.value;c.push(YT(r,e,f))}}catch(d){l.e(d)}finally{l.f()}s={arrayValue:{values:c}}}else s=YT(r,e,o)}else"in"!==a&&"not-in"!==a&&"array-contains-any"!==a||XT(o,a),s=wT(n,t,o,"in"===a||"not-in"===a);return vy.create(i,a,s)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value);return n}}],[{key:"_create",value:function(e,t,r){return new n(e,t,r)}}]),n}(LT);var FT=function(e){b(n,e);var t=_(n);function n(e,r){var i;return h(this,n),(i=t.call(this)).type=e,i._queryConstraints=r,i}return g(n,[{key:"_parse",value:function(e){var t=this._queryConstraints.map((function(t){return t._parse(e)})).filter((function(e){return e.getFilters().length>0}));return 1===t.length?t[0]:my.create(t,this._getOperator())}},{key:"_apply",value:function(e){var t=this._parse(e);return 0===t.getFilters().length?e:(function(e,t){var n,r=e,i=T(t.getFlattenedFilters());try{for(i.s();!(n=i.n()).done;){var a=n.value;$T(r,a),r=$y(r,a)}}catch(o){i.e(o)}finally{i.f()}}(e._query,t),new DI(e.firestore,e.converter,$y(e._query,t)))}},{key:"_getQueryConstraints",value:function(){return this._queryConstraints}},{key:"_getOperator",value:function(){return"and"===this.type?"and":"or"}}],[{key:"_create",value:function(e,t){return new n(e,t)}}]),n}(DT);var zT=function(e){b(n,e);var t=_(n);function n(e,r){var i;return h(this,n),(i=t.call(this))._field=e,i._direction=r,i.type="orderBy",i}return g(n,[{key:"_apply",value:function(e){var t=function(e,t,n){if(null!==e.startAt)throw new Gv(Wv.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new Gv(Wv.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new dy(t,n);return function(e,t){if(null===Wy(e)){var n=Gy(e);null!==n&&JT(e,n,t.field)}}(e,r),r}(e._query,this._field,this._direction);return new DI(e.firestore,e.converter,function(e,t){var n=e.explicitOrderBy.concat([t]);return new Vy(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}],[{key:"_create",value:function(e,t){return new n(e,t)}}]),n}(LT);var VT=function(e){b(n,e);var t=_(n);function n(e,r,i){var a;return h(this,n),(a=t.call(this)).type=e,a._limit=r,a._limitType=i,a}return g(n,[{key:"_apply",value:function(e){return new DI(e.firestore,e.converter,Jy(e._query,this._limit,this._limitType))}}],[{key:"_create",value:function(e,t,r){return new n(e,t,r)}}]),n}(LT);var BT=function(e){b(n,e);var t=_(n);function n(e,r,i){var a;return h(this,n),(a=t.call(this)).type=e,a._docOrFields=r,a._inclusive=i,a}return g(n,[{key:"_apply",value:function(e){var t=QT(e,this.type,this._docOrFields,this._inclusive);return new DI(e.firestore,e.converter,function(e,t){return new Vy(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,t,e.endAt)}(e._query,t))}}],[{key:"_create",value:function(e,t,r){return new n(e,t,r)}}]),n}(LT);function qT(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return BT._create("startAt",t,!0)}function HT(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return BT._create("startAfter",t,!1)}var WT=function(e){b(n,e);var t=_(n);function n(e,r,i){var a;return h(this,n),(a=t.call(this)).type=e,a._docOrFields=r,a._inclusive=i,a}return g(n,[{key:"_apply",value:function(e){var t=QT(e,this.type,this._docOrFields,this._inclusive);return new DI(e.firestore,e.converter,function(e,t){return new Vy(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,t)}(e._query,t))}}],[{key:"_create",value:function(e,t,r){return new n(e,t,r)}}]),n}(LT);function GT(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return WT._create("endBefore",t,!1)}function KT(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return WT._create("endAt",t,!0)}function QT(e,t,n,r){if(n[0]=tn(n[0]),n[0]instanceof PT)return function(e,t,n,r,i){if(!r)throw new Gv(Wv.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for ".concat(n,"()."));var a,o=[],s=T(Qy(e));try{for(s.s();!(a=s.n()).done;){var u=a.value;if(u.field.isKeyField())o.push(Qg(t,r.key));else{var c=r.data.field(u.field);if(jg(c))throw new Gv(Wv.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+u.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var l=u.field.canonicalString();throw new Gv(Wv.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '".concat(l,"' (used as the orderBy) does not exist."))}o.push(c)}}}catch(f){s.e(f)}finally{s.f()}return new cy(o,i)}(e._query,e.firestore._databaseId,t,n[0]._document,r);var i=fT(e.firestore);return function(e,t,n,r,i,a){var o=e.explicitOrderBy;if(i.length>o.length)throw new Gv(Wv.INVALID_ARGUMENT,"Too many arguments provided to ".concat(r,"(). The number of arguments must be less than or equal to the number of orderBy() clauses"));for(var s=[],u=0;u<i.length;u++){var c=i[u];if(o[u].field.isKeyField()){if("string"!=typeof c)throw new Gv(Wv.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in ".concat(r,"(), but got a ").concat(typeof c));if(!Ky(e)&&-1!==c.indexOf("/"))throw new Gv(Wv.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by documentId(), the value passed to ".concat(r,"() must be a plain document ID, but '").concat(c,"' contains a slash."));var l=e.path.child(lm.fromString(c));if(!hm.isDocumentKey(l))throw new Gv(Wv.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by documentId(), the value passed to ".concat(r,"() must result in a valid document path, but '").concat(l,"' is not because it contains an odd number of segments."));var f=new hm(l);s.push(Qg(t,f))}else{var d=wT(n,r,c);s.push(d)}}return new cy(s,a)}(e._query,e.firestore._databaseId,i,t,n,r)}function YT(e,t,n){if("string"==typeof(n=tn(n))){if(""===n)throw new Gv(Wv.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Ky(t)&&-1!==n.indexOf("/"))throw new Gv(Wv.INVALID_ARGUMENT,"Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '".concat(n,"' contains a '/' character."));var r=t.path.child(lm.fromString(n));if(!hm.isDocumentKey(r))throw new Gv(Wv.INVALID_ARGUMENT,"Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '".concat(r,"' is not because it has an odd number of segments (").concat(r.length,")."));return Qg(e,new hm(r))}if(n instanceof LI)return Qg(e,n._key);throw new Gv(Wv.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ".concat(NI(n),"."))}function XT(e,t){if(!Array.isArray(e)||0===e.length)throw new Gv(Wv.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '".concat(t.toString(),"' filters."))}function $T(e,t){if(t.isInequality()){var n=Gy(e),r=t.field;if(null!==n&&!n.isEqual(r))throw new Gv(Wv.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '".concat(n.toString(),"' and '").concat(r.toString(),"'"));var i=Wy(e);null!==i&&JT(e,r,i)}var a=function(e,t){var n,r=T(e);try{for(r.s();!(n=r.n()).done;){var i,a=T(n.value.getFlattenedFilters());try{for(a.s();!(i=a.n()).done;){var o=i.value;if(t.indexOf(o.op)>=0)return o.op}}catch(s){a.e(s)}finally{a.f()}}}catch(s){r.e(s)}finally{r.f()}return null}(e.filters,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==a)throw a===t.op?new Gv(Wv.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '".concat(t.op.toString(),"' filter.")):new Gv(Wv.INVALID_ARGUMENT,"Invalid query. You cannot use '".concat(t.op.toString(),"' filters with '").concat(a.toString(),"' filters."))}function JT(e,t,n){if(!n.isEqual(t))throw new Gv(Wv.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '".concat(t.toString(),"' and so you must also use '").concat(t.toString(),"' as your first argument to orderBy(), but your first orderBy() is on field '").concat(n.toString(),"' instead."))}var ZT=function(){function e(){h(this,e)}return g(e,[{key:"convertValue",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(Vg(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ag(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Rg(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw Bv()}}},{key:"convertObject",value:function(e,t){return this.convertObjectMap(e.fields,t)}},{key:"convertObjectMap",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none",r={};return bg(e,(function(e,i){r[e]=t.convertValue(i,n)})),r}},{key:"convertGeoPoint",value:function(e){return new iT(Ag(e.latitude),Ag(e.longitude))}},{key:"convertArray",value:function(e,t){var n=this;return(e.values||[]).map((function(e){return n.convertValue(e,t)}))}},{key:"convertServerTimestamp",value:function(e,t){switch(t){case"previous":var n=Dg(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(Lg(e));default:return null}}},{key:"convertTimestamp",value:function(e){var t=Pg(e);return new sm(t.seconds,t.nanos)}},{key:"convertDocumentKey",value:function(e,t){var n=lm.fromString(e);qv(tw(n));var r=new Ug(n.get(1),n.get(3)),i=new hm(n.popFirst(5));return r.isEqual(t)||Fv("Document ".concat(i," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),i}}]),e}();function eC(e,t,n){return e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t}var tC=function(e){b(n,e);var t=_(n);function n(e){var r;return h(this,n),(r=t.call(this)).firestore=e,r}return g(n,[{key:"convertBytes",value:function(e){return new tT(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new LI(this.firestore,null,t)}}]),n}(ZT);var nC=function(){function e(t,n){h(this,e),this.hasPendingWrites=t,this.fromCache=n}return g(e,[{key:"isEqual",value:function(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}]),e}(),rC=function(e){b(n,e);var t=_(n);function n(e,r,i,a,o,s){var u;return h(this,n),(u=t.call(this,e,r,i,a,s))._firestore=e,u._firestoreImpl=e,u.metadata=o,u}return g(n,[{key:"exists",value:function(){return Or(k(n.prototype),"exists",this).call(this)}},{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){var t=new iC(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}},{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){var n=this._document.data.field(RT("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}]),n}(PT),iC=function(e){b(n,e);var t=_(n);function n(){return h(this,n),t.apply(this,arguments)}return g(n,[{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Or(k(n.prototype),"data",this).call(this,e)}}]),n}(rC),aC=function(){function e(t,n,r,i){h(this,e),this._firestore=t,this._userDataWriter=n,this._snapshot=i,this.metadata=new nC(i.hasPendingWrites,i.fromCache),this.query=r}return g(e,[{key:"docs",get:function(){var e=[];return this.forEach((function(t){return e.push(t)})),e}},{key:"size",get:function(){return this._snapshot.docs.size}},{key:"empty",get:function(){return 0===this.size}},{key:"forEach",value:function(e,t){var n=this;this._snapshot.docs.forEach((function(r){e.call(t,new iC(n._firestore,n._userDataWriter,r.key,r,new nC(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query.converter))}))}},{key:"docChanges",value:function(){var e=!!(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new Gv(Wv.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){var n=0;return e._snapshot.docChanges.map((function(t){var r=new iC(e._firestore,e._userDataWriter,t.doc.key,t.doc,new nC(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);return t.doc,{type:"added",doc:r,oldIndex:-1,newIndex:n++}}))}var r=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((function(e){return t||3!==e.type})).map((function(t){var n=new iC(e._firestore,e._userDataWriter,t.doc.key,t.doc,new nC(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),i=-1,a=-1;return 0!==t.type&&(i=r.indexOf(t.doc.key),r=r.delete(t.doc.key)),1!==t.type&&(a=(r=r.add(t.doc)).indexOf(t.doc.key)),{type:oC(t.type),doc:n,oldIndex:i,newIndex:a}}))}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}]),e}();function oC(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Bv()}}function sC(e,t){return e instanceof rC&&t instanceof rC?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(null===e._document?null===t._document:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof aC&&t instanceof aC&&e._firestore===t._firestore&&VI(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}var uC=function(e){b(n,e);var t=_(n);function n(e){var r;return h(this,n),(r=t.call(this)).firestore=e,r}return g(n,[{key:"convertBytes",value:function(e){return new tT(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new LI(this.firestore,null,t)}}]),n}(ZT);function cC(e){e=OI(e,LI);var t=OI(e.firestore,WI),n=GI(t),r=new uC(t);return function(e,t){var n=new Kv;return e.asyncQueue.enqueueAndForget(Ze($e().mark((function r(){return $e().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=function(){var e=Ze($e().mark((function e(t,n,r){var i,a;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,function(e,t){var n=Hv(e);return n.persistence.runTransaction("read document","readonly",(function(e){return n.localDocuments.getDocument(e,t)}))}(t,n);case 3:(i=e.sent).isFoundDocument()?r.resolve(i):i.isNoDocument()?r.resolve(null):r.reject(new Gv(Wv.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),a=NS(e.t0,"Failed to get document '".concat(n," from cache")),r.reject(a);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n,r){return e.apply(this,arguments)}}(),r.next=3,vI(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(n,e._key).then((function(n){return new rC(t,r,e._key,n,new nC(null!==n&&n.hasLocalMutations,!0),e.converter)}))}function lC(e){e=OI(e,DI);var t=OI(e.firestore,WI),n=GI(t),r=new uC(t);return jT(e._query),xI(n,e._query).then((function(n){return new aC(t,r,e,n)}))}function fC(e){e=OI(e,DI);var t=OI(e.firestore,WI),n=GI(t),r=new uC(t);return function(e,t){var n=new Kv;return e.asyncQueue.enqueueAndForget(Ze($e().mark((function r(){return $e().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=function(){var e=Ze($e().mark((function e(t,n,r){var i,a,o,s,u;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,a_(t,n,!0);case 3:i=e.sent,a=new YS(n,i._s),o=a._a(i.documents),s=a.applyChanges(o,!1),r.resolve(s.snapshot),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),u=NS(e.t0,"Failed to execute query '".concat(n," against cache")),r.reject(u);case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,n,r){return e.apply(this,arguments)}}(),r.next=3,vI(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(n,e._query).then((function(n){return new aC(t,r,e,n)}))}function dC(e){e=OI(e,DI);var t=OI(e.firestore,WI),n=GI(t),r=new uC(t);return xI(n,e._query,{source:"server"}).then((function(n){return new aC(t,r,e,n)}))}function hC(e,t,n){e=OI(e,LI);var r=OI(e.firestore,WI),i=eC(e.converter,t,n);return gC(r,[dT(fT(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,Mb.none())])}function pC(e,t,n){e=OI(e,LI);for(var r=OI(e.firestore,WI),i=fT(r),a=arguments.length,o=new Array(a>3?a-3:0),s=3;s<a;s++)o[s-3]=arguments[s];return gC(r,[("string"==typeof(t=tn(t))||t instanceof nT?kT(i,"updateDoc",e._key,t,n,o):bT(i,"updateDoc",e._key,t)).toMutation(e._key,Mb.exists(!0))])}function vC(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i,a,o;e=tn(e);var s={includeMetadataChanges:!1},u=0;"object"!=typeof n[u]||qI(n[u])||(s=n[u],u++);var c,l,f,d={includeMetadataChanges:s.includeMetadataChanges};if(qI(n[u])){var h=n[u];n[u]=null===(i=h.next)||void 0===i?void 0:i.bind(h),n[u+1]=null===(a=h.error)||void 0===a?void 0:a.bind(h),n[u+2]=null===(o=h.complete)||void 0===o?void 0:o.bind(h)}if(e instanceof LI)l=OI(e.firestore,WI),f=qy(e._key.path),c={next:function(t){n[u]&&n[u](yC(l,e,t))},error:n[u+1],complete:n[u+2]};else{var p=OI(e,DI);l=OI(p.firestore,WI),f=p._query;var v=new uC(l);c={next:function(e){n[u]&&n[u](new aC(l,v,p,e))},error:n[u+1],complete:n[u+2]},jT(e._query)}return function(e,t,n,r){var i=new eI(r),a=new BS(t,i,n);return e.asyncQueue.enqueueAndForget(Ze($e().mark((function t(){return $e().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=DS,t.next=3,bI(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){i.Ma(),e.asyncQueue.enqueueAndForget(Ze($e().mark((function t(){return $e().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=MS,t.next=3,bI(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(GI(l),f,d,c)}function mC(e,t){return function(e,t){var n=new eI(t);return e.asyncQueue.enqueueAndForget(Ze($e().mark((function t(){return $e().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t){Hv(e).B_.add(t),t.next()},t.next=3,bI(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){n.Ma(),e.asyncQueue.enqueueAndForget(Ze($e().mark((function t(){return $e().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t){Hv(e).B_.delete(t)},t.next=3,bI(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(GI(e=OI(e,WI)),qI(t)?t:{next:t})}function gC(e,t){return function(e,t){var n=new Kv;return e.asyncQueue.enqueueAndForget(Ze($e().mark((function r(){return $e().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=aE,r.next=3,gI(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(GI(e),t)}function yC(e,t,n){var r=n.docs.get(t._key),i=new uC(e);return new rC(e,i,t._key,r,new nC(n.hasPendingWrites,n.fromCache),t.converter)}var bC={maxAttempts:5},kC=function(){function e(t,n){h(this,e),this._firestore=t,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=fT(t)}return g(e,[{key:"set",value:function(e,t,n){this._verifyNotCommitted();var r=wC(e,this._firestore),i=eC(r.converter,t,n),a=dT(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(a.toMutation(r._key,Mb.none())),this}},{key:"update",value:function(e,t,n){this._verifyNotCommitted();for(var r,i=wC(e,this._firestore),a=arguments.length,o=new Array(a>3?a-3:0),s=3;s<a;s++)o[s-3]=arguments[s];return r="string"==typeof(t=tn(t))||t instanceof nT?kT(this._dataReader,"WriteBatch.update",i._key,t,n,o):bT(this._dataReader,"WriteBatch.update",i._key,t),this._mutations.push(r.toMutation(i._key,Mb.exists(!0))),this}},{key:"delete",value:function(e){this._verifyNotCommitted();var t=wC(e,this._firestore);return this._mutations=this._mutations.concat(new Jb(t._key,Mb.none())),this}},{key:"commit",value:function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}},{key:"_verifyNotCommitted",value:function(){if(this._committed)throw new Gv(Wv.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}]),e}();function wC(e,t){if((e=tn(e)).firestore!==t)throw new Gv(Wv.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}var xC=function(e){b(n,e);var t=_(n);function n(e,r){var i;return h(this,n),(i=t.call(this,e,r))._firestore=e,i}return g(n,[{key:"get",value:function(e){var t=this,r=wC(e,this._firestore),i=new uC(this._firestore);return Or(k(n.prototype),"get",this).call(this,e).then((function(e){return new rC(t._firestore,i,r._key,e._document,new nC(!1,!1),r.converter)}))}}]),n}(function(){function e(t,n){h(this,e),this._firestore=t,this._transaction=n,this._dataReader=fT(t)}return g(e,[{key:"get",value:function(e){var t=this,n=wC(e,this._firestore),r=new tC(this._firestore);return this._transaction.lookup([n._key]).then((function(e){if(!e||1!==e.length)return Bv();var i=e[0];if(i.isFoundDocument())return new PT(t._firestore,r,i.key,i,n.converter);if(i.isNoDocument())return new PT(t._firestore,r,n._key,null,n.converter);throw Bv()}))}},{key:"set",value:function(e,t,n){var r=wC(e,this._firestore),i=eC(r.converter,t,n),a=dT(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,a),this}},{key:"update",value:function(e,t,n){for(var r,i=wC(e,this._firestore),a=arguments.length,o=new Array(a>3?a-3:0),s=3;s<a;s++)o[s-3]=arguments[s];return r="string"==typeof(t=tn(t))||t instanceof nT?kT(this._dataReader,"Transaction.update",i._key,t,n,o):bT(this._dataReader,"Transaction.update",i._key,t),this._transaction.update(i._key,r),this}},{key:"delete",value:function(e){var t=wC(e,this._firestore);return this._transaction.delete(t._key),this}}]),e}());function _C(e,t,n){e=OI(e,WI);var r=Object.assign(Object.assign({},bC),n);return function(e){if(e.maxAttempts<1)throw new Gv(Wv.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(e,t,n){var r=new Kv;return e.asyncQueue.enqueueAndForget(Ze($e().mark((function i(){var a;return $e().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,yI(e);case 2:a=i.sent,new rI(e.asyncQueue,a,n,t,r).run();case 4:case"end":return i.stop()}}),i)})))),r.promise}(GI(e),(function(n){return t(new xC(e,n))}),r)}function SC(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new mT("arrayUnion",t)}function EC(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new gT("arrayRemove",t)}!function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){Dv=e}($n),Hn(new nn("firestore",(function(e,n){var r=n.instanceIdentifier,i=n.options,a=e.getProvider("app").getImmediate(),o=new WI(new $v(e.getProvider("auth-internal")),new tm(e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new Gv(Wv.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ug(e.options.projectId,t)}(a,r),a);return i=Object.assign({useFetchStreams:t},i),o._setSettings(i),o}),"PUBLIC").setMultipleInstances(!0)),rr(Rv,"4.1.2",e),rr(Rv,"4.1.2","esm2017")}();function IC(e,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new Gv("invalid-argument","Invalid options passed to function ".concat(e,"(): You cannot ")+'specify both "merge" and "mergeFields".');return t}function TC(){if("undefined"===typeof Uint8Array)throw new Gv("unimplemented","Uint8Arrays are not available in this environment.")}function CC(){if("undefined"==typeof atob)throw new Gv("unimplemented","Blobs are unavailable in Firestore in this environment.")}var NC=function(){function e(t){h(this,e),this._delegate=t}return g(e,[{key:"toBase64",value:function(){return CC(),this._delegate.toBase64()}},{key:"toUint8Array",value:function(){return TC(),this._delegate.toUint8Array()}},{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}},{key:"toString",value:function(){return"Blob(base64: "+this.toBase64()+")"}}],[{key:"fromBase64String",value:function(t){return CC(),new e(tT.fromBase64String(t))}},{key:"fromUint8Array",value:function(t){return TC(),new e(tT.fromUint8Array(t))}}]),e}();function OC(e){return function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=e,i=T(t);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"===typeof r[a])return!0}}catch(o){i.e(o)}finally{i.f()}return!1}(e,["next","error","complete"])}var PC=function(){function e(){h(this,e)}return g(e,[{key:"enableIndexedDbPersistence",value:function(e,t){return function(e,t){eT(e=OI(e,WI));var n=GI(e);if(n._uninitializedComponentsProvider)throw new Gv(Wv.FAILED_PRECONDITION,"SDK cache is already specified.");zv("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");var r=e._freezeSettings(),i=new JE;return QI(n,i,new XE(i,r.cacheSizeBytes,null==t?void 0:t.forceOwnership))}(e._delegate,{forceOwnership:t})}},{key:"enableMultiTabIndexedDbPersistence",value:function(e){return function(e){eT(e=OI(e,WI));var t=GI(e);if(t._uninitializedComponentsProvider)throw new Gv(Wv.FAILED_PRECONDITION,"SDK cache is already specified.");zv("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");var n=e._freezeSettings(),r=new JE;return QI(t,r,new $E(r,n.cacheSizeBytes))}(e._delegate)}},{key:"clearIndexedDbPersistence",value:function(e){return function(e){if(e._initialized&&!e._terminated)throw new Gv(Wv.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var t=new Kv;return e._queue.enqueueAndForgetEvenWhileRestricted(Ze($e().mark((function n(){return $e().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,function(){var e=Ze($e().mark((function e(t){var n;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Nm.v()){e.next=2;break}return e.abrupt("return",Promise.resolve());case 2:return n=t+"main",e.next=5,Nm.delete(n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(Hx(e._databaseId,e._persistenceKey));case 3:t.resolve(),n.next=9;break;case 6:n.prev=6,n.t0=n.catch(0),t.reject(n.t0);case 9:case"end":return n.stop()}}),n,null,[[0,6]])})))),t.promise}(e._delegate)}}]),e}(),AC=function(){function e(t,n,r){var i=this;h(this,e),this._delegate=n,this._persistenceProvider=r,this.INTERNAL={delete:function(){return i.terminate()}},t instanceof Ug||(this._appCompat=t)}return g(e,[{key:"_databaseId",get:function(){return this._delegate._databaseId}},{key:"settings",value:function(e){var t=this._delegate._getSettings();e.merge||t.host===e.host||zv("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}},{key:"useEmulator",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};jI(this._delegate,e,t,n)}},{key:"enableNetwork",value:function(){return XI(this._delegate)}},{key:"disableNetwork",value:function(){return $I(this._delegate)}},{key:"enablePersistence",value:function(e){var t=!1,n=!1;return e&&II("synchronizeTabs",t=!!e.synchronizeTabs,"experimentalForceOwningTab",n=!!e.experimentalForceOwningTab),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,n)}},{key:"clearPersistence",value:function(){return this._persistenceProvider.clearIndexedDbPersistence(this)}},{key:"terminate",value:function(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}},{key:"waitForPendingWrites",value:function(){return YI(this._delegate)}},{key:"onSnapshotsInSync",value:function(e){return mC(this._delegate,e)}},{key:"app",get:function(){if(!this._appCompat)throw new Gv("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}},{key:"collection",value:function(e){try{return new GC(this,UI(this._delegate,e))}catch(t){throw UC(t,"collection()","Firestore.collection()")}}},{key:"doc",value:function(e){try{return new MC(this,FI(this._delegate,e))}catch(t){throw UC(t,"doc()","Firestore.doc()")}}},{key:"collectionGroup",value:function(e){try{return new qC(this,function(e,t){if(e=OI(e,RI),EI("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new Gv(Wv.INVALID_ARGUMENT,"Invalid collection ID '".concat(t,"' passed to function collectionGroup(). Collection IDs must not contain '/'."));return new DI(e,null,function(e){return new Vy(lm.emptyPath(),e)}(t))}(this._delegate,e))}catch(t){throw UC(t,"collectionGroup()","Firestore.collectionGroup()")}}},{key:"runTransaction",value:function(e){var t=this;return _C(this._delegate,(function(n){return e(new jC(t,n))}))}},{key:"batch",value:function(){var e=this;return GI(this._delegate),new DC(new kC(this._delegate,(function(t){return gC(e._delegate,t)})))}},{key:"loadBundle",value:function(e){return JI(this._delegate,e)}},{key:"namedQuery",value:function(e){var t=this;return ZI(this._delegate,e).then((function(e){return e?new qC(t,e):null}))}}]),e}(),RC=function(e){b(n,e);var t=_(n);function n(e){var r;return h(this,n),(r=t.call(this)).firestore=e,r}return g(n,[{key:"convertBytes",value:function(e){return new NC(new tT(e))}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return MC.forKey(t,this.firestore,null)}}]),n}(ZT);var jC=function(){function e(t,n){h(this,e),this._firestore=t,this._delegate=n,this._userDataWriter=new RC(t)}return g(e,[{key:"get",value:function(e){var t=this,n=KC(e);return this._delegate.get(n).then((function(e){return new VC(t._firestore,new rC(t._firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,n.converter))}))}},{key:"set",value:function(e,t,n){var r=KC(e);return n?(IC("Transaction.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),a=3;a<r;a++)i[a-3]=arguments[a];var o,s=KC(e);2===arguments.length?this._delegate.update(s,t):(o=this._delegate).update.apply(o,[s,t,n].concat(i));return this}},{key:"delete",value:function(e){var t=KC(e);return this._delegate.delete(t),this}}]),e}(),DC=function(){function e(t){h(this,e),this._delegate=t}return g(e,[{key:"set",value:function(e,t,n){var r=KC(e);return n?(IC("WriteBatch.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),a=3;a<r;a++)i[a-3]=arguments[a];var o,s=KC(e);2===arguments.length?this._delegate.update(s,t):(o=this._delegate).update.apply(o,[s,t,n].concat(i));return this}},{key:"delete",value:function(e){var t=KC(e);return this._delegate.delete(t),this}},{key:"commit",value:function(){return this._delegate.commit()}}]),e}(),LC=function(){function e(t,n,r){h(this,e),this._firestore=t,this._userDataWriter=n,this._delegate=r}return g(e,[{key:"fromFirestore",value:function(e,t){var n=new iC(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new BC(this._firestore,n),null!==t&&void 0!==t?t:{})}},{key:"toFirestore",value:function(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}}],[{key:"getInstance",value:function(t,n){var r=e.INSTANCES,i=r.get(t);i||(i=new WeakMap,r.set(t,i));var a=i.get(n);return a||(a=new e(t,new RC(t),n),i.set(n,a)),a}}]),e}();LC.INSTANCES=new WeakMap;var MC=function(){function e(t,n){h(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new RC(t)}return g(e,[{key:"id",get:function(){return this._delegate.id}},{key:"parent",get:function(){return new GC(this.firestore,this._delegate.parent)}},{key:"path",get:function(){return this._delegate.path}},{key:"collection",value:function(e){try{return new GC(this.firestore,UI(this._delegate,e))}catch(t){throw UC(t,"collection()","DocumentReference.collection()")}}},{key:"isEqual",value:function(e){return(e=tn(e))instanceof LI&&zI(this._delegate,e)}},{key:"set",value:function(e,t){t=IC("DocumentReference.set",t);try{return t?hC(this._delegate,e,t):hC(this._delegate,e)}catch(n){throw UC(n,"setDoc()","DocumentReference.set()")}}},{key:"update",value:function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];try{return 1===arguments.length?pC(this._delegate,e):pC.apply(void 0,[this._delegate,e,t].concat(r))}catch(a){throw UC(a,"updateDoc()","DocumentReference.update()")}}},{key:"delete",value:function(){return function(e){return gC(OI(e.firestore,WI),[new Jb(e._key,Mb.none())])}(this._delegate)}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=FC(n),a=zC(n,(function(t){return new VC(e.firestore,new rC(e.firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,e._delegate.converter))}));return vC(this._delegate,i,a)}},{key:"get",value:function(e){var t=this;return("cache"===(null===e||void 0===e?void 0:e.source)?cC(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=OI(e,LI);var t=OI(e.firestore,WI);return wI(GI(t),e._key,{source:"server"}).then((function(n){return yC(t,e,n)}))}(this._delegate):function(e){e=OI(e,LI);var t=OI(e.firestore,WI);return wI(GI(t),e._key).then((function(n){return yC(t,e,n)}))}(this._delegate)).then((function(e){return new VC(t.firestore,new rC(t.firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,t._delegate.converter))}))}},{key:"withConverter",value:function(t){return new e(this.firestore,t?this._delegate.withConverter(LC.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}],[{key:"forPath",value:function(t,n,r){if(t.length%2!==0)throw new Gv("invalid-argument","Invalid document reference. Document references must have an even number of segments, but "+"".concat(t.canonicalString()," has ").concat(t.length));return new e(n,new LI(n._delegate,r,new hm(t)))}},{key:"forKey",value:function(t,n,r){return new e(n,new LI(n._delegate,r,t))}}]),e}();function UC(e,t,n){return e.message=e.message.replace(t,n),e}function FC(e){var t,n=T(e);try{for(n.s();!(t=n.n()).done;){var r=t.value;if("object"===typeof r&&!OC(r))return r}}catch(i){n.e(i)}finally{n.f()}return{}}function zC(e,t){var n,r,i;return{next:function(e){i.next&&i.next(t(e))},error:null===(n=(i=OC(e[0])?e[0]:OC(e[1])?e[1]:"function"===typeof e[0]?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var VC=function(){function e(t,n){h(this,e),this._firestore=t,this._delegate=n}return g(e,[{key:"ref",get:function(){return new MC(this._firestore,this._delegate.ref)}},{key:"id",get:function(){return this._delegate.id}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"exists",get:function(){return this._delegate.exists()}},{key:"data",value:function(e){return this._delegate.data(e)}},{key:"get",value:function(e,t){return this._delegate.get(e,t)}},{key:"isEqual",value:function(e){return sC(this._delegate,e._delegate)}}]),e}(),BC=function(e){b(n,e);var t=_(n);function n(){return h(this,n),t.apply(this,arguments)}return g(n,[{key:"data",value:function(e){var t=this._delegate.data(e);return function(e,t){e||Bv()}(void 0!==t),t}}]),n}(VC),qC=function(){function e(t,n){h(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new RC(t)}return g(e,[{key:"where",value:function(t,n,r){try{return new e(this.firestore,MT(this._delegate,function(e,t,n){var r=t,i=RT("where",e);return UT._create(i,r,n)}(t,n,r)))}catch(i){throw UC(i,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"orderBy",value:function(t,n){try{return new e(this.firestore,MT(this._delegate,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc",n=RT("orderBy",e);return zT._create(n,t)}(t,n)))}catch(r){throw UC(r,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"limit",value:function(t){try{return new e(this.firestore,MT(this._delegate,function(e){return PI("limit",e),VT._create("limit",e,"F")}(t)))}catch(n){throw UC(n,"limit()","Query.limit()")}}},{key:"limitToLast",value:function(t){try{return new e(this.firestore,MT(this._delegate,function(e){return PI("limitToLast",e),VT._create("limitToLast",e,"L")}(t)))}catch(n){throw UC(n,"limitToLast()","Query.limitToLast()")}}},{key:"startAt",value:function(){try{return new e(this.firestore,MT(this._delegate,qT.apply(void 0,arguments)))}catch(t){throw UC(t,"startAt()","Query.startAt()")}}},{key:"startAfter",value:function(){try{return new e(this.firestore,MT(this._delegate,HT.apply(void 0,arguments)))}catch(t){throw UC(t,"startAfter()","Query.startAfter()")}}},{key:"endBefore",value:function(){try{return new e(this.firestore,MT(this._delegate,GT.apply(void 0,arguments)))}catch(t){throw UC(t,"endBefore()","Query.endBefore()")}}},{key:"endAt",value:function(){try{return new e(this.firestore,MT(this._delegate,KT.apply(void 0,arguments)))}catch(t){throw UC(t,"endAt()","Query.endAt()")}}},{key:"isEqual",value:function(e){return VI(this._delegate,e._delegate)}},{key:"get",value:function(e){var t=this;return("cache"===(null===e||void 0===e?void 0:e.source)?fC(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?dC(this._delegate):lC(this._delegate)).then((function(e){return new WC(t.firestore,new aC(t.firestore._delegate,t._userDataWriter,t._delegate,e._snapshot))}))}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=FC(n),a=zC(n,(function(t){return new WC(e.firestore,new aC(e.firestore._delegate,e._userDataWriter,e._delegate,t._snapshot))}));return vC(this._delegate,i,a)}},{key:"withConverter",value:function(t){return new e(this.firestore,t?this._delegate.withConverter(LC.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}]),e}(),HC=function(){function e(t,n){h(this,e),this._firestore=t,this._delegate=n}return g(e,[{key:"type",get:function(){return this._delegate.type}},{key:"doc",get:function(){return new BC(this._firestore,this._delegate.doc)}},{key:"oldIndex",get:function(){return this._delegate.oldIndex}},{key:"newIndex",get:function(){return this._delegate.newIndex}}]),e}(),WC=function(){function e(t,n){h(this,e),this._firestore=t,this._delegate=n}return g(e,[{key:"query",get:function(){return new qC(this._firestore,this._delegate.query)}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"size",get:function(){return this._delegate.size}},{key:"empty",get:function(){return this._delegate.empty}},{key:"docs",get:function(){var e=this;return this._delegate.docs.map((function(t){return new BC(e._firestore,t)}))}},{key:"docChanges",value:function(e){var t=this;return this._delegate.docChanges(e).map((function(e){return new HC(t._firestore,e)}))}},{key:"forEach",value:function(e,t){var n=this;this._delegate.forEach((function(r){e.call(t,new BC(n._firestore,r))}))}},{key:"isEqual",value:function(e){return sC(this._delegate,e._delegate)}}]),e}(),GC=function(e){b(n,e);var t=_(n);function n(e,r){var i;return h(this,n),(i=t.call(this,e,r)).firestore=e,i._delegate=r,i}return g(n,[{key:"id",get:function(){return this._delegate.id}},{key:"path",get:function(){return this._delegate.path}},{key:"parent",get:function(){var e=this._delegate.parent;return e?new MC(this.firestore,e):null}},{key:"doc",value:function(e){try{return new MC(this.firestore,void 0===e?FI(this._delegate):FI(this._delegate,e))}catch(t){throw UC(t,"doc()","CollectionReference.doc()")}}},{key:"add",value:function(e){var t=this;return function(e,t){var n=OI(e.firestore,WI),r=FI(e),i=eC(e.converter,t);return gC(n,[dT(fT(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,Mb.exists(!1))]).then((function(){return r}))}(this._delegate,e).then((function(e){return new MC(t.firestore,e)}))}},{key:"isEqual",value:function(e){return zI(this._delegate,e._delegate)}},{key:"withConverter",value:function(e){return new n(this.firestore,e?this._delegate.withConverter(LC.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}]),n}(qC);function KC(e){return OI(e,LI)}var QC=function(){function e(){h(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];this._delegate=S(nT,n)}return g(e,[{key:"isEqual",value:function(e){return(e=tn(e))instanceof nT&&this._delegate._internalPath.isEqual(e._internalPath)}}],[{key:"documentId",value:function(){return new e(dm.keyField().canonicalString())}}]),e}(),YC=function(){function e(t){h(this,e),this._delegate=t}return g(e,[{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}}],[{key:"serverTimestamp",value:function(){var t=new vT("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new e(t)}},{key:"delete",value:function(){var t=new hT("deleteField");return t._methodName="FieldValue.delete",new e(t)}},{key:"arrayUnion",value:function(){var t=SC.apply(void 0,arguments);return t._methodName="FieldValue.arrayUnion",new e(t)}},{key:"arrayRemove",value:function(){var t=EC.apply(void 0,arguments);return t._methodName="FieldValue.arrayRemove",new e(t)}},{key:"increment",value:function(t){var n=function(e){return new yT("increment",e)}(t);return n._methodName="FieldValue.increment",new e(n)}}]),e}(),XC={Firestore:AC,GeoPoint:iT,Timestamp:sm,Blob:NC,Transaction:jC,WriteBatch:DC,DocumentReference:MC,DocumentSnapshot:VC,Query:qC,QueryDocumentSnapshot:BC,QuerySnapshot:WC,CollectionReference:GC,FieldPath:QC,FieldValue:YC,setLogLevel:function(e){!function(e){Lv.setLogLevel(e)}(e)},CACHE_SIZE_UNLIMITED:-1};!function(e){!function(e,t){e.INTERNAL.registerComponent(new nn("firestore-compat",(function(e){var n=e.getProvider("app-compat").getImmediate(),r=e.getProvider("firestore").getImmediate();return t(n,r)}),"PUBLIC").setServiceProps(Object.assign({},XC)))}(e,(function(e,t){return new AC(e,t,new PC)})),e.registerVersion("@firebase/firestore-compat","0.3.16")}(Nr);var $C,JC="firebasestorage.googleapis.com",ZC="storageBucket",eN=function(e){b(n,e);var t=_(n);function n(e,r){var i,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return h(this,n),(i=t.call(this,tN(e),"Firebase Storage: ".concat(r," (").concat(tN(e),")"))).status_=a,i.customData={serverResponse:null},i._baseMessage=i.message,Object.setPrototypeOf(x(i),n.prototype),i}return g(n,[{key:"status",get:function(){return this.status_},set:function(e){this.status_=e}},{key:"_codeEquals",value:function(e){return tN(e)===this.code}},{key:"serverResponse",get:function(){return this.customData.serverResponse},set:function(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message="".concat(this._baseMessage,"\n").concat(this.customData.serverResponse):this.message=this._baseMessage}}]),n}(Bt);function tN(e){return"storage/"+e}function nN(){return new eN($C.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function rN(){return new eN($C.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function iN(){return new eN($C.CANCELED,"User canceled the upload/download.")}function aN(){return new eN($C.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function oN(e){return new eN($C.INVALID_ARGUMENT,e)}function sN(){return new eN($C.APP_DELETED,"The Firebase app was deleted.")}function uN(e){return new eN($C.INVALID_ROOT_OPERATION,"The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function cN(e,t){return new eN($C.INVALID_FORMAT,"String does not match format '"+e+"': "+t)}function lN(e){throw new eN($C.INTERNAL_ERROR,"Internal error: "+e)}!function(e){e.UNKNOWN="unknown",e.OBJECT_NOT_FOUND="object-not-found",e.BUCKET_NOT_FOUND="bucket-not-found",e.PROJECT_NOT_FOUND="project-not-found",e.QUOTA_EXCEEDED="quota-exceeded",e.UNAUTHENTICATED="unauthenticated",e.UNAUTHORIZED="unauthorized",e.UNAUTHORIZED_APP="unauthorized-app",e.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",e.INVALID_CHECKSUM="invalid-checksum",e.CANCELED="canceled",e.INVALID_EVENT_NAME="invalid-event-name",e.INVALID_URL="invalid-url",e.INVALID_DEFAULT_BUCKET="invalid-default-bucket",e.NO_DEFAULT_BUCKET="no-default-bucket",e.CANNOT_SLICE_BLOB="cannot-slice-blob",e.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",e.NO_DOWNLOAD_URL="no-download-url",e.INVALID_ARGUMENT="invalid-argument",e.INVALID_ARGUMENT_COUNT="invalid-argument-count",e.APP_DELETED="app-deleted",e.INVALID_ROOT_OPERATION="invalid-root-operation",e.INVALID_FORMAT="invalid-format",e.INTERNAL_ERROR="internal-error",e.UNSUPPORTED_ENVIRONMENT="unsupported-environment"}($C||($C={}));var fN,dN=function(){function e(t,n){h(this,e),this.bucket=t,this.path_=n}return g(e,[{key:"path",get:function(){return this.path_}},{key:"isRoot",get:function(){return 0===this.path.length}},{key:"fullServerUrl",value:function(){var e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}},{key:"bucketOnlyServerUrl",value:function(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}}],[{key:"makeFromBucketSpec",value:function(t,n){var r,i;try{r=e.makeFromUrl(t,n)}catch(a){return new e(t,"")}if(""===r.path)return r;throw i=t,new eN($C.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+i+"'.")}},{key:"makeFromUrl",value:function(t,n){var r=null,i="([A-Za-z0-9.\\-_]+)";var a=new RegExp("^gs://"+i+"(/(.*))?$","i");function o(e){e.path_=decodeURIComponent(e.path)}for(var s=n.replace(/[.]/g,"\\."),u=[{regex:a,indices:{bucket:1,path:3},postModify:function(e){"/"===e.path.charAt(e.path.length-1)&&(e.path_=e.path_.slice(0,-1))}},{regex:new RegExp("^https?://".concat(s,"/").concat("v[A-Za-z0-9_]+","/b/").concat(i,"/o").concat("(/([^?#]*).*)?$"),"i"),indices:{bucket:1,path:3},postModify:o},{regex:new RegExp("^https?://".concat(n===JC?"(?:storage.googleapis.com|storage.cloud.google.com)":n,"/").concat(i,"/").concat("([^?#]*)"),"i"),indices:{bucket:1,path:2},postModify:o}],c=0;c<u.length;c++){var l=u[c],f=l.regex.exec(t);if(f){var d=f[l.indices.bucket],h=f[l.indices.path];h||(h=""),r=new e(d,h),l.postModify(r);break}}if(null==r)throw function(e){return new eN($C.INVALID_URL,"Invalid URL '"+e+"'.")}(t);return r}}]),e}(),hN=function(){function e(t){h(this,e),this.promise_=Promise.reject(t)}return g(e,[{key:"getPromise",value:function(){return this.promise_}},{key:"cancel",value:function(){}}]),e}();function pN(e){return"string"===typeof e||e instanceof String}function vN(e){return mN()&&e instanceof Blob}function mN(){return"undefined"!==typeof Blob&&!Mt()}function gN(e,t,n,r){if(r<t)throw oN("Invalid value for '".concat(e,"'. Expected ").concat(t," or greater."));if(r>n)throw oN("Invalid value for '".concat(e,"'. Expected ").concat(n," or less."))}function yN(e,t,n){var r=t;return null==n&&(r="https://".concat(t)),"".concat(n,"://").concat(r,"/v0").concat(e)}function bN(e){var t=encodeURIComponent,n="?";for(var r in e){if(e.hasOwnProperty(r))n=n+(t(r)+"="+t(e[r]))+"&"}return n=n.slice(0,-1)}function kN(e,t){var n=e>=500&&e<600,r=-1!==[408,429].indexOf(e),i=-1!==t.indexOf(e);return n||r||i}!function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"}(fN||(fN={}));var wN=function(){function e(t,n,r,i,a,o,s,u,c,l,f){var d=this,p=!(arguments.length>11&&void 0!==arguments[11])||arguments[11];h(this,e),this.url_=t,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=a,this.additionalRetryCodes_=o,this.callback_=s,this.errorCallback_=u,this.timeout_=c,this.progressCallback_=l,this.connectionFactory_=f,this.retry=p,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((function(e,t){d.resolve_=e,d.reject_=t,d.start_()}))}return g(e,[{key:"start_",value:function(){var e=this,t=function(t,n){var r=e.resolve_,i=e.reject_,a=n.connection;if(n.wasSuccessCode)try{var o=e.callback_(a,a.getResponse());!function(e){return void 0!==e}(o)?r():r(o)}catch(u){i(u)}else if(null!==a){var s=nN();s.serverResponse=a.getErrorText(),e.errorCallback_?i(e.errorCallback_(a,s)):i(s)}else{if(n.canceled)i(e.appDelete_?sN():iN());else i(rN())}};this.canceled_?t(0,new xN(!1,null,!0)):this.backoffId_=function(e,t,n){var r=1,i=null,a=null,o=!1,s=0;function u(){return 2===s}var c=!1;function l(){if(!c){c=!0;for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];t.apply(null,n)}}function f(t){i=setTimeout((function(){i=null,e(h,u())}),t)}function d(){a&&clearTimeout(a)}function h(e){if(c)d();else{for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];if(e)return d(),void l.call.apply(l,[null,e].concat(n));var a;if(u()||o)return d(),void l.call.apply(l,[null,e].concat(n));r<64&&(r*=2),1===s?(s=2,a=0):a=1e3*(r+Math.random()),f(a)}}var p=!1;function v(e){p||(p=!0,d(),c||(null!==i?(e||(s=2),clearTimeout(i),f(0)):e||(s=1)))}return f(0),a=setTimeout((function(){o=!0,v(!0)}),n),v}((function(t,n){if(n)t(!1,new xN(!1,null,!0));else{var r=e.connectionFactory_();e.pendingConnection_=r;var i=function(t){var n=t.loaded,r=t.lengthComputable?t.total:-1;null!==e.progressCallback_&&e.progressCallback_(n,r)};null!==e.progressCallback_&&r.addUploadProgressListener(i),r.send(e.url_,e.method_,e.body_,e.headers_).then((function(){null!==e.progressCallback_&&r.removeUploadProgressListener(i),e.pendingConnection_=null;var n=r.getErrorCode()===fN.NO_ERROR,a=r.getStatus();if(!n||kN(a,e.additionalRetryCodes_)&&e.retry){var o=r.getErrorCode()===fN.ABORT;t(!1,new xN(!1,null,o))}else{var s=-1!==e.successCodes_.indexOf(a);t(!0,new xN(s,r))}}))}}),t,this.timeout_)}},{key:"getPromise",value:function(){return this.promise_}},{key:"cancel",value:function(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&function(e){e(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}]),e}(),xN=g((function e(t,n,r){h(this,e),this.wasSuccessCode=t,this.connection=n,this.canceled=!!r}));function _N(){return"undefined"!==typeof BlobBuilder?BlobBuilder:"undefined"!==typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}function SN(){for(var e=_N(),t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(void 0!==e){for(var i=new e,a=0;a<n.length;a++)i.append(n[a]);return i.getBlob()}if(mN())return new Blob(n);throw new eN($C.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}function EN(e){if("undefined"===typeof atob)throw t="base-64",new eN($C.UNSUPPORTED_ENVIRONMENT,"".concat(t," is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information."));var t;return atob(e)}var IN={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"},TN=g((function e(t,n){h(this,e),this.data=t,this.contentType=n||null}));function CN(e,t){switch(e){case IN.RAW:return new TN(NN(t));case IN.BASE64:case IN.BASE64URL:return new TN(ON(e,t));case IN.DATA_URL:return new TN(function(e){var t=new PN(e);return t.base64?ON(IN.BASE64,t.rest):function(e){var t;try{t=decodeURIComponent(e)}catch(n){throw cN(IN.DATA_URL,"Malformed data URL.")}return NN(t)}(t.rest)}(t),new PN(t).contentType)}throw nN()}function NN(e){for(var t=[],n=0;n<e.length;n++){var r=e.charCodeAt(n);if(r<=127)t.push(r);else if(r<=2047)t.push(192|r>>6,128|63&r);else if(55296===(64512&r))if(n<e.length-1&&56320===(64512&e.charCodeAt(n+1)))r=65536|(1023&r)<<10|1023&e.charCodeAt(++n),t.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r);else t.push(239,191,189);else 56320===(64512&r)?t.push(239,191,189):t.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(t)}function ON(e,t){switch(e){case IN.BASE64:var n=-1!==t.indexOf("-"),r=-1!==t.indexOf("_");if(n||r)throw cN(e,"Invalid character '"+(n?"-":"_")+"' found: is it base64url encoded?");break;case IN.BASE64URL:var i=-1!==t.indexOf("+"),a=-1!==t.indexOf("/");if(i||a)throw cN(e,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");t=t.replace(/-/g,"+").replace(/_/g,"/")}var o;try{o=EN(t)}catch(c){if(c.message.includes("polyfill"))throw c;throw cN(e,"Invalid character found")}for(var s=new Uint8Array(o.length),u=0;u<o.length;u++)s[u]=o.charCodeAt(u);return s}var PN=g((function e(t){h(this,e),this.base64=!1,this.contentType=null;var n=t.match(/^data:([^,]+)?,/);if(null===n)throw cN(IN.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");var r=n[1]||null;null!=r&&(this.base64=function(e,t){var n=e.length>=t.length;if(!n)return!1;return e.substring(e.length-t.length)===t}(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=t.substring(t.indexOf(",")+1)}));var AN=function(){function e(t,n){h(this,e);var r=0,i="";vN(t)?(this.data_=t,r=t.size,i=t.type):t instanceof ArrayBuffer?(n?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),r=this.data_.length):t instanceof Uint8Array&&(n?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),r=t.length),this.size_=r,this.type_=i}return g(e,[{key:"size",value:function(){return this.size_}},{key:"type",value:function(){return this.type_}},{key:"slice",value:function(t,n){if(vN(this.data_)){var r=function(e,t,n){return e.webkitSlice?e.webkitSlice(t,n):e.mozSlice?e.mozSlice(t,n):e.slice?e.slice(t,n):null}(this.data_,t,n);return null===r?null:new e(r)}var i=new Uint8Array(this.data_.buffer,t,n-t);return new e(i,!0)}},{key:"uploadData",value:function(){return this.data_}}],[{key:"getBlob",value:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(mN()){var i=n.map((function(t){return t instanceof e?t.data_:t}));return new e(SN.apply(null,i))}var a=n.map((function(e){return pN(e)?CN(IN.RAW,e).data:e.data_})),o=0;a.forEach((function(e){o+=e.byteLength}));var s=new Uint8Array(o),u=0;return a.forEach((function(e){for(var t=0;t<e.length;t++)s[u++]=e[t]})),new e(s,!0)}}]),e}();function RN(e){var t;try{t=JSON.parse(e)}catch(n){return null}return function(e){return"object"===typeof e&&!Array.isArray(e)}(t)?t:null}function jN(e){var t=e.lastIndexOf("/",e.length-2);return-1===t?e:e.slice(t+1)}function DN(e,t){return t}var LN=g((function e(t,n,r,i){h(this,e),this.server=t,this.local=n||t,this.writable=!!r,this.xform=i||DN})),MN=null;function UN(){if(MN)return MN;var e=[];e.push(new LN("bucket")),e.push(new LN("generation")),e.push(new LN("metageneration")),e.push(new LN("name","fullPath",!0));var t=new LN("name");t.xform=function(e,t){return function(e){return!pN(e)||e.length<2?e:jN(e)}(t)},e.push(t);var n=new LN("size");return n.xform=function(e,t){return void 0!==t?Number(t):t},e.push(n),e.push(new LN("timeCreated")),e.push(new LN("updated")),e.push(new LN("md5Hash",null,!0)),e.push(new LN("cacheControl",null,!0)),e.push(new LN("contentDisposition",null,!0)),e.push(new LN("contentEncoding",null,!0)),e.push(new LN("contentLanguage",null,!0)),e.push(new LN("contentType",null,!0)),e.push(new LN("metadata","customMetadata",!0)),MN=e}function FN(e,t,n){for(var r={type:"file"},i=n.length,a=0;a<i;a++){var o=n[a];r[o.local]=o.xform(r,t[o.server])}return function(e,t){Object.defineProperty(e,"ref",{get:function(){var n=e.bucket,r=e.fullPath,i=new dN(n,r);return t._makeStorageReference(i)}})}(r,e),r}function zN(e,t,n){var r=RN(t);return null===r?null:FN(e,r,n)}function VN(e,t){for(var n={},r=t.length,i=0;i<r;i++){var a=t[i];a.writable&&(n[a.server]=e[a.local])}return JSON.stringify(n)}var BN="prefixes",qN="items";function HN(e,t,n){var r=RN(n);return null===r?null:function(e,t,n){var r={prefixes:[],items:[],nextPageToken:n.nextPageToken};if(n[BN]){var i,a=T(n[BN]);try{for(a.s();!(i=a.n()).done;){var o=i.value.replace(/\/$/,""),s=e._makeStorageReference(new dN(t,o));r.prefixes.push(s)}}catch(d){a.e(d)}finally{a.f()}}if(n[qN]){var u,c=T(n[qN]);try{for(c.s();!(u=c.n()).done;){var l=u.value,f=e._makeStorageReference(new dN(t,l.name));r.items.push(f)}}catch(d){c.e(d)}finally{c.f()}}return r}(e,t,r)}var WN=g((function e(t,n,r,i){h(this,e),this.url=t,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}));function GN(e){if(!e)throw nN()}function KN(e,t){return function(n,r){var i=zN(e,r,t);return GN(null!==i),i}}function QN(e,t){return function(n,r){var i=zN(e,r,t);return GN(null!==i),function(e,t,n,r){var i=RN(t);if(null===i)return null;if(!pN(i.downloadTokens))return null;var a=i.downloadTokens;if(0===a.length)return null;var o=encodeURIComponent;return a.split(",").map((function(t){var i=e.bucket,a=e.fullPath;return yN("/b/"+o(i)+"/o/"+o(a),n,r)+bN({alt:"media",token:t})}))[0]}(i,r,e.host,e._protocol)}}function YN(e){return function(t,n){var r,i,a;return 401===t.getStatus()?r=t.getErrorText().includes("Firebase App Check token is invalid")?new eN($C.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project."):new eN($C.UNAUTHENTICATED,"User is not authenticated, please authenticate using Firebase Authentication and try again."):402===t.getStatus()?(a=e.bucket,r=new eN($C.QUOTA_EXCEEDED,"Quota for bucket '"+a+"' exceeded, please view quota on https://firebase.google.com/pricing/.")):403===t.getStatus()?(i=e.path,r=new eN($C.UNAUTHORIZED,"User does not have permission to access '"+i+"'.")):r=n,r.status=t.getStatus(),r.serverResponse=n.serverResponse,r}}function XN(e){var t=YN(e);return function(n,r){var i,a=t(n,r);return 404===n.getStatus()&&(i=e.path,a=new eN($C.OBJECT_NOT_FOUND,"Object '"+i+"' does not exist.")),a.serverResponse=r.serverResponse,a}}function $N(e,t,n){var r=yN(t.fullServerUrl(),e.host,e._protocol),i=e.maxOperationRetryTime,a=new WN(r,"GET",KN(e,n),i);return a.errorHandler=XN(t),a}function JN(e,t,n,r,i){var a={};t.isRoot?a.prefix="":a.prefix=t.path+"/",n&&n.length>0&&(a.delimiter=n),r&&(a.pageToken=r),i&&(a.maxResults=i);var o=yN(t.bucketOnlyServerUrl(),e.host,e._protocol),s=e.maxOperationRetryTime,u=new WN(o,"GET",function(e,t){return function(n,r){var i=HN(e,t,r);return GN(null!==i),i}}(e,t.bucket),s);return u.urlParams=a,u.errorHandler=YN(t),u}function ZN(e,t,n){var r=Object.assign({},n);return r.fullPath=e.path,r.size=t.size(),r.contentType||(r.contentType=function(e,t){return e&&e.contentType||t&&t.type()||"application/octet-stream"}(null,t)),r}function eO(e,t,n,r,i){var a=t.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};var s=function(){for(var e="",t=0;t<2;t++)e+=Math.random().toString().slice(2);return e}();o["Content-Type"]="multipart/related; boundary="+s;var u=ZN(t,r,i),c="--"+s+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+VN(u,n)+"\r\n--"+s+"\r\nContent-Type: "+u.contentType+"\r\n\r\n",l="\r\n--"+s+"--",f=AN.getBlob(c,r,l);if(null===f)throw aN();var d={name:u.fullPath},h=yN(a,e.host,e._protocol),p=e.maxUploadRetryTime,v=new WN(h,"POST",KN(e,n),p);return v.urlParams=d,v.headers=o,v.body=f.uploadData(),v.errorHandler=YN(t),v}var tO=g((function e(t,n,r,i){h(this,e),this.current=t,this.total=n,this.finalized=!!r,this.metadata=i||null}));function nO(e,t){var n=null;try{n=e.getResponseHeader("X-Goog-Upload-Status")}catch(r){GN(!1)}return GN(!!n&&-1!==(t||["active"]).indexOf(n)),n}var rO=262144;function iO(e,t,n,r,i,a,o,s){var u=new tO(0,0);if(o?(u.current=o.current,u.total=o.total):(u.current=0,u.total=r.size()),r.size()!==u.total)throw new eN($C.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.");var c=u.total-u.current,l=c;i>0&&(l=Math.min(l,i));var f=u.current,d=f+l,h={"X-Goog-Upload-Command":0===l?"finalize":c===l?"upload, finalize":"upload","X-Goog-Upload-Offset":"".concat(u.current)},p=r.slice(f,d);if(null===p)throw aN();var v=t.maxUploadRetryTime,m=new WN(n,"POST",(function(e,n){var i,o=nO(e,["active","final"]),s=u.current+l,c=r.size();return i="final"===o?KN(t,a)(e,n):null,new tO(s,c,"final"===o,i)}),v);return m.headers=h,m.body=p.uploadData(),m.progressCallback=s||null,m.errorHandler=YN(e),m}var aO={STATE_CHANGED:"state_changed"},oO={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function sO(e){switch(e){case"running":case"pausing":case"canceling":return oO.RUNNING;case"paused":return oO.PAUSED;case"success":return oO.SUCCESS;case"canceled":return oO.CANCELED;default:return oO.ERROR}}var uO=g((function e(t,n,r){h(this,e);var i=function(e){return"function"===typeof e}(t)||null!=n||null!=r;if(i)this.next=t,this.error=null!==n&&void 0!==n?n:void 0,this.complete=null!==r&&void 0!==r?r:void 0;else{var a=t;this.next=a.next,this.error=a.error,this.complete=a.complete}}));function cO(e){return function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];Promise.resolve().then((function(){return e.apply(void 0,n)}))}}var lO=null,fO=function(){function e(){var t=this;h(this,e),this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=fN.NO_ERROR,this.sendPromise_=new Promise((function(e){t.xhr_.addEventListener("abort",(function(){t.errorCode_=fN.ABORT,e()})),t.xhr_.addEventListener("error",(function(){t.errorCode_=fN.NETWORK_ERROR,e()})),t.xhr_.addEventListener("load",(function(){e()}))}))}return g(e,[{key:"send",value:function(e,t,n,r){if(this.sent_)throw lN("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),void 0!==r)for(var i in r)r.hasOwnProperty(i)&&this.xhr_.setRequestHeader(i,r[i].toString());return void 0!==n?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_}},{key:"getErrorCode",value:function(){if(!this.sent_)throw lN("cannot .getErrorCode() before sending");return this.errorCode_}},{key:"getStatus",value:function(){if(!this.sent_)throw lN("cannot .getStatus() before sending");try{return this.xhr_.status}catch(e){return-1}}},{key:"getResponse",value:function(){if(!this.sent_)throw lN("cannot .getResponse() before sending");return this.xhr_.response}},{key:"getErrorText",value:function(){if(!this.sent_)throw lN("cannot .getErrorText() before sending");return this.xhr_.statusText}},{key:"abort",value:function(){this.xhr_.abort()}},{key:"getResponseHeader",value:function(e){return this.xhr_.getResponseHeader(e)}},{key:"addUploadProgressListener",value:function(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)}},{key:"removeUploadProgressListener",value:function(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)}}]),e}(),dO=function(e){b(n,e);var t=_(n);function n(){return h(this,n),t.apply(this,arguments)}return g(n,[{key:"initXhr",value:function(){this.xhr_.responseType="text"}}]),n}(fO);function hO(){return lO?lO():new dO}var pO=function(){function e(t,n){var r=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;h(this,e),this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=t,this._blob=n,this._metadata=i,this._mappings=UN(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=function(e){if(r._request=void 0,r._chunkMultiplier=1,e._codeEquals($C.CANCELED))r._needToFetchStatus=!0,r.completeTransitions_();else{var t=r.isExponentialBackoffExpired();if(kN(e.status,[])){if(!t)return r.sleepTime=Math.max(2*r.sleepTime,1e3),r._needToFetchStatus=!0,void r.completeTransitions_();e=rN()}r._error=e,r._transition("error")}},this._metadataErrorHandler=function(e){r._request=void 0,e._codeEquals($C.CANCELED)?r.completeTransitions_():(r._error=e,r._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((function(e,t){r._resolve=e,r._reject=t,r._start()})),this._promise.then(null,(function(){}))}return g(e,[{key:"isExponentialBackoffExpired",value:function(){return this.sleepTime>this.maxSleepTime}},{key:"_makeProgressCallback",value:function(){var e=this,t=this._transferred;return function(n){return e._updateProgress(t+n)}}},{key:"_shouldDoResumable",value:function(e){return e.size()>262144}},{key:"_start",value:function(){var e=this;"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout((function(){e.pendingTimeout=void 0,e._continueUpload()}),this.sleepTime):this._oneShotUpload())}},{key:"_resolveToken",value:function(e){var t=this;Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then((function(n){var r=l(n,2),i=r[0],a=r[1];switch(t._state){case"running":e(i,a);break;case"canceling":t._transition("canceled");break;case"pausing":t._transition("paused")}}))}},{key:"_createResumable",value:function(){var e=this;this._resolveToken((function(t,n){var r=function(e,t,n,r,i){var a=t.bucketOnlyServerUrl(),o=ZN(t,r,i),s={name:o.fullPath},u=yN(a,e.host,e._protocol),c={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":"".concat(r.size()),"X-Goog-Upload-Header-Content-Type":o.contentType,"Content-Type":"application/json; charset=utf-8"},l=VN(o,n),f=e.maxUploadRetryTime,d=new WN(u,"POST",(function(e){var t;nO(e);try{t=e.getResponseHeader("X-Goog-Upload-URL")}catch(n){GN(!1)}return GN(pN(t)),t}),f);return d.urlParams=s,d.headers=c,d.body=l,d.errorHandler=YN(t),d}(e._ref.storage,e._ref._location,e._mappings,e._blob,e._metadata),i=e._ref.storage._makeRequest(r,hO,t,n);e._request=i,i.getPromise().then((function(t){e._request=void 0,e._uploadUrl=t,e._needToFetchStatus=!1,e.completeTransitions_()}),e._errorHandler)}))}},{key:"_fetchStatus",value:function(){var e=this,t=this._uploadUrl;this._resolveToken((function(n,r){var i=function(e,t,n,r){var i=e.maxUploadRetryTime,a=new WN(n,"POST",(function(e){var t=nO(e,["active","final"]),n=null;try{n=e.getResponseHeader("X-Goog-Upload-Size-Received")}catch(a){GN(!1)}n||GN(!1);var i=Number(n);return GN(!isNaN(i)),new tO(i,r.size(),"final"===t)}),i);return a.headers={"X-Goog-Upload-Command":"query"},a.errorHandler=YN(t),a}(e._ref.storage,e._ref._location,t,e._blob),a=e._ref.storage._makeRequest(i,hO,n,r);e._request=a,a.getPromise().then((function(t){e._request=void 0,e._updateProgress(t.current),e._needToFetchStatus=!1,t.finalized&&(e._needToFetchMetadata=!0),e.completeTransitions_()}),e._errorHandler)}))}},{key:"_continueUpload",value:function(){var e=this,t=rO*this._chunkMultiplier,n=new tO(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken((function(i,a){var o;try{o=iO(e._ref._location,e._ref.storage,r,e._blob,t,e._mappings,n,e._makeProgressCallback())}catch(u){return e._error=u,void e._transition("error")}var s=e._ref.storage._makeRequest(o,hO,i,a,!1);e._request=s,s.getPromise().then((function(t){e._increaseMultiplier(),e._request=void 0,e._updateProgress(t.current),t.finalized?(e._metadata=t.metadata,e._transition("success")):e.completeTransitions_()}),e._errorHandler)}))}},{key:"_increaseMultiplier",value:function(){2*(rO*this._chunkMultiplier)<33554432&&(this._chunkMultiplier*=2)}},{key:"_fetchMetadata",value:function(){var e=this;this._resolveToken((function(t,n){var r=$N(e._ref.storage,e._ref._location,e._mappings),i=e._ref.storage._makeRequest(r,hO,t,n);e._request=i,i.getPromise().then((function(t){e._request=void 0,e._metadata=t,e._transition("success")}),e._metadataErrorHandler)}))}},{key:"_oneShotUpload",value:function(){var e=this;this._resolveToken((function(t,n){var r=eO(e._ref.storage,e._ref._location,e._mappings,e._blob,e._metadata),i=e._ref.storage._makeRequest(r,hO,t,n);e._request=i,i.getPromise().then((function(t){e._request=void 0,e._metadata=t,e._updateProgress(e._blob.size()),e._transition("success")}),e._errorHandler)}))}},{key:"_updateProgress",value:function(e){var t=this._transferred;this._transferred=e,this._transferred!==t&&this._notifyObservers()}},{key:"_transition",value:function(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,void 0!==this._request?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":var t="paused"===this._state;this._state=e,t&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=e,this._notifyObservers();break;case"canceled":this._error=iN(),this._state=e,this._notifyObservers()}}},{key:"completeTransitions_",value:function(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}},{key:"snapshot",get:function(){var e=sO(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}},{key:"on",value:function(e,t,n,r){var i=this,a=new uO(t||void 0,n||void 0,r||void 0);return this._addObserver(a),function(){i._removeObserver(a)}}},{key:"then",value:function(e,t){return this._promise.then(e,t)}},{key:"catch",value:function(e){return this.then(null,e)}},{key:"_addObserver",value:function(e){this._observers.push(e),this._notifyObserver(e)}},{key:"_removeObserver",value:function(e){var t=this._observers.indexOf(e);-1!==t&&this._observers.splice(t,1)}},{key:"_notifyObservers",value:function(){var e=this;this._finishPromise(),this._observers.slice().forEach((function(t){e._notifyObserver(t)}))}},{key:"_finishPromise",value:function(){if(void 0!==this._resolve){var e=!0;switch(sO(this._state)){case oO.SUCCESS:cO(this._resolve.bind(null,this.snapshot))();break;case oO.CANCELED:case oO.ERROR:cO(this._reject.bind(null,this._error))();break;default:e=!1}e&&(this._resolve=void 0,this._reject=void 0)}}},{key:"_notifyObserver",value:function(e){switch(sO(this._state)){case oO.RUNNING:case oO.PAUSED:e.next&&cO(e.next.bind(e,this.snapshot))();break;case oO.SUCCESS:e.complete&&cO(e.complete.bind(e))();break;default:e.error&&cO(e.error.bind(e,this._error))()}}},{key:"resume",value:function(){var e="paused"===this._state||"pausing"===this._state;return e&&this._transition("running"),e}},{key:"pause",value:function(){var e="running"===this._state;return e&&this._transition("pausing"),e}},{key:"cancel",value:function(){var e="running"===this._state||"pausing"===this._state;return e&&this._transition("canceling"),e}}]),e}(),vO=function(){function e(t,n){h(this,e),this._service=t,this._location=n instanceof dN?n:dN.makeFromUrl(n,t.host)}return g(e,[{key:"toString",value:function(){return"gs://"+this._location.bucket+"/"+this._location.path}},{key:"_newRef",value:function(t,n){return new e(t,n)}},{key:"root",get:function(){var e=new dN(this._location.bucket,"");return this._newRef(this._service,e)}},{key:"bucket",get:function(){return this._location.bucket}},{key:"fullPath",get:function(){return this._location.path}},{key:"name",get:function(){return jN(this._location.path)}},{key:"storage",get:function(){return this._service}},{key:"parent",get:function(){var t=function(e){if(0===e.length)return null;var t=e.lastIndexOf("/");return-1===t?"":e.slice(0,t)}(this._location.path);if(null===t)return null;var n=new dN(this._location.bucket,t);return new e(this._service,n)}},{key:"_throwIfRoot",value:function(e){if(""===this._location.path)throw uN(e)}}]),e}();function mO(e,t,n){return gO.apply(this,arguments)}function gO(){return(gO=Ze($e().mark((function e(t,n,r){var i,a,o,s;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o={pageToken:r},e.next=3,yO(t,o);case 3:if(s=e.sent,(i=n.prefixes).push.apply(i,d(s.prefixes)),(a=n.items).push.apply(a,d(s.items)),null==s.nextPageToken){e.next=9;break}return e.next=9,mO(t,n,s.nextPageToken);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function yO(e,t){null!=t&&"number"===typeof t.maxResults&&gN("options.maxResults",1,1e3,t.maxResults);var n=t||{},r=JN(e.storage,e._location,"/",n.pageToken,n.maxResults);return e.storage.makeRequestWithTokens(r,hO)}function bO(e,t){e._throwIfRoot("updateMetadata");var n=function(e,t,n,r){var i=yN(t.fullServerUrl(),e.host,e._protocol),a=VN(n,r),o=e.maxOperationRetryTime,s=new WN(i,"PATCH",KN(e,r),o);return s.headers={"Content-Type":"application/json; charset=utf-8"},s.body=a,s.errorHandler=XN(t),s}(e.storage,e._location,t,UN());return e.storage.makeRequestWithTokens(n,hO)}function kO(e){e._throwIfRoot("getDownloadURL");var t=function(e,t,n){var r=yN(t.fullServerUrl(),e.host,e._protocol),i=e.maxOperationRetryTime,a=new WN(r,"GET",QN(e,n),i);return a.errorHandler=XN(t),a}(e.storage,e._location,UN());return e.storage.makeRequestWithTokens(t,hO).then((function(e){if(null===e)throw new eN($C.NO_DOWNLOAD_URL,"The given file does not have any download URLs.");return e}))}function wO(e){e._throwIfRoot("deleteObject");var t=function(e,t){var n=yN(t.fullServerUrl(),e.host,e._protocol),r=e.maxOperationRetryTime,i=new WN(n,"DELETE",(function(e,t){}),r);return i.successCodes=[200,204],i.errorHandler=XN(t),i}(e.storage,e._location);return e.storage.makeRequestWithTokens(t,hO)}function xO(e,t){var n=function(e,t){var n=t.split("/").filter((function(e){return e.length>0})).join("/");return 0===e.length?n:e+"/"+n}(e._location.path,t),r=new dN(e._location.bucket,n);return new vO(e.storage,r)}function _O(e,t){if(e instanceof IO){var n=e;if(null==n._bucket)throw new eN($C.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+ZC+"' property when initializing the app?");var r=new vO(n,n._bucket);return null!=t?_O(r,t):r}return void 0!==t?xO(e,t):e}function SO(e,t){if(t&&/^[A-Za-z]+:\/\//.test(t)){if(e instanceof IO)return new vO(e,t);throw oN("To use ref(service, url), the first argument must be a Storage instance.")}return _O(e,t)}function EO(e,t){var n=null===t||void 0===t?void 0:t[ZC];return null==n?null:dN.makeFromBucketSpec(n,e)}var IO=function(){function e(t,n,r,i,a){h(this,e),this.app=t,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=a,this._bucket=null,this._host=JC,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=i?dN.makeFromBucketSpec(i,this._host):EO(this._host,this.app.options)}return g(e,[{key:"host",get:function(){return this._host},set:function(e){this._host=e,null!=this._url?this._bucket=dN.makeFromBucketSpec(this._url,e):this._bucket=EO(e,this.app.options)}},{key:"maxUploadRetryTime",get:function(){return this._maxUploadRetryTime},set:function(e){gN("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}},{key:"maxOperationRetryTime",get:function(){return this._maxOperationRetryTime},set:function(e){gN("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}},{key:"_getAuthToken",value:function(){var e=Ze($e().mark((function e(){var t,n;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._overrideAuthToken){e.next=2;break}return e.abrupt("return",this._overrideAuthToken);case 2:if(!(t=this._authProvider.getImmediate({optional:!0}))){e.next=9;break}return e.next=6,t.getToken();case 6:if(null===(n=e.sent)){e.next=9;break}return e.abrupt("return",n.accessToken);case 9:return e.abrupt("return",null);case 10:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_getAppCheckToken",value:function(){var e=Ze($e().mark((function e(){var t,n;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t=this._appCheckProvider.getImmediate({optional:!0}))){e.next=6;break}return e.next=4,t.getToken();case 4:return n=e.sent,e.abrupt("return",n.token);case 6:return e.abrupt("return",null);case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_delete",value:function(){return this._deleted||(this._deleted=!0,this._requests.forEach((function(e){return e.cancel()})),this._requests.clear()),Promise.resolve()}},{key:"_makeStorageReference",value:function(e){return new vO(this,e)}},{key:"_makeRequest",value:function(e,t,n,r){var i=this,a=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];if(this._deleted)return new hN(sN());var o=function(e,t,n,r,i,a){var o=!(arguments.length>6&&void 0!==arguments[6])||arguments[6],s=bN(e.urlParams),u=e.url+s,c=Object.assign({},e.headers);return function(e,t){t&&(e["X-Firebase-GMPID"]=t)}(c,t),function(e,t){null!==t&&t.length>0&&(e.Authorization="Firebase "+t)}(c,n),function(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(null!==t&&void 0!==t?t:"AppManager")}(c,a),function(e,t){null!==t&&(e["X-Firebase-AppCheck"]=t)}(c,r),new wN(u,e.method,c,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,i,o)}(e,this._appId,n,r,t,this._firebaseVersion,a);return this._requests.add(o),o.getPromise().then((function(){return i._requests.delete(o)}),(function(){return i._requests.delete(o)})),o}},{key:"makeRequestWithTokens",value:function(){var e=Ze($e().mark((function e(t,n){var r,i,a,o;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([this._getAuthToken(),this._getAppCheckToken()]);case 2:return r=e.sent,i=l(r,2),a=i[0],o=i[1],e.abrupt("return",this._makeRequest(t,n,a,o).getPromise());case 7:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}(),TO="@firebase/storage",CO="0.11.2",NO="storage";function OO(e,t,n){return function(e,t,n){return e._throwIfRoot("uploadBytesResumable"),new pO(e,new AN(t),n)}(e=tn(e),t,n)}function PO(e){return function(e){e._throwIfRoot("getMetadata");var t=$N(e.storage,e._location,UN());return e.storage.makeRequestWithTokens(t,hO)}(e=tn(e))}function AO(e){return function(e){var t={prefixes:[],items:[]};return mO(e,t).then((function(){return t}))}(e=tn(e))}function RO(e,t){return SO(e=tn(e),t)}function jO(e,t,n){!function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};e.host="".concat(t,":").concat(n),e._protocol="http";var i=r.mockUserToken;i&&(e._overrideAuthToken="string"===typeof i?i:Dt(i,e.app.options.projectId))}(e,t,n,arguments.length>3&&void 0!==arguments[3]?arguments[3]:{})}function DO(e,t){var n=t.instanceIdentifier,r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),a=e.getProvider("app-check-internal");return new IO(r,i,a,n,$n)}Hn(new nn(NO,DO,"PUBLIC").setMultipleInstances(!0)),rr(TO,CO,""),rr(TO,CO,"esm2017");var LO=function(){function e(t,n,r){h(this,e),this._delegate=t,this.task=n,this.ref=r}return g(e,[{key:"bytesTransferred",get:function(){return this._delegate.bytesTransferred}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"state",get:function(){return this._delegate.state}},{key:"totalBytes",get:function(){return this._delegate.totalBytes}}]),e}(),MO=function(){function e(t,n){h(this,e),this._delegate=t,this._ref=n,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}return g(e,[{key:"snapshot",get:function(){return new LO(this._delegate.snapshot,this,this._ref)}},{key:"then",value:function(e,t){var n=this;return this._delegate.then((function(t){if(e)return e(new LO(t,n,n._ref))}),t)}},{key:"on",value:function(e,t,n,r){var i=this,a=void 0;return t&&(a="function"===typeof t?function(e){return t(new LO(e,i,i._ref))}:{next:t.next?function(e){return t.next(new LO(e,i,i._ref))}:void 0,complete:t.complete||void 0,error:t.error||void 0}),this._delegate.on(e,a,n||void 0,r||void 0)}}]),e}(),UO=function(){function e(t,n){h(this,e),this._delegate=t,this._service=n}return g(e,[{key:"prefixes",get:function(){var e=this;return this._delegate.prefixes.map((function(t){return new FO(t,e._service)}))}},{key:"items",get:function(){var e=this;return this._delegate.items.map((function(t){return new FO(t,e._service)}))}},{key:"nextPageToken",get:function(){return this._delegate.nextPageToken||null}}]),e}(),FO=function(){function e(t,n){h(this,e),this._delegate=t,this.storage=n}return g(e,[{key:"name",get:function(){return this._delegate.name}},{key:"bucket",get:function(){return this._delegate.bucket}},{key:"fullPath",get:function(){return this._delegate.fullPath}},{key:"toString",value:function(){return this._delegate.toString()}},{key:"child",value:function(t){var n=function(e,t){return xO(e,t)}(this._delegate,t);return new e(n,this.storage)}},{key:"root",get:function(){return new e(this._delegate.root,this.storage)}},{key:"parent",get:function(){var t=this._delegate.parent;return null==t?null:new e(t,this.storage)}},{key:"put",value:function(e,t){return this._throwIfRoot("put"),new MO(OO(this._delegate,e,t),this)}},{key:"putString",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:IN.RAW,n=arguments.length>2?arguments[2]:void 0;this._throwIfRoot("putString");var r=CN(t,e),i=Object.assign({},n);return null==i.contentType&&null!=r.contentType&&(i.contentType=r.contentType),new MO(new pO(this._delegate,new AN(r.data,!0),i),this)}},{key:"listAll",value:function(){var e=this;return AO(this._delegate).then((function(t){return new UO(t,e.storage)}))}},{key:"list",value:function(e){var t=this;return function(e,t){return yO(e=tn(e),t)}(this._delegate,e||void 0).then((function(e){return new UO(e,t.storage)}))}},{key:"getMetadata",value:function(){return PO(this._delegate)}},{key:"updateMetadata",value:function(e){return function(e,t){return bO(e=tn(e),t)}(this._delegate,e)}},{key:"getDownloadURL",value:function(){return kO(tn(this._delegate))}},{key:"delete",value:function(){return this._throwIfRoot("delete"),wO(tn(this._delegate))}},{key:"_throwIfRoot",value:function(e){if(""===this._delegate._location.path)throw uN(e)}}]),e}(),zO=function(){function e(t,n){h(this,e),this.app=t,this._delegate=n}return g(e,[{key:"maxOperationRetryTime",get:function(){return this._delegate.maxOperationRetryTime}},{key:"maxUploadRetryTime",get:function(){return this._delegate.maxUploadRetryTime}},{key:"ref",value:function(e){if(VO(e))throw oN("ref() expected a child path but got a URL, use refFromURL instead.");return new FO(RO(this._delegate,e),this)}},{key:"refFromURL",value:function(e){if(!VO(e))throw oN("refFromURL() expected a full URL but got a child path, use ref() instead.");try{dN.makeFromUrl(e,this._delegate.host)}catch(t){throw oN("refFromUrl() expected a valid full URL but got an invalid one.")}return new FO(RO(this._delegate,e),this)}},{key:"setMaxUploadRetryTime",value:function(e){this._delegate.maxUploadRetryTime=e}},{key:"setMaxOperationRetryTime",value:function(e){this._delegate.maxOperationRetryTime=e}},{key:"useEmulator",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};jO(this._delegate,e,t,n)}}]),e}();function VO(e){return/^[A-Za-z]+:\/\//.test(e)}function BO(e,t){var n=t.instanceIdentifier,r=e.getProvider("app-compat").getImmediate(),i=e.getProvider("storage").getImmediate({identifier:n});return new zO(r,i)}!function(e){var t={TaskState:oO,TaskEvent:aO,StringFormat:IN,Storage:zO,Reference:FO};e.INTERNAL.registerComponent(new nn("storage-compat",BO,"PUBLIC").setServiceProps(t).setMultipleInstances(!0)),e.registerVersion("@firebase/storage-compat","0.3.2")}(Nr);var qO=n.p+"static/media/profile.bfa6b1bf0bb79cddcb1583911fc58628.svg",HO="Unknown",WO=qO;Nr.apps.length||Nr.initializeApp({apiKey:"AIzaSyBz9Ju2NNQn3cnzYTkDHSgd-DUI1HHy-50",authDomain:"resep-masakan-1005a.firebaseapp.com",databaseURL:"https://resep-masakan-1005a-default-rtdb.asia-southeast1.firebasedatabase.app",projectId:"resep-masakan-1005a",storageBucket:"resep-masakan-1005a.appspot.com",messagingSenderId:"1004424511784",appId:"1:1004424511784:web:bef14f89e2242cf3e7d01d",measurementId:"G-VJCLGVPJF3"});var GO=Nr.auth(),KO=Nr.firestore(),QO=Nr.storage(),YO=new Nr.auth.GoogleAuthProvider,XO=KO.collection("recipes"),$O=KO.collection("users"),JO=KO.collection("messages"),ZO=KO.collection("comments"),eP=function(){var e=Ze($e().mark((function e(t,n,r){var i,a,o,s;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t&&n){e.next=2;break}return e.abrupt("return",null);case 2:return e.prev=2,i=QO.ref(),a=i.child("photo/".concat(t.uid,"/").concat(n.name)),e.next=7,a.put(n);case 7:return o=e.sent,e.next=10,o.ref.getDownloadURL();case 10:return s=e.sent,e.next=13,GO.currentUser.updateProfile({photoURL:s});case 13:return e.abrupt("return",s);case 16:return e.prev=16,e.t0=e.catch(2),console.error("Error uploading photo:",e.t0),e.abrupt("return",null);case 20:return e.prev=20,r(!1),e.finish(20);case 23:case"end":return e.stop()}}),e,null,[[2,16,20,23]])})));return function(t,n,r){return e.apply(this,arguments)}}(),tP=function(){var e=Ze($e().mark((function e(t){var n,r,i,a,o,s,u,c,l,f=arguments;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=f.length>1&&void 0!==f[1]?f[1]:{},t){e.next=3;break}return e.abrupt("return");case 3:return r=t.displayName,i=t.email,a=t.photoURL,o=t.uid,s=KO.collection("users").doc(o),e.next=7,s.get();case 7:if(u=e.sent,c=new Date,e.prev=9,u.exists){e.next=16;break}return l=St({createdAt:c,displayName:r||HO,email:i,photoURL:a||WO,authorId:o,activity:[]},n),e.next=14,s.set(l);case 14:e.next=18;break;case 16:return e.next=18,s.update(St({displayName:r||HO,email:i},n));case 18:e.next=23;break;case 20:e.prev=20,e.t0=e.catch(9),console.error("Error creating/updating user profile:",e.t0);case 23:return e.abrupt("return",s);case 24:case"end":return e.stop()}}),e,null,[[9,20]])})));return function(t){return e.apply(this,arguments)}}(),nP=n(559),rP=function(){var e=l((0,r.useState)(null),2),t=e[0],n=e[1],i=l((0,r.useState)(!1),2),a=i[0],o=i[1],s=l((0,r.useState)(null),2),u=s[0],c=s[1],f=we();(0,r.useEffect)((function(){var e=GO.onAuthStateChanged((function(e){n(e),e&&c(e.photoURL)}));return function(){return e()}}),[]);var d=function(){var e=Ze($e().mark((function e(){return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,GO.signOut();case 3:n(null),f("/"),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log("Error logging out:",e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),h=function(){o(!1)};return(0,nP.jsxs)("header",{className:"bg-gradient-to-br from-secondary-500 via-wavy-purple to-accent-400 py-2 px-2 flex flex-wrap items-center justify-between top-0 z-10 sticky top-0",children:[(0,nP.jsx)(Qe,{to:"/",className:"heading flex p-1 items-center text-xl font-bold underline text-white hover:bg-accent-400 rounded font-bold mb-2 sm:mb-0",children:"Beranda"}),(0,nP.jsx)("nav",{className:"desktop-menu items-center text-center hidden sm:block",children:(0,nP.jsxs)("ul",{className:"menu-items flex items-center justify-center space-x-2",children:[(0,nP.jsx)("li",{children:(0,nP.jsxs)(Qe,{to:"/recipe-list",className:"menu-link flex items-center text-white rounded py-2 px-3 hover:bg-accent-400",onClick:h,children:[(0,nP.jsx)(wt,{className:"menu-icon mr-2"})," Resep"]})}),t?(0,nP.jsxs)(nP.Fragment,{children:[(0,nP.jsx)("li",{children:(0,nP.jsxs)(Qe,{to:"/profile",className:"menu-link flex items-center text-white hover:bg-accent-400 rounded py-2 px-3",onClick:h,children:[u?(0,nP.jsx)("img",{src:u,alt:"Profile",className:"w-7 h-7 rounded-full mr-2"}):(0,nP.jsx)(bt,{className:"menu-icon mr-2"}),"Profile"]})}),(0,nP.jsx)("li",{children:(0,nP.jsxs)(Qe,{to:"/add-recipe",className:"menu-link flex items-center text-white hover:bg-accent-400 rounded py-2 px-3",onClick:h,children:[(0,nP.jsx)(dt,{className:"menu-icon mr-2"})," Add Recipe"]})}),(0,nP.jsx)("li",{children:(0,nP.jsxs)("button",{onClick:d,className:"menu-link flex items-center text-white hover:bg-accent-400 rounded py-2 px-3",children:[(0,nP.jsx)(pt,{className:"menu-icon mr-2"})," Logout"]})})]}):(0,nP.jsxs)(nP.Fragment,{children:[(0,nP.jsx)("li",{children:(0,nP.jsxs)(Qe,{to:"/login",className:"menu-link flex items-center text-white hover:bg-accent-400 rounded py-2 px-3",onClick:h,children:[(0,nP.jsx)(ht,{className:"menu-icon mr-2"})," Login"]})}),(0,nP.jsx)("li",{children:(0,nP.jsxs)(Qe,{to:"/signup",className:"menu-link flex items-center text-white hover:bg-accent-400 rounded py-2 px-3",onClick:h,children:[(0,nP.jsx)(kt,{className:"menu-icon mr-2"})," Signup"]})})]})]})}),(0,nP.jsxs)("div",{className:"mobile-menu sm:hidden relative justify-center text-center ",children:[(0,nP.jsx)("button",{className:"menu-toggle focus:outline-none p-1 rounded-md bg-white hover:bg-accent-400 ".concat(a?"close":""),onClick:function(){o(!a)},children:a?(0,nP.jsx)(yt,{}):"Menu"}),a&&(0,nP.jsxs)("ul",{className:"flex-1 absolute right-0 bg-accent-500 rounded shadow-md mr-2 w-28",children:[(0,nP.jsx)("li",{children:(0,nP.jsxs)(Qe,{to:"/recipe-list",className:"menu-link hover:bg-accent-400 rounded text-center block py-2",onClick:h,children:[(0,nP.jsx)(wt,{className:"menu-icon m-auto text-center text-yellow-400"}),"Resep"]})}),t?(0,nP.jsxs)(nP.Fragment,{children:[(0,nP.jsx)("li",{children:(0,nP.jsxs)(Qe,{to:"/profile",className:"menu-link hover:bg-accent-400 rounded block py-2",onClick:h,children:[u?(0,nP.jsx)("img",{src:u,alt:"Profile",className:"w-6 h-6 rounded-full border m-auto"}):(0,nP.jsx)(bt,{className:"menu-icon m-auto"}),"Profile"]})}),(0,nP.jsx)("li",{children:(0,nP.jsxs)(Qe,{to:"/add-recipe",className:"menu-link hover:bg-accent-400 rounded block py-2",onClick:h,children:[(0,nP.jsx)(dt,{className:"menu-icon m-auto text-center text-yellow-400"}),"Add Recipe"]})}),(0,nP.jsx)("li",{children:(0,nP.jsxs)("button",{onClick:d,className:"menu-link flex items-center text-white mx-auto mt-2 text-sm hover:bg-accent-400 rounded block py-2",children:[(0,nP.jsx)(pt,{className:"menu-icon m-auto text-center"})," ","Logout"]})})]}):(0,nP.jsxs)(nP.Fragment,{children:[(0,nP.jsx)("li",{children:(0,nP.jsxs)(Qe,{to:"/login",className:"menu-link hover:bg-accent-400 rounded block py-2",onClick:h,children:[(0,nP.jsx)(ht,{className:"menu-icon m-auto text-center text-yellow-400 ".concat(a?"text-yellow-400":"")})," ","Login"]})}),(0,nP.jsx)("li",{children:(0,nP.jsxs)(Qe,{to:"/signup",className:"menu-link hover:bg-accent-400 rounded block py-2",onClick:h,children:[(0,nP.jsx)(kt,{className:"menu-icon m-auto text-center text-yellow-400 ".concat(a?"text-yellow-400":"")})," ","Signup"]})})]})]})]})]})},iP=function(){var e=(new Date).getFullYear();return(0,nP.jsx)("footer",{className:"w-full bg-gradient-to-tl from-accent-600 via-wavy-purple to-secondary-600 text-sm text-white text-center",children:(0,nP.jsxs)("div",{className:"py-2",children:["Hak Cipta \xa9 ",e," Resep Masakan Indonesia. Semua Hak Dilindungi."]})})},aP=n(922),oP=n.n(aP),sP=function(){var e=l((0,r.useState)(""),2),t=e[0],n=e[1],i=l((0,r.useState)(""),2),a=i[0],o=i[1],s=l((0,r.useState)(null),2),u=s[0],c=s[1],f=l((0,r.useState)(!1),2),d=f[0],h=f[1],p=l((0,r.useState)(!1),2),v=p[0],m=p[1],g=l((0,r.useState)(!1),2),y=g[0],b=g[1],k=we(),w=function(){var e=Ze($e().mark((function e(n){var r,i;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),e.prev=1,b(!0),e.next=5,GO.signInWithEmailAndPassword(t,a);case 5:return r=GO.currentUser,i=r.photoURL||qO,e.next=9,tP(r,{photoURL:i});case 9:m(!0),setTimeout((function(){m(!1),k("/")}),3e3),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(1),"auth/wrong-password"===e.t0.code?c("Password Salah!! Coba Login dengan Akun Google"):c(e.t0.message);case 16:return e.prev=16,b(!1),e.finish(16);case 19:case"end":return e.stop()}}),e,null,[[1,13,16,19]])})));return function(t){return e.apply(this,arguments)}}(),x=function(){var e=Ze($e().mark((function e(){var t,n,r;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,b(!0),e.next=4,GO.signInWithPopup(YO);case 4:return t=e.sent,n=t.user,r=n.photoURL||qO,e.next=9,tP(n,{photoURL:r});case 9:m(!0),setTimeout((function(){m(!1),k("/")}),3e3),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(0),c(e.t0.message);case 16:return e.prev=16,b(!1),e.finish(16);case 19:case"end":return e.stop()}}),e,null,[[0,13,16,19]])})));return function(){return e.apply(this,arguments)}}(),_=function(){var e=Ze($e().mark((function e(){return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=3;break}return c("Please enter your email"),e.abrupt("return");case 3:return e.prev=3,e.next=6,GO.sendPasswordResetEmail(t);case 6:c(null),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(3),c(e.t0.message);case 12:case"end":return e.stop()}}),e,null,[[3,9]])})));return function(){return e.apply(this,arguments)}}();return(0,nP.jsxs)("div",{className:"flex flex-col items-center text-center h-screen",children:[(0,nP.jsx)("h2",{className:"text-3xl font-bold mb-6 animate__animated animate__fadeIn",children:"Login"}),(0,nP.jsx)("p",{className:"mb-2 font-bold underline",children:" Resep Masakan Indonesia "}),u&&(0,nP.jsx)("p",{className:"text-red-500 mb-4 animate__animated animate__shakeX",children:u}),(0,nP.jsxs)("form",{onSubmit:w,className:"flex flex-col items-center",children:[(0,nP.jsxs)("div",{className:"mb-4",children:[(0,nP.jsx)("label",{htmlFor:"email",className:"flex mr-2 mb-2 font-semibold",children:"Email:"}),(0,nP.jsx)("input",{type:"email",id:"email",value:t,onChange:function(e){n(e.target.value)},className:"py-2 px-3 rounded-md border border-gray-300 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),(0,nP.jsxs)("div",{className:"mb-4",children:[(0,nP.jsx)("label",{htmlFor:"password",className:"flex mr-2 mb-2 font-semibold",children:"Password:"}),(0,nP.jsxs)("div",{className:"relative",children:[(0,nP.jsx)("input",{type:d?"text":"password",id:"password",value:a,onChange:function(e){o(e.target.value)},className:"py-2 px-3 rounded-md border border-gray-300 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500"}),(0,nP.jsx)("button",{type:"button",onClick:function(){h(!d)},className:"absolute top-1/2 right-2 transform -translate-y-1/2 text-gray-500 focus:outline-none",children:d?"Hide":"Show"})]})]}),(0,nP.jsx)("button",{type:"submit",className:"bg-blue-500 hover:bg-blue-600 text-white py-2 px-4 rounded-md animate__animated ".concat(y?"opacity-75 cursor-not-allowed":"animate__fadeIn"),disabled:y,children:y?(0,nP.jsx)(oP(),{color:"white",size:8}):"Login"})]}),(0,nP.jsxs)("p",{className:"mt-4 animate__animated animate__fadeIn",children:["Not registered?"," ",(0,nP.jsx)(Qe,{to:"/signup",className:"text-blue-500",children:"Signup"})]}),(0,nP.jsx)("button",{className:"flex mt-4 bg-red-500 hover:bg-red-600 text-white py-2 px-4 rounded-md animate__animated animate__fadeIn",onClick:x,disabled:y,children:y?"Loading...":"Login with Google"}),(0,nP.jsx)("button",{className:"flex mt-2 text-blue-500 hover:underline animate__animated animate__fadeIn",onClick:_,children:(0,nP.jsx)(Qe,{to:"/forget-password",children:"Forgot Password?"})}),v&&(0,nP.jsx)("div",{className:"fixed inset-0 flex items-center justify-center z-50",children:(0,nP.jsxs)("div",{className:"bg-accent-400 p-4 rounded-lg shadow-lg animate__animated animate__fadeIn",children:[(0,nP.jsx)("p",{className:"text-green-500 text-lg font-semibold mb-2",children:"Login Successful!"}),(0,nP.jsx)("p",{children:"You will be redirected to the home page."})]})})]})},uP=function(){var e=l((0,r.useState)(""),2),t=e[0],n=e[1],i=l((0,r.useState)(""),2),a=i[0],o=i[1],s=l((0,r.useState)(""),2),u=s[0],c=s[1],f=l((0,r.useState)(""),2),d=f[0],h=f[1],p=l((0,r.useState)(null),2),v=p[0],m=p[1],g=l((0,r.useState)(!1),2),y=g[0],b=g[1],k=l((0,r.useState)(!1),2),w=k[0],x=k[1],_=l((0,r.useState)(!1),2),S=_[0],E=_[1],I=we(),T=function(){x((function(e){return!e}))},C=function(){var e=Ze($e().mark((function e(){var n,r,i,a,s;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,E(!0),e.next=4,GO.signInWithPopup(YO);case 4:return n=e.sent,r=n.user.email,o(r),"google-password",e.next=10,GO.createUserWithEmailAndPassword(r,"google-password");case 10:return i=e.sent,a=i.user,s=qO,e.next=15,tP(a,{displayName:t,photoURL:s});case 15:return e.next=17,a.sendEmailVerification();case 17:b(!0),setTimeout((function(){b(!1),I("/")}),3e3),e.next=24;break;case 21:e.prev=21,e.t0=e.catch(0),"auth/email-already-in-use"===e.t0.code?m("Email Sudah Terdaftar, Silahkan Login."):m(e.t0.message);case 24:return e.prev=24,E(!1),e.finish(24);case 27:case"end":return e.stop()}}),e,null,[[0,21,24,27]])})));return function(){return e.apply(this,arguments)}}(),N=function(){var e=Ze($e().mark((function e(n){var r,i,o;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.preventDefault(),u===d){e.next=4;break}return m("Passwords do not match"),e.abrupt("return");case 4:if(t&&a&&u&&d){e.next=7;break}return m("Please fill in all the fields"),e.abrupt("return");case 7:return e.prev=7,E(!0),e.next=11,GO.createUserWithEmailAndPassword(a,u);case 11:return r=e.sent,i=r.user,o=qO,e.next=16,tP(i,{displayName:t,photoURL:o});case 16:return e.next=18,i.sendEmailVerification();case 18:b(!0),setTimeout((function(){b(!1),I("/")}),3e3),e.next=25;break;case 22:e.prev=22,e.t0=e.catch(7),"auth/email-already-in-use"===e.t0.code?m("Email Sudah Terdaftar, Silahkan Login."):m(e.t0.message);case 25:return e.prev=25,E(!1),e.finish(25);case 28:case"end":return e.stop()}}),e,null,[[7,22,25,28]])})));return function(t){return e.apply(this,arguments)}}();return(0,nP.jsxs)("div",{className:"flex flex-col items-center h-screen ",children:[(0,nP.jsx)("h2",{className:"text-3xl font-bold mb-6 animate__animated animate__fadeIn",children:"Signup"}),(0,nP.jsx)("p",{className:"mb-2 font-bold underline",children:" Resep Masakan Indonesia "}),v&&(0,nP.jsx)("p",{className:"text-red-500 mb-4 animate__animated animate__shakeX",children:v}),(0,nP.jsxs)("form",{onSubmit:N,className:"flex flex-col items-center",children:[(0,nP.jsxs)("div",{className:"mb-4",children:[(0,nP.jsx)("label",{htmlFor:"displayName",className:"flex mr-2 mb-2 font-semibold",children:"Name:"}),(0,nP.jsx)("input",{type:"text",id:"displayName",value:t,onChange:function(e){n(e.target.value)},className:"py-2 px-3 rounded-md border border-gray-300 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),(0,nP.jsxs)("div",{className:"mb-4",children:[(0,nP.jsx)("label",{htmlFor:"email",className:"flex mr-2 mb-2 font-semibold",children:"Email:"}),(0,nP.jsx)("input",{type:"email",id:"email",value:a,onChange:function(e){o(e.target.value)},className:"py-2 px-3 rounded-md border border-gray-300 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),(0,nP.jsxs)("div",{className:"mb-4",children:[(0,nP.jsx)("label",{htmlFor:"password",className:"mr-2 mb-2 font-semibold",children:"Password:"}),(0,nP.jsxs)("div",{className:"relative",children:[(0,nP.jsx)("input",{type:w?"text":"password",id:"password",value:u,onChange:function(e){c(e.target.value)},className:"py-2 px-3 rounded-md border border-gray-300 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500"}),(0,nP.jsx)("button",{type:"button",onClick:T,className:"absolute top-1/2 right-2 transform -translate-y-1/2 text-gray-500 focus:outline-none",children:w?"Hide":"Show"})]})]}),(0,nP.jsxs)("div",{className:"mb-4",children:[(0,nP.jsx)("label",{htmlFor:"confirmPassword",className:"mr-2 mb-2 font-semibold",children:"Confirm Password:"}),(0,nP.jsxs)("div",{className:"relative",children:[(0,nP.jsx)("input",{type:w?"text":"password",id:"confirmPassword",value:d,onChange:function(e){h(e.target.value)},className:"py-2 px-3 rounded-md border border-gray-300 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500"}),(0,nP.jsx)("button",{type:"button",onClick:T,className:"absolute top-1/2 right-2 transform -translate-y-1/2 text-gray-500 focus:outline-none",children:w?"Hide":"Show"})]})]}),(0,nP.jsx)("button",{type:"submit",className:"bg-blue-500 hover:bg-blue-600 text-white py-2 px-4 rounded-md animate__animated ".concat(S?"opacity-75 cursor-not-allowed":"animate__fadeIn"),disabled:S,children:S?(0,nP.jsx)(oP(),{color:"white",size:8}):"Signup"})]}),(0,nP.jsx)("button",{type:"button",onClick:C,className:"bg-red-500 hover:bg-red-600 text-white py-2 px-4 rounded-md mt-4 animate__animated animate__fadeIn",disabled:S,children:S?"Loading...":"Signup with Google"}),(0,nP.jsxs)("p",{className:"mt-4 animate__animated animate__fadeIn",children:["Already have an account?"," ",(0,nP.jsx)(Qe,{to:"/login",className:"text-blue-500",children:"Login"})]}),y&&(0,nP.jsx)("div",{className:"fixed inset-0 flex items-center justify-center z-50",children:(0,nP.jsxs)("div",{className:"bg-purple-700 p-4 rounded-lg shadow-lg animate__animated animate__fadeIn",children:[(0,nP.jsx)("p",{className:"text-green-500 text-lg font-semibold mb-2",children:"Registration Successful!"}),(0,nP.jsx)("p",{children:"You will be redirected to the home page."})]})})]})},cP=function(e){var t=e.onSearch,n=l((0,r.useState)(""),2),i=n[0],a=n[1];return(0,nP.jsxs)("div",{className:"text-center items-center mt-2",children:[(0,nP.jsx)("input",{type:"text",placeholder:"Cari resep...",value:i,onChange:function(e){return a(e.target.value)},className:"px-4 py-2 border border-black-500 rounded-l-full focus:outline-none"}),(0,nP.jsx)("button",{onClick:function(){t(i)},className:"bg-amber-500  border-white ml-2 text-white px-4 py-2 rounded-r-full hover:bg-blue-600 focus:outline-none",children:"Cari"})]})},lP=function(){var e=l((0,r.useState)([]),2),t=e[0],n=e[1],i=(new Date).getFullYear(),a=l((0,r.useState)([]),2),o=a[0],s=a[1],u=l((0,r.useState)(""),2),c=u[0],f=u[1],h=l((0,r.useState)(""),2),p=h[0],v=h[1],m=l((0,r.useState)(""),2),g=m[0],y=m[1],b=l((0,r.useState)(0),2),k=b[0],w=b[1],x=l((0,r.useState)([]),2),_=x[0],S=x[1],E=l((0,r.useState)(!0),2),I=(E[0],E[1]),T=l((0,r.useState)(1),2),C=T[0],N=(T[1],l((0,r.useState)(""),2)),O=(N[0],N[1]),P=l((0,r.useState)(""),2),A=P[0],R=(P[1],l((0,r.useState)(!1),2)),j=R[0],D=R[1],L=l((0,r.useState)(!0),2),M=L[0],U=L[1],F=l((0,r.useState)(null),2),z=F[0],V=F[1];(0,r.useEffect)((function(){var e=function(){var e=Ze($e().mark((function e(){var t,r,i,a,o,u;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,U(!0),V(null),t=KO.collection("recipes"),""!==c&&(t=t.where("category","==",c)),""!==p&&(t=t.where("author","==",p)),""!==g&&(t=t.where("title","==",g)),e.next=9,t.limit(20).get();case 9:if(0!==(r=e.sent).docs.length){e.next=13;break}return U(!1),e.abrupt("return");case 13:return i=r.docs.map((function(e){return St(St({id:e.id},e.data()),{},{createdAt:e.data().createdAt.toDate()})})),e.next=16,KO.collection("users").get();case 16:a=e.sent,o=a.docs.map((function(e){return St({id:e.id},e.data())})),u=i.map((function(e){var t=o.find((function(t){return t.id===e.authorId}));return St(St({},e),{},{creatorPhoto:(null===t||void 0===t?void 0:t.photoURL)||qO})})),n(u),s(u),e.next=27;break;case 23:e.prev=23,e.t0=e.catch(0),console.error("Error fetching recipes:",e.t0),V("An error occurred while fetching recipes.");case 27:return e.prev=27,U(!1),e.finish(27);case 30:case"end":return e.stop()}}),e,null,[[0,23,27,30]])})));return function(){return e.apply(this,arguments)}}(),t=function(){var e=Ze($e().mark((function e(){var t,n,r,i;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,I(!0),t=KO.collection("recipes"),A&&(t=t.orderBy(A)),(n=_[_.length-1])&&(t=t.orderBy("createdAt").startAfter(n.createdAt)),e.next=8,t.limit(20).get();case 8:if(0!==(r=e.sent).docs.length){e.next=12;break}return I(!1),e.abrupt("return");case 12:i=r.docs.map((function(e){return St(St({id:e.id},e.data()),{},{createdAt:e.data().createdAt.toDate()})})),S(_.concat(i)),e.next=19;break;case 16:e.prev=16,e.t0=e.catch(0),console.error("Error fetching recommendation recipes:",e.t0);case 19:return e.prev=19,I(!1),e.finish(19);case 22:case"end":return e.stop()}}),e,null,[[0,16,19,22]])})));return function(){return e.apply(this,arguments)}}();e(),t()}),[C,A,c,p,g,_]);var B=20*k,q=B+20,H=o.slice(B,q),W=d(new Set(t.map((function(e){return e.author})))),G=p?"":"All Creators";return(0,nP.jsx)("div",{className:"bg-gradient-to-tr from-primary-500 via-wavy-purple to-accent-400",children:M?(0,nP.jsxs)("div",{className:"flex items-center justify-center min-h-screen",children:[(0,nP.jsx)(oP(),{})," LOADING..."]}):z?(0,nP.jsxs)("div",{children:["Error: ",z]}):(0,nP.jsxs)("div",{className:"container mx-auto px-4 md:px-4 lg:px-12 xl:px-16",children:[(0,nP.jsx)("h2",{className:"text-2xl font-bold text-purple text-center mb-4",children:"Resep Masakan"}),(0,nP.jsx)("p",{className:"text-center text-orange-300 mb-2",children:"Anda Bisa Request Untuk Penambahan Features"}),(0,nP.jsx)(cP,{onSearch:function(e){O(e);var n=t.filter((function(t){return t.title.toLowerCase().includes(e.toLowerCase())}));s(n)},className:"flex-1 text-center py-2 px-4"}),(0,nP.jsxs)("div",{className:"flex flex-wrap justify-center p-4 mb-4",children:[(0,nP.jsx)("label",{htmlFor:"sortBy",className:"text-orange font-semibold mr-2",children:"Sort By:"}),(0,nP.jsxs)("select",{id:"category",value:c,onChange:function(e){return function(e){f(e);var n=e?t.filter((function(t){return t.category.toLowerCase()===e.toLowerCase()})):t;s(n)}(e.target.value)},className:"ml-2 px-2 py-1 border border-gray-300 rounded focus:outline-none focus:border-blue-500 mb-2 md:mb-0",children:[(0,nP.jsx)("option",{value:"",children:"All Categories"}),["Sarapan","Makan Siang","Makan Malam","Camilan","Seafood","Hidangan Pembuka","Hidangan Utama","Hidangan Penutup","Kue/Roti","Minuman","Hidangan Tradisional","Hidangan Sehat","Hidangan Vegetarian"].map((function(e){return(0,nP.jsx)("option",{value:e,children:e},e)}))]}),(0,nP.jsxs)("select",{id:"creator",value:p,onChange:function(e){return function(e){var n="All Creators";v(e===n?"":e);var r=e===n?t:t.filter((function(t){return e===t.author}));s(r)}(e.target.value)},className:"ml-2 px-2 py-1 border border-gray-300 rounded focus:outline-none focus:border-blue-500 mb-2 md:mb-0",children:[(0,nP.jsx)("option",{value:"",children:G}),W.map((function(e){return(0,nP.jsx)("option",{value:e,children:e},e)}))]}),(0,nP.jsxs)("select",{id:"title",value:g,onChange:function(e){return function(e){y(e);var n=e?t.filter((function(t){return t.title===e})):t;s(n)}(e.target.value)},className:"ml-2 px-2 py-1 border border-gray-300 rounded focus:outline-none focus:border-blue-500 mb-2 md:mb-0",children:[(0,nP.jsx)("option",{value:"",children:"All Titles"}),t.map((function(e){return(0,nP.jsx)("option",{value:e.title,children:e.title},e.id)}))]})]}),(0,nP.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 p-4 text-center item-center",children:H.map((function(e){return(0,nP.jsxs)("div",{className:"rounded-lg shadow-md bg-accent-500 hover:bg-accent-300 border border-secondary-200 p-2",children:[(0,nP.jsx)("div",{className:"mb-2",children:(0,nP.jsx)(Qe,{className:"block text-xl font-bold text-white hover:text-secondary-700 transition-colors p-2",to:"/recipes/".concat(e.id),children:e.title})}),e.recipeImage&&(0,nP.jsxs)("div",{className:"mb-4 relative",children:[(0,nP.jsx)(Qe,{to:"/recipes/".concat(e.id),children:(0,nP.jsx)("img",{src:e.recipeImage,alt:"Recipe",className:"h-32 md:h-40 w-full object-cover rounded-t"})}),(0,nP.jsxs)("p",{className:"text-sm absolute bottom-0 right-0 mb-2 mr-2 italic",children:["\xa9 ",i," Resep Masakan"]})]}),(0,nP.jsx)(Qe,{to:"/author/".concat(e.authorId),children:(0,nP.jsxs)("div",{className:"flex flex-row items-center mb-2 ",children:[(0,nP.jsx)("img",{src:e.creatorPhoto,alt:"Creator",className:"rounded-full border-2 h-8 w-8 object-cover hover:bg-secondary-700 mr-2"}),(0,nP.jsx)("p",{className:"text-white font-bold rounded hover:bg-secondary-700",children:e.author})]})}),(0,nP.jsx)("div",{className:"flex items-center justify-center mb-2",children:(0,nP.jsx)("div",{className:"flex",children:d(Array(5)).map((function(t,n){return(0,nP.jsx)(mt,{className:n<Math.floor(e.rating)?"text-yellow-500 mr-1":(Math.floor(e.rating),"text-primary-500 mr-1 opacity-50")},n)}))})}),(0,nP.jsx)("div",{className:"mb-4 mt-4",children:(0,nP.jsx)("span",{className:"text-sm p-2 text-gray-600 bg-white rounded-full",children:e.rating})}),(0,nP.jsx)("p",{className:"mb-2 cursor-pointer text-sm",onClick:function(){D((function(e){return!e}))},children:j?e.description:"".concat(e.description.slice(0,50),"...")}),(0,nP.jsxs)("p",{className:"mt-2 text-sm text-white",children:["Kategori: ",e.category]}),(0,nP.jsxs)("p",{className:"text-yellow-600 text-sm",children:["Created: ",e.createdAt.toLocaleDateString()]})]},e.id)}))}),(0,nP.jsxs)("div",{className:"flex justify-center font-bold mt-4 p-2",children:[(0,nP.jsx)("button",{className:"text-white rounded-full bg-black hover:text-blue-700 focus:outline-none mr-2",onClick:function(){var e=Math.ceil(o.length/20);w((function(t){return(t-1+e)%e}))},children:(0,nP.jsx)(lt,{})}),(0,nP.jsx)("button",{className:"text-white rounded-full bg-black hover:text-blue-700 focus:outline-none",onClick:function(){var e=Math.ceil(o.length/20);w((function(t){return(t+1)%e}))},children:(0,nP.jsx)(ft,{})})]}),(0,nP.jsx)("div",{children:(0,nP.jsx)("h1",{className:"text-center font-bold text-xl",children:"Calon Iklan Disini"})})]})})},fP=n(596),dP={cm:!0,mm:!0,in:!0,px:!0,pt:!0,pc:!0,em:!0,ex:!0,ch:!0,rem:!0,vw:!0,vh:!0,vmin:!0,vmax:!0,"%":!0};function hP(e){var t=function(e){if("number"===typeof e)return{value:e,unit:"px"};var t,n=(e.match(/^[0-9.]*/)||"").toString();t=n.includes(".")?parseFloat(n):parseInt(n,10);var r=(e.match(/[^0-9]*$/)||"").toString();return dP[r]?{value:t,unit:r}:(console.warn("React Spinners: ".concat(e," is not a valid css value. Defaulting to ").concat(t,"px.")),{value:t,unit:"px"})}(e);return"".concat(t.value).concat(t.unit)}var pP=function(){return pP=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},pP.apply(this,arguments)},vP=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},mP=function(e,t,n){var r="react-spinners-".concat(e,"-").concat(n);if("undefined"==typeof window||!window.document)return r;var i=document.createElement("style");document.head.appendChild(i);var a=i.sheet,o="\n    @keyframes ".concat(r," {\n      ").concat(t,"\n    }\n  ");return a&&a.insertRule(o,0),r}("BeatLoader","50% {transform: scale(0.75);opacity: 0.2} 100% {transform: scale(1);opacity: 1}","beat");var gP=function(e){var t=e.loading,n=void 0===t||t,i=e.color,a=void 0===i?"#000000":i,o=e.speedMultiplier,s=void 0===o?1:o,u=e.cssOverride,c=void 0===u?{}:u,l=e.size,f=void 0===l?15:l,d=e.margin,h=void 0===d?2:d,p=vP(e,["loading","color","speedMultiplier","cssOverride","size","margin"]),v=pP({display:"inherit"},c),m=function(e){return{display:"inline-block",backgroundColor:a,width:hP(f),height:hP(f),margin:hP(h),borderRadius:"100%",animation:"".concat(mP," ").concat(.7/s,"s ").concat(e%2?"0s":"".concat(.35/s,"s")," infinite linear"),animationFillMode:"both"}};return n?r.createElement("span",pP({style:v},p),r.createElement("span",{style:m(1)}),r.createElement("span",{style:m(2)}),r.createElement("span",{style:m(3)})):null},yP=function(e){var t=e.setUserRecipes,n=l((0,r.useState)([]),2),i=n[0],a=n[1],o=(new Date).getFullYear(),s=l((0,r.useState)(!0),2),u=s[0],c=s[1],f=xe().authorId;(0,r.useEffect)((function(){var e=function(){var e=Ze($e().mark((function e(){var n,r,i,a,o,s,u;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!f){e.next=16;break}return n=KO.collection("recipes").where("authorId","==",f),e.next=5,n.get();case 5:return r=e.sent,i=r.docs.map((function(e){var t=e.data(),n=t.createdAt?t.createdAt.toDate():null;return St(St({id:e.id},t),{},{dateCreated:n})})),a=d(new Set(i.map((function(e){return e.authorId})))),e.next=10,KO.collection("users").where("authorId","in",a).get();case 10:o=e.sent,s=o.docs.map((function(e){return St({id:e.id},e.data())})),u=i.map((function(e){var t=s.find((function(t){return t.authorId===e.authorId}));return St(St({},e),{},{creatorPhoto:(null===t||void 0===t?void 0:t.photoURL)||(null===t||void 0===t?void 0:t.imageURL)||""})})),t(u),e.next=17;break;case 16:t([]);case 17:e.next=22;break;case 19:e.prev=19,e.t0=e.catch(0),console.error("Error fetching user recipes:",e.t0);case 22:case"end":return e.stop()}}),e,null,[[0,19]])})));return function(){return e.apply(this,arguments)}}();e()}),[f,t]),(0,r.useEffect)((function(){var e=function(){var e=Ze($e().mark((function e(){var t,n,r,i,o,s;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,c(!0),e.next=4,XO.limit(6).get();case 4:return t=e.sent,n=t.docs.map((function(e){var t;return St(St({id:e.id},e.data()),{},{createdAt:(null===(t=e.data().createdAt)||void 0===t?void 0:t.toDate())||new Date})})),r=d(new Set(n.map((function(e){return e.authorId})))),e.next=9,KO.collection("users").where("authorId","in",r).get();case 9:i=e.sent,o=i.docs.map((function(e){return St({id:e.id},e.data())})),s=n.map((function(e){var t=o.find((function(t){return t.authorId===e.authorId}));return St(St({},e),{},{creatorPhoto:(null===t||void 0===t?void 0:t.photoURL)||(null===t||void 0===t?void 0:t.imageURL)||""})})),a(s),c(!1),e.next=20;break;case 16:e.prev=16,e.t0=e.catch(0),console.error("Error fetching recommendation recipes:",e.t0),c(!1);case 20:case"end":return e.stop()}}),e,null,[[0,16]])})));return function(){return e.apply(this,arguments)}}();e()}),[]);var h={dots:!0,infinite:!0,speed:1e3,slidesToShow:Math.min(4,i.length),slidesToScroll:1,autoplay:!0,autoplaySpeed:5e3,responsive:[{breakpoint:1440,settings:{slidesToShow:4,centerMode:!0}},{breakpoint:1280,settings:{slidesToShow:3,centerMode:!0}},{breakpoint:1024,settings:{slidesToShow:3,centerMode:!0}},{breakpoint:768,settings:{slidesToShow:1,centerMode:!0}},{breakpoint:480,settings:{slidesToShow:1,centerMode:!1}}],spacing:20};return(0,nP.jsxs)("div",{className:"",children:[(0,nP.jsx)("h2",{className:"recommendation-title text-3xl font-semibold mb-4 text-primary text-center",children:"Saran Resep untuk Anda"}),u?(0,nP.jsxs)("div",{className:"flex flex-col justify-center  min-h-screen items-center px-4 py-4",children:[(0,nP.jsx)(gP,{})," LOADING..."]}):(0,nP.jsx)(fP.Z,St(St({},h),{},{children:i.map((function(e){return(0,nP.jsx)("div",{className:"m-2 item-center items-center justify-center",children:(0,nP.jsxs)("div",{className:"relative w-64 mx-auto bg-accent-600 rounded item-center text-center",children:[(0,nP.jsx)(Qe,{className:"block font-bold text-secondary-400 hover:text-primary-500 transition-colors p-2",to:"/recipes/".concat(e.id),children:e.title}),(0,nP.jsxs)("div",{className:"rounded shadow-lg overflow-hidden hover:shadow-xl transition-shadow duration-300",children:[e.recipeImage&&(0,nP.jsxs)("div",{className:"relative",children:[(0,nP.jsx)("img",{src:e.recipeImage,alt:"Recipe",className:"h-32 w-full p-2 object-cover rounded"}),(0,nP.jsxs)("p",{className:"text-sm italic text-white bg-opacity-50",children:["\xa9 ",o," Resep Masakan"]}),(0,nP.jsx)(Qe,{className:"absolute bottom-0 left-0 w-full h-full p-4 bg-black bg-opacity-50 text-white transition-opacity opacity-0 hover:opacity-100",to:"/recipes/".concat(e.id),children:(0,nP.jsx)("p",{className:"text-sm",children:e.description})})]}),(0,nP.jsxs)("div",{className:"p-4",children:[(0,nP.jsx)(Qe,{to:"/author/".concat(e.authorId),children:(0,nP.jsxs)("div",{className:"flex items-center rounded mb-4 ",children:[(0,nP.jsx)("img",{src:e.creatorPhoto||"",alt:"Creator",className:"rounded-full h-8 w-8 object-cover border mr-2"}),(0,nP.jsxs)("p",{className:"text-white font-semibold underline hover:text-secondary-700",children:[" ",e.author]})]})}),(0,nP.jsx)("span",{className:"text-sm p-2 text-secondary-500 bg-white rounded-full font-bold",children:e.rating}),(0,nP.jsxs)("p",{className:"mt-2 text-sm text-white",children:["Kategori: ",e.category]}),(t=e.createdAt,(new Date-t)/864e5<=7&&(0,nP.jsx)("div",{className:"absolute top-4 left-0 font-bold px-2 py-1 rounded-t-lg transform -rotate-45 text-yellow-500",children:"New!!"}))]})]})]})},e.id);var t}))})),(0,nP.jsx)("div",{className:"text-center mt-6 font-semibold",children:(0,nP.jsx)("h2",{children:"Bingung Mau Masak Apa?? Ayo Cari Rekomendasi Resep yang Cocok untuk di Masak Hari ini.."})})]})},bP=n(962),kP=n.n(bP);function wP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function xP(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?wP(Object(n),!0).forEach((function(t){EP(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):wP(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function _P(e){return _P="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_P(e)}function SP(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function EP(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function IP(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,a=[],o=!0,s=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);o=!0);}catch(u){s=!0,i=u}finally{try{o||null==n.return||n.return()}finally{if(s)throw i}}return a}(e,t)||CP(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function TP(e){return function(e){if(Array.isArray(e))return NP(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||CP(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function CP(e,t){if(e){if("string"===typeof e)return NP(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?NP(e,t):void 0}}function NP(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var OP=function(){},PP={},AP={},RP=null,jP={mark:OP,measure:OP};try{"undefined"!==typeof window&&(PP=window),"undefined"!==typeof document&&(AP=document),"undefined"!==typeof MutationObserver&&(RP=MutationObserver),"undefined"!==typeof performance&&(jP=performance)}catch(rF){}var DP,LP,MP,UP,FP,zP=(PP.navigator||{}).userAgent,VP=void 0===zP?"":zP,BP=PP,qP=AP,HP=RP,WP=jP,GP=(BP.document,!!qP.documentElement&&!!qP.head&&"function"===typeof qP.addEventListener&&"function"===typeof qP.createElement),KP=~VP.indexOf("MSIE")||~VP.indexOf("Trident/"),QP="___FONT_AWESOME___",YP=16,XP="fa",$P="svg-inline--fa",JP="data-fa-i2svg",ZP="data-fa-pseudo-element",eA="data-fa-pseudo-element-pending",tA="data-prefix",nA="data-icon",rA="fontawesome-i2svg",iA="async",aA=["HTML","HEAD","STYLE","SCRIPT"],oA=function(){try{return!0}catch(rF){return!1}}(),sA="classic",uA="sharp",cA=[sA,uA];function lA(e){return new Proxy(e,{get:function(e,t){return t in e?e[t]:e[sA]}})}var fA=lA((EP(DP={},sA,{fa:"solid",fas:"solid","fa-solid":"solid",far:"regular","fa-regular":"regular",fal:"light","fa-light":"light",fat:"thin","fa-thin":"thin",fad:"duotone","fa-duotone":"duotone",fab:"brands","fa-brands":"brands",fak:"kit","fa-kit":"kit"}),EP(DP,uA,{fa:"solid",fass:"solid","fa-solid":"solid",fasr:"regular","fa-regular":"regular",fasl:"light","fa-light":"light"}),DP)),dA=lA((EP(LP={},sA,{solid:"fas",regular:"far",light:"fal",thin:"fat",duotone:"fad",brands:"fab",kit:"fak"}),EP(LP,uA,{solid:"fass",regular:"fasr",light:"fasl"}),LP)),hA=lA((EP(MP={},sA,{fab:"fa-brands",fad:"fa-duotone",fak:"fa-kit",fal:"fa-light",far:"fa-regular",fas:"fa-solid",fat:"fa-thin"}),EP(MP,uA,{fass:"fa-solid",fasr:"fa-regular",fasl:"fa-light"}),MP)),pA=lA((EP(UP={},sA,{"fa-brands":"fab","fa-duotone":"fad","fa-kit":"fak","fa-light":"fal","fa-regular":"far","fa-solid":"fas","fa-thin":"fat"}),EP(UP,uA,{"fa-solid":"fass","fa-regular":"fasr","fa-light":"fasl"}),UP)),vA=/fa(s|r|l|t|d|b|k|ss|sr|sl)?[\-\ ]/,mA="fa-layers-text",gA=/Font ?Awesome ?([56 ]*)(Solid|Regular|Light|Thin|Duotone|Brands|Free|Pro|Sharp|Kit)?.*/i,yA=lA((EP(FP={},sA,{900:"fas",400:"far",normal:"far",300:"fal",100:"fat"}),EP(FP,uA,{900:"fass",400:"fasr",300:"fasl"}),FP)),bA=[1,2,3,4,5,6,7,8,9,10],kA=bA.concat([11,12,13,14,15,16,17,18,19,20]),wA=["class","data-prefix","data-icon","data-fa-transform","data-fa-mask"],xA={GROUP:"duotone-group",SWAP_OPACITY:"swap-opacity",PRIMARY:"primary",SECONDARY:"secondary"},_A=new Set;Object.keys(dA[sA]).map(_A.add.bind(_A)),Object.keys(dA[uA]).map(_A.add.bind(_A));var SA=[].concat(cA,TP(_A),["2xs","xs","sm","lg","xl","2xl","beat","border","fade","beat-fade","bounce","flip-both","flip-horizontal","flip-vertical","flip","fw","inverse","layers-counter","layers-text","layers","li","pull-left","pull-right","pulse","rotate-180","rotate-270","rotate-90","rotate-by","shake","spin-pulse","spin-reverse","spin","stack-1x","stack-2x","stack","ul",xA.GROUP,xA.SWAP_OPACITY,xA.PRIMARY,xA.SECONDARY]).concat(bA.map((function(e){return"".concat(e,"x")}))).concat(kA.map((function(e){return"w-".concat(e)}))),EA=BP.FontAwesomeConfig||{};if(qP&&"function"===typeof qP.querySelector){[["data-family-prefix","familyPrefix"],["data-css-prefix","cssPrefix"],["data-family-default","familyDefault"],["data-style-default","styleDefault"],["data-replacement-class","replacementClass"],["data-auto-replace-svg","autoReplaceSvg"],["data-auto-add-css","autoAddCss"],["data-auto-a11y","autoA11y"],["data-search-pseudo-elements","searchPseudoElements"],["data-observe-mutations","observeMutations"],["data-mutate-approach","mutateApproach"],["data-keep-original-source","keepOriginalSource"],["data-measure-performance","measurePerformance"],["data-show-missing-icons","showMissingIcons"]].forEach((function(e){var t=IP(e,2),n=t[0],r=t[1],i=function(e){return""===e||"false"!==e&&("true"===e||e)}(function(e){var t=qP.querySelector("script["+e+"]");if(t)return t.getAttribute(e)}(n));void 0!==i&&null!==i&&(EA[r]=i)}))}var IA={styleDefault:"solid",familyDefault:"classic",cssPrefix:XP,replacementClass:$P,autoReplaceSvg:!0,autoAddCss:!0,autoA11y:!0,searchPseudoElements:!1,observeMutations:!0,mutateApproach:"async",keepOriginalSource:!0,measurePerformance:!1,showMissingIcons:!0};EA.familyPrefix&&(EA.cssPrefix=EA.familyPrefix);var TA=xP(xP({},IA),EA);TA.autoReplaceSvg||(TA.observeMutations=!1);var CA={};Object.keys(IA).forEach((function(e){Object.defineProperty(CA,e,{enumerable:!0,set:function(t){TA[e]=t,NA.forEach((function(e){return e(CA)}))},get:function(){return TA[e]}})})),Object.defineProperty(CA,"familyPrefix",{enumerable:!0,set:function(e){TA.cssPrefix=e,NA.forEach((function(e){return e(CA)}))},get:function(){return TA.cssPrefix}}),BP.FontAwesomeConfig=CA;var NA=[];var OA=YP,PA={size:16,x:0,y:0,rotate:0,flipX:!1,flipY:!1};var AA="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";function RA(){for(var e=12,t="";e-- >0;)t+=AA[62*Math.random()|0];return t}function jA(e){for(var t=[],n=(e||[]).length>>>0;n--;)t[n]=e[n];return t}function DA(e){return e.classList?jA(e.classList):(e.getAttribute("class")||"").split(" ").filter((function(e){return e}))}function LA(e){return"".concat(e).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function MA(e){return Object.keys(e||{}).reduce((function(t,n){return t+"".concat(n,": ").concat(e[n].trim(),";")}),"")}function UA(e){return e.size!==PA.size||e.x!==PA.x||e.y!==PA.y||e.rotate!==PA.rotate||e.flipX||e.flipY}var FA=':root, :host {\n  --fa-font-solid: normal 900 1em/1 "Font Awesome 6 Solid";\n  --fa-font-regular: normal 400 1em/1 "Font Awesome 6 Regular";\n  --fa-font-light: normal 300 1em/1 "Font Awesome 6 Light";\n  --fa-font-thin: normal 100 1em/1 "Font Awesome 6 Thin";\n  --fa-font-duotone: normal 900 1em/1 "Font Awesome 6 Duotone";\n  --fa-font-sharp-solid: normal 900 1em/1 "Font Awesome 6 Sharp";\n  --fa-font-sharp-regular: normal 400 1em/1 "Font Awesome 6 Sharp";\n  --fa-font-sharp-light: normal 300 1em/1 "Font Awesome 6 Sharp";\n  --fa-font-brands: normal 400 1em/1 "Font Awesome 6 Brands";\n}\n\nsvg:not(:root).svg-inline--fa, svg:not(:host).svg-inline--fa {\n  overflow: visible;\n  box-sizing: content-box;\n}\n\n.svg-inline--fa {\n  display: var(--fa-display, inline-block);\n  height: 1em;\n  overflow: visible;\n  vertical-align: -0.125em;\n}\n.svg-inline--fa.fa-2xs {\n  vertical-align: 0.1em;\n}\n.svg-inline--fa.fa-xs {\n  vertical-align: 0em;\n}\n.svg-inline--fa.fa-sm {\n  vertical-align: -0.0714285705em;\n}\n.svg-inline--fa.fa-lg {\n  vertical-align: -0.2em;\n}\n.svg-inline--fa.fa-xl {\n  vertical-align: -0.25em;\n}\n.svg-inline--fa.fa-2xl {\n  vertical-align: -0.3125em;\n}\n.svg-inline--fa.fa-pull-left {\n  margin-right: var(--fa-pull-margin, 0.3em);\n  width: auto;\n}\n.svg-inline--fa.fa-pull-right {\n  margin-left: var(--fa-pull-margin, 0.3em);\n  width: auto;\n}\n.svg-inline--fa.fa-li {\n  width: var(--fa-li-width, 2em);\n  top: 0.25em;\n}\n.svg-inline--fa.fa-fw {\n  width: var(--fa-fw-width, 1.25em);\n}\n\n.fa-layers svg.svg-inline--fa {\n  bottom: 0;\n  left: 0;\n  margin: auto;\n  position: absolute;\n  right: 0;\n  top: 0;\n}\n\n.fa-layers-counter, .fa-layers-text {\n  display: inline-block;\n  position: absolute;\n  text-align: center;\n}\n\n.fa-layers {\n  display: inline-block;\n  height: 1em;\n  position: relative;\n  text-align: center;\n  vertical-align: -0.125em;\n  width: 1em;\n}\n.fa-layers svg.svg-inline--fa {\n  -webkit-transform-origin: center center;\n          transform-origin: center center;\n}\n\n.fa-layers-text {\n  left: 50%;\n  top: 50%;\n  -webkit-transform: translate(-50%, -50%);\n          transform: translate(-50%, -50%);\n  -webkit-transform-origin: center center;\n          transform-origin: center center;\n}\n\n.fa-layers-counter {\n  background-color: var(--fa-counter-background-color, #ff253a);\n  border-radius: var(--fa-counter-border-radius, 1em);\n  box-sizing: border-box;\n  color: var(--fa-inverse, #fff);\n  line-height: var(--fa-counter-line-height, 1);\n  max-width: var(--fa-counter-max-width, 5em);\n  min-width: var(--fa-counter-min-width, 1.5em);\n  overflow: hidden;\n  padding: var(--fa-counter-padding, 0.25em 0.5em);\n  right: var(--fa-right, 0);\n  text-overflow: ellipsis;\n  top: var(--fa-top, 0);\n  -webkit-transform: scale(var(--fa-counter-scale, 0.25));\n          transform: scale(var(--fa-counter-scale, 0.25));\n  -webkit-transform-origin: top right;\n          transform-origin: top right;\n}\n\n.fa-layers-bottom-right {\n  bottom: var(--fa-bottom, 0);\n  right: var(--fa-right, 0);\n  top: auto;\n  -webkit-transform: scale(var(--fa-layers-scale, 0.25));\n          transform: scale(var(--fa-layers-scale, 0.25));\n  -webkit-transform-origin: bottom right;\n          transform-origin: bottom right;\n}\n\n.fa-layers-bottom-left {\n  bottom: var(--fa-bottom, 0);\n  left: var(--fa-left, 0);\n  right: auto;\n  top: auto;\n  -webkit-transform: scale(var(--fa-layers-scale, 0.25));\n          transform: scale(var(--fa-layers-scale, 0.25));\n  -webkit-transform-origin: bottom left;\n          transform-origin: bottom left;\n}\n\n.fa-layers-top-right {\n  top: var(--fa-top, 0);\n  right: var(--fa-right, 0);\n  -webkit-transform: scale(var(--fa-layers-scale, 0.25));\n          transform: scale(var(--fa-layers-scale, 0.25));\n  -webkit-transform-origin: top right;\n          transform-origin: top right;\n}\n\n.fa-layers-top-left {\n  left: var(--fa-left, 0);\n  right: auto;\n  top: var(--fa-top, 0);\n  -webkit-transform: scale(var(--fa-layers-scale, 0.25));\n          transform: scale(var(--fa-layers-scale, 0.25));\n  -webkit-transform-origin: top left;\n          transform-origin: top left;\n}\n\n.fa-1x {\n  font-size: 1em;\n}\n\n.fa-2x {\n  font-size: 2em;\n}\n\n.fa-3x {\n  font-size: 3em;\n}\n\n.fa-4x {\n  font-size: 4em;\n}\n\n.fa-5x {\n  font-size: 5em;\n}\n\n.fa-6x {\n  font-size: 6em;\n}\n\n.fa-7x {\n  font-size: 7em;\n}\n\n.fa-8x {\n  font-size: 8em;\n}\n\n.fa-9x {\n  font-size: 9em;\n}\n\n.fa-10x {\n  font-size: 10em;\n}\n\n.fa-2xs {\n  font-size: 0.625em;\n  line-height: 0.1em;\n  vertical-align: 0.225em;\n}\n\n.fa-xs {\n  font-size: 0.75em;\n  line-height: 0.0833333337em;\n  vertical-align: 0.125em;\n}\n\n.fa-sm {\n  font-size: 0.875em;\n  line-height: 0.0714285718em;\n  vertical-align: 0.0535714295em;\n}\n\n.fa-lg {\n  font-size: 1.25em;\n  line-height: 0.05em;\n  vertical-align: -0.075em;\n}\n\n.fa-xl {\n  font-size: 1.5em;\n  line-height: 0.0416666682em;\n  vertical-align: -0.125em;\n}\n\n.fa-2xl {\n  font-size: 2em;\n  line-height: 0.03125em;\n  vertical-align: -0.1875em;\n}\n\n.fa-fw {\n  text-align: center;\n  width: 1.25em;\n}\n\n.fa-ul {\n  list-style-type: none;\n  margin-left: var(--fa-li-margin, 2.5em);\n  padding-left: 0;\n}\n.fa-ul > li {\n  position: relative;\n}\n\n.fa-li {\n  left: calc(var(--fa-li-width, 2em) * -1);\n  position: absolute;\n  text-align: center;\n  width: var(--fa-li-width, 2em);\n  line-height: inherit;\n}\n\n.fa-border {\n  border-color: var(--fa-border-color, #eee);\n  border-radius: var(--fa-border-radius, 0.1em);\n  border-style: var(--fa-border-style, solid);\n  border-width: var(--fa-border-width, 0.08em);\n  padding: var(--fa-border-padding, 0.2em 0.25em 0.15em);\n}\n\n.fa-pull-left {\n  float: left;\n  margin-right: var(--fa-pull-margin, 0.3em);\n}\n\n.fa-pull-right {\n  float: right;\n  margin-left: var(--fa-pull-margin, 0.3em);\n}\n\n.fa-beat {\n  -webkit-animation-name: fa-beat;\n          animation-name: fa-beat;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, ease-in-out);\n          animation-timing-function: var(--fa-animation-timing, ease-in-out);\n}\n\n.fa-bounce {\n  -webkit-animation-name: fa-bounce;\n          animation-name: fa-bounce;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.28, 0.84, 0.42, 1));\n          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.28, 0.84, 0.42, 1));\n}\n\n.fa-fade {\n  -webkit-animation-name: fa-fade;\n          animation-name: fa-fade;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n}\n\n.fa-beat-fade {\n  -webkit-animation-name: fa-beat-fade;\n          animation-name: fa-beat-fade;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n}\n\n.fa-flip {\n  -webkit-animation-name: fa-flip;\n          animation-name: fa-flip;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, ease-in-out);\n          animation-timing-function: var(--fa-animation-timing, ease-in-out);\n}\n\n.fa-shake {\n  -webkit-animation-name: fa-shake;\n          animation-name: fa-shake;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, linear);\n          animation-timing-function: var(--fa-animation-timing, linear);\n}\n\n.fa-spin {\n  -webkit-animation-name: fa-spin;\n          animation-name: fa-spin;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 2s);\n          animation-duration: var(--fa-animation-duration, 2s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, linear);\n          animation-timing-function: var(--fa-animation-timing, linear);\n}\n\n.fa-spin-reverse {\n  --fa-animation-direction: reverse;\n}\n\n.fa-pulse,\n.fa-spin-pulse {\n  -webkit-animation-name: fa-spin;\n          animation-name: fa-spin;\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, steps(8));\n          animation-timing-function: var(--fa-animation-timing, steps(8));\n}\n\n@media (prefers-reduced-motion: reduce) {\n  .fa-beat,\n.fa-bounce,\n.fa-fade,\n.fa-beat-fade,\n.fa-flip,\n.fa-pulse,\n.fa-shake,\n.fa-spin,\n.fa-spin-pulse {\n    -webkit-animation-delay: -1ms;\n            animation-delay: -1ms;\n    -webkit-animation-duration: 1ms;\n            animation-duration: 1ms;\n    -webkit-animation-iteration-count: 1;\n            animation-iteration-count: 1;\n    -webkit-transition-delay: 0s;\n            transition-delay: 0s;\n    -webkit-transition-duration: 0s;\n            transition-duration: 0s;\n  }\n}\n@-webkit-keyframes fa-beat {\n  0%, 90% {\n    -webkit-transform: scale(1);\n            transform: scale(1);\n  }\n  45% {\n    -webkit-transform: scale(var(--fa-beat-scale, 1.25));\n            transform: scale(var(--fa-beat-scale, 1.25));\n  }\n}\n@keyframes fa-beat {\n  0%, 90% {\n    -webkit-transform: scale(1);\n            transform: scale(1);\n  }\n  45% {\n    -webkit-transform: scale(var(--fa-beat-scale, 1.25));\n            transform: scale(var(--fa-beat-scale, 1.25));\n  }\n}\n@-webkit-keyframes fa-bounce {\n  0% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n  10% {\n    -webkit-transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);\n            transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);\n  }\n  30% {\n    -webkit-transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));\n            transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));\n  }\n  50% {\n    -webkit-transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);\n            transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);\n  }\n  57% {\n    -webkit-transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));\n            transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));\n  }\n  64% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n  100% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n}\n@keyframes fa-bounce {\n  0% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n  10% {\n    -webkit-transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);\n            transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);\n  }\n  30% {\n    -webkit-transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));\n            transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));\n  }\n  50% {\n    -webkit-transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);\n            transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);\n  }\n  57% {\n    -webkit-transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));\n            transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));\n  }\n  64% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n  100% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n}\n@-webkit-keyframes fa-fade {\n  50% {\n    opacity: var(--fa-fade-opacity, 0.4);\n  }\n}\n@keyframes fa-fade {\n  50% {\n    opacity: var(--fa-fade-opacity, 0.4);\n  }\n}\n@-webkit-keyframes fa-beat-fade {\n  0%, 100% {\n    opacity: var(--fa-beat-fade-opacity, 0.4);\n    -webkit-transform: scale(1);\n            transform: scale(1);\n  }\n  50% {\n    opacity: 1;\n    -webkit-transform: scale(var(--fa-beat-fade-scale, 1.125));\n            transform: scale(var(--fa-beat-fade-scale, 1.125));\n  }\n}\n@keyframes fa-beat-fade {\n  0%, 100% {\n    opacity: var(--fa-beat-fade-opacity, 0.4);\n    -webkit-transform: scale(1);\n            transform: scale(1);\n  }\n  50% {\n    opacity: 1;\n    -webkit-transform: scale(var(--fa-beat-fade-scale, 1.125));\n            transform: scale(var(--fa-beat-fade-scale, 1.125));\n  }\n}\n@-webkit-keyframes fa-flip {\n  50% {\n    -webkit-transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));\n            transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));\n  }\n}\n@keyframes fa-flip {\n  50% {\n    -webkit-transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));\n            transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));\n  }\n}\n@-webkit-keyframes fa-shake {\n  0% {\n    -webkit-transform: rotate(-15deg);\n            transform: rotate(-15deg);\n  }\n  4% {\n    -webkit-transform: rotate(15deg);\n            transform: rotate(15deg);\n  }\n  8%, 24% {\n    -webkit-transform: rotate(-18deg);\n            transform: rotate(-18deg);\n  }\n  12%, 28% {\n    -webkit-transform: rotate(18deg);\n            transform: rotate(18deg);\n  }\n  16% {\n    -webkit-transform: rotate(-22deg);\n            transform: rotate(-22deg);\n  }\n  20% {\n    -webkit-transform: rotate(22deg);\n            transform: rotate(22deg);\n  }\n  32% {\n    -webkit-transform: rotate(-12deg);\n            transform: rotate(-12deg);\n  }\n  36% {\n    -webkit-transform: rotate(12deg);\n            transform: rotate(12deg);\n  }\n  40%, 100% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n}\n@keyframes fa-shake {\n  0% {\n    -webkit-transform: rotate(-15deg);\n            transform: rotate(-15deg);\n  }\n  4% {\n    -webkit-transform: rotate(15deg);\n            transform: rotate(15deg);\n  }\n  8%, 24% {\n    -webkit-transform: rotate(-18deg);\n            transform: rotate(-18deg);\n  }\n  12%, 28% {\n    -webkit-transform: rotate(18deg);\n            transform: rotate(18deg);\n  }\n  16% {\n    -webkit-transform: rotate(-22deg);\n            transform: rotate(-22deg);\n  }\n  20% {\n    -webkit-transform: rotate(22deg);\n            transform: rotate(22deg);\n  }\n  32% {\n    -webkit-transform: rotate(-12deg);\n            transform: rotate(-12deg);\n  }\n  36% {\n    -webkit-transform: rotate(12deg);\n            transform: rotate(12deg);\n  }\n  40%, 100% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n}\n@-webkit-keyframes fa-spin {\n  0% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n  100% {\n    -webkit-transform: rotate(360deg);\n            transform: rotate(360deg);\n  }\n}\n@keyframes fa-spin {\n  0% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n  100% {\n    -webkit-transform: rotate(360deg);\n            transform: rotate(360deg);\n  }\n}\n.fa-rotate-90 {\n  -webkit-transform: rotate(90deg);\n          transform: rotate(90deg);\n}\n\n.fa-rotate-180 {\n  -webkit-transform: rotate(180deg);\n          transform: rotate(180deg);\n}\n\n.fa-rotate-270 {\n  -webkit-transform: rotate(270deg);\n          transform: rotate(270deg);\n}\n\n.fa-flip-horizontal {\n  -webkit-transform: scale(-1, 1);\n          transform: scale(-1, 1);\n}\n\n.fa-flip-vertical {\n  -webkit-transform: scale(1, -1);\n          transform: scale(1, -1);\n}\n\n.fa-flip-both,\n.fa-flip-horizontal.fa-flip-vertical {\n  -webkit-transform: scale(-1, -1);\n          transform: scale(-1, -1);\n}\n\n.fa-rotate-by {\n  -webkit-transform: rotate(var(--fa-rotate-angle, none));\n          transform: rotate(var(--fa-rotate-angle, none));\n}\n\n.fa-stack {\n  display: inline-block;\n  vertical-align: middle;\n  height: 2em;\n  position: relative;\n  width: 2.5em;\n}\n\n.fa-stack-1x,\n.fa-stack-2x {\n  bottom: 0;\n  left: 0;\n  margin: auto;\n  position: absolute;\n  right: 0;\n  top: 0;\n  z-index: var(--fa-stack-z-index, auto);\n}\n\n.svg-inline--fa.fa-stack-1x {\n  height: 1em;\n  width: 1.25em;\n}\n.svg-inline--fa.fa-stack-2x {\n  height: 2em;\n  width: 2.5em;\n}\n\n.fa-inverse {\n  color: var(--fa-inverse, #fff);\n}\n\n.sr-only,\n.fa-sr-only {\n  position: absolute;\n  width: 1px;\n  height: 1px;\n  padding: 0;\n  margin: -1px;\n  overflow: hidden;\n  clip: rect(0, 0, 0, 0);\n  white-space: nowrap;\n  border-width: 0;\n}\n\n.sr-only-focusable:not(:focus),\n.fa-sr-only-focusable:not(:focus) {\n  position: absolute;\n  width: 1px;\n  height: 1px;\n  padding: 0;\n  margin: -1px;\n  overflow: hidden;\n  clip: rect(0, 0, 0, 0);\n  white-space: nowrap;\n  border-width: 0;\n}\n\n.svg-inline--fa .fa-primary {\n  fill: var(--fa-primary-color, currentColor);\n  opacity: var(--fa-primary-opacity, 1);\n}\n\n.svg-inline--fa .fa-secondary {\n  fill: var(--fa-secondary-color, currentColor);\n  opacity: var(--fa-secondary-opacity, 0.4);\n}\n\n.svg-inline--fa.fa-swap-opacity .fa-primary {\n  opacity: var(--fa-secondary-opacity, 0.4);\n}\n\n.svg-inline--fa.fa-swap-opacity .fa-secondary {\n  opacity: var(--fa-primary-opacity, 1);\n}\n\n.svg-inline--fa mask .fa-primary,\n.svg-inline--fa mask .fa-secondary {\n  fill: black;\n}\n\n.fad.fa-inverse,\n.fa-duotone.fa-inverse {\n  color: var(--fa-inverse, #fff);\n}';function zA(){var e=XP,t=$P,n=CA.cssPrefix,r=CA.replacementClass,i=FA;if(n!==e||r!==t){var a=new RegExp("\\.".concat(e,"\\-"),"g"),o=new RegExp("\\--".concat(e,"\\-"),"g"),s=new RegExp("\\.".concat(t),"g");i=i.replace(a,".".concat(n,"-")).replace(o,"--".concat(n,"-")).replace(s,".".concat(r))}return i}var VA=!1;function BA(){CA.autoAddCss&&!VA&&(!function(e){if(e&&GP){var t=qP.createElement("style");t.setAttribute("type","text/css"),t.innerHTML=e;for(var n=qP.head.childNodes,r=null,i=n.length-1;i>-1;i--){var a=n[i],o=(a.tagName||"").toUpperCase();["STYLE","LINK"].indexOf(o)>-1&&(r=a)}qP.head.insertBefore(t,r)}}(zA()),VA=!0)}var qA={mixout:function(){return{dom:{css:zA,insertCss:BA}}},hooks:function(){return{beforeDOMElementCreation:function(){BA()},beforeI2svg:function(){BA()}}}},HA=BP||{};HA[QP]||(HA[QP]={}),HA[QP].styles||(HA[QP].styles={}),HA[QP].hooks||(HA[QP].hooks={}),HA[QP].shims||(HA[QP].shims=[]);var WA=HA[QP],GA=[],KA=!1;function QA(e){var t=e.tag,n=e.attributes,r=void 0===n?{}:n,i=e.children,a=void 0===i?[]:i;return"string"===typeof e?LA(e):"<".concat(t," ").concat(function(e){return Object.keys(e||{}).reduce((function(t,n){return t+"".concat(n,'="').concat(LA(e[n]),'" ')}),"").trim()}(r),">").concat(a.map(QA).join(""),"</").concat(t,">")}function YA(e,t,n){if(e&&e[t]&&e[t][n])return{prefix:t,iconName:n,icon:e[t][n]}}GP&&((KA=(qP.documentElement.doScroll?/^loaded|^c/:/^loaded|^i|^c/).test(qP.readyState))||qP.addEventListener("DOMContentLoaded",(function e(){qP.removeEventListener("DOMContentLoaded",e),KA=1,GA.map((function(e){return e()}))})));var XA=function(e,t,n,r){var i,a,o,s=Object.keys(e),u=s.length,c=void 0!==r?function(e,t){return function(n,r,i,a){return e.call(t,n,r,i,a)}}(t,r):t;for(void 0===n?(i=1,o=e[s[0]]):(i=0,o=n);i<u;i++)o=c(o,e[a=s[i]],a,e);return o};function $A(e){var t=function(e){for(var t=[],n=0,r=e.length;n<r;){var i=e.charCodeAt(n++);if(i>=55296&&i<=56319&&n<r){var a=e.charCodeAt(n++);56320==(64512&a)?t.push(((1023&i)<<10)+(1023&a)+65536):(t.push(i),n--)}else t.push(i)}return t}(e);return 1===t.length?t[0].toString(16):null}function JA(e){return Object.keys(e).reduce((function(t,n){var r=e[n];return!!r.icon?t[r.iconName]=r.icon:t[n]=r,t}),{})}function ZA(e,t){var n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).skipHooks,r=void 0!==n&&n,i=JA(t);"function"!==typeof WA.hooks.addPack||r?WA.styles[e]=xP(xP({},WA.styles[e]||{}),i):WA.hooks.addPack(e,JA(t)),"fas"===e&&ZA("fa",t)}var eR,tR,nR,rR=WA.styles,iR=WA.shims,aR=(EP(eR={},sA,Object.values(hA[sA])),EP(eR,uA,Object.values(hA[uA])),eR),oR=null,sR={},uR={},cR={},lR={},fR={},dR=(EP(tR={},sA,Object.keys(fA[sA])),EP(tR,uA,Object.keys(fA[uA])),tR);function hR(e,t){var n,r=t.split("-"),i=r[0],a=r.slice(1).join("-");return i!==e||""===a||(n=a,~SA.indexOf(n))?null:a}var pR=function(){var e=function(e){return XA(rR,(function(t,n,r){return t[r]=XA(n,e,{}),t}),{})};sR=e((function(e,t,n){(t[3]&&(e[t[3]]=n),t[2])&&t[2].filter((function(e){return"number"===typeof e})).forEach((function(t){e[t.toString(16)]=n}));return e})),uR=e((function(e,t,n){(e[n]=n,t[2])&&t[2].filter((function(e){return"string"===typeof e})).forEach((function(t){e[t]=n}));return e})),fR=e((function(e,t,n){var r=t[2];return e[n]=n,r.forEach((function(t){e[t]=n})),e}));var t="far"in rR||CA.autoFetchSvg,n=XA(iR,(function(e,n){var r=n[0],i=n[1],a=n[2];return"far"!==i||t||(i="fas"),"string"===typeof r&&(e.names[r]={prefix:i,iconName:a}),"number"===typeof r&&(e.unicodes[r.toString(16)]={prefix:i,iconName:a}),e}),{names:{},unicodes:{}});cR=n.names,lR=n.unicodes,oR=kR(CA.styleDefault,{family:CA.familyDefault})};function vR(e,t){return(sR[e]||{})[t]}function mR(e,t){return(fR[e]||{})[t]}function gR(e){return cR[e]||{prefix:null,iconName:null}}function yR(){return oR}!function(e){NA.push(e)}((function(e){oR=kR(e.styleDefault,{family:CA.familyDefault})})),pR();var bR=function(){return{prefix:null,iconName:null,rest:[]}};function kR(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).family,n=void 0===t?sA:t,r=fA[n][e],i=dA[n][e]||dA[n][r],a=e in WA.styles?e:null;return i||a||null}var wR=(EP(nR={},sA,Object.keys(hA[sA])),EP(nR,uA,Object.keys(hA[uA])),nR);function xR(e){var t,n=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).skipLookups,r=void 0!==n&&n,i=(EP(t={},sA,"".concat(CA.cssPrefix,"-").concat(sA)),EP(t,uA,"".concat(CA.cssPrefix,"-").concat(uA)),t),a=null,o=sA;(e.includes(i[sA])||e.some((function(e){return wR[sA].includes(e)})))&&(o=sA),(e.includes(i[uA])||e.some((function(e){return wR[uA].includes(e)})))&&(o=uA);var s=e.reduce((function(e,t){var n=hR(CA.cssPrefix,t);if(rR[t]?(t=aR[o].includes(t)?pA[o][t]:t,a=t,e.prefix=t):dR[o].indexOf(t)>-1?(a=t,e.prefix=kR(t,{family:o})):n?e.iconName=n:t!==CA.replacementClass&&t!==i[sA]&&t!==i[uA]&&e.rest.push(t),!r&&e.prefix&&e.iconName){var s="fa"===a?gR(e.iconName):{},u=mR(e.prefix,e.iconName);s.prefix&&(a=null),e.iconName=s.iconName||u||e.iconName,e.prefix=s.prefix||e.prefix,"far"!==e.prefix||rR.far||!rR.fas||CA.autoFetchSvg||(e.prefix="fas")}return e}),bR());return(e.includes("fa-brands")||e.includes("fab"))&&(s.prefix="fab"),(e.includes("fa-duotone")||e.includes("fad"))&&(s.prefix="fad"),s.prefix||o!==uA||!rR.fass&&!CA.autoFetchSvg||(s.prefix="fass",s.iconName=mR(s.prefix,s.iconName)||s.iconName),"fa"!==s.prefix&&"fa"!==a||(s.prefix=yR()||"fas"),s}var _R=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.definitions={}}var t,n,r;return t=e,n=[{key:"add",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=n.reduce(this._pullDefinitions,{});Object.keys(i).forEach((function(t){e.definitions[t]=xP(xP({},e.definitions[t]||{}),i[t]),ZA(t,i[t]);var n=hA[sA][t];n&&ZA(n,i[t]),pR()}))}},{key:"reset",value:function(){this.definitions={}}},{key:"_pullDefinitions",value:function(e,t){var n=t.prefix&&t.iconName&&t.icon?{0:t}:t;return Object.keys(n).map((function(t){var r=n[t],i=r.prefix,a=r.iconName,o=r.icon,s=o[2];e[i]||(e[i]={}),s.length>0&&s.forEach((function(t){"string"===typeof t&&(e[i][t]=o)})),e[i][a]=o})),e}}],n&&SP(t.prototype,n),r&&SP(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}(),SR=[],ER={},IR={},TR=Object.keys(IR);function CR(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];return(ER[e]||[]).forEach((function(e){t=e.apply(null,[t].concat(r))})),t}function NR(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];(ER[e]||[]).forEach((function(e){e.apply(null,n)}))}function OR(){var e=arguments[0],t=Array.prototype.slice.call(arguments,1);return IR[e]?IR[e].apply(null,t):void 0}function PR(e){"fa"===e.prefix&&(e.prefix="fas");var t=e.iconName,n=e.prefix||yR();if(t)return t=mR(n,t)||t,YA(AR.definitions,n,t)||YA(WA.styles,n,t)}var AR=new _R,RR={i2svg:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return GP?(NR("beforeI2svg",e),OR("pseudoElements2svg",e),OR("i2svg",e)):Promise.reject("Operation requires a DOM of some kind.")},watch:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.autoReplaceSvgRoot;!1===CA.autoReplaceSvg&&(CA.autoReplaceSvg=!0),CA.observeMutations=!0,e=function(){LR({autoReplaceSvgRoot:n}),NR("watch",t)},GP&&(KA?setTimeout(e,0):GA.push(e))}},jR={icon:function(e){if(null===e)return null;if("object"===_P(e)&&e.prefix&&e.iconName)return{prefix:e.prefix,iconName:mR(e.prefix,e.iconName)||e.iconName};if(Array.isArray(e)&&2===e.length){var t=0===e[1].indexOf("fa-")?e[1].slice(3):e[1],n=kR(e[0]);return{prefix:n,iconName:mR(n,t)||t}}if("string"===typeof e&&(e.indexOf("".concat(CA.cssPrefix,"-"))>-1||e.match(vA))){var r=xR(e.split(" "),{skipLookups:!0});return{prefix:r.prefix||yR(),iconName:mR(r.prefix,r.iconName)||r.iconName}}if("string"===typeof e){var i=yR();return{prefix:i,iconName:mR(i,e)||e}}}},DR={noAuto:function(){CA.autoReplaceSvg=!1,CA.observeMutations=!1,NR("noAuto")},config:CA,dom:RR,parse:jR,library:AR,findIconDefinition:PR,toHtml:QA},LR=function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).autoReplaceSvgRoot,t=void 0===e?qP:e;(Object.keys(WA.styles).length>0||CA.autoFetchSvg)&&GP&&CA.autoReplaceSvg&&DR.dom.i2svg({node:t})};function MR(e,t){return Object.defineProperty(e,"abstract",{get:t}),Object.defineProperty(e,"html",{get:function(){return e.abstract.map((function(e){return QA(e)}))}}),Object.defineProperty(e,"node",{get:function(){if(GP){var t=qP.createElement("div");return t.innerHTML=e.html,t.children}}}),e}function UR(e){var t=e.icons,n=t.main,r=t.mask,i=e.prefix,a=e.iconName,o=e.transform,s=e.symbol,u=e.title,c=e.maskId,l=e.titleId,f=e.extra,d=e.watchable,h=void 0!==d&&d,p=r.found?r:n,v=p.width,m=p.height,g="fak"===i,y=[CA.replacementClass,a?"".concat(CA.cssPrefix,"-").concat(a):""].filter((function(e){return-1===f.classes.indexOf(e)})).filter((function(e){return""!==e||!!e})).concat(f.classes).join(" "),b={children:[],attributes:xP(xP({},f.attributes),{},{"data-prefix":i,"data-icon":a,class:y,role:f.attributes.role||"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 ".concat(v," ").concat(m)})},k=g&&!~f.classes.indexOf("fa-fw")?{width:"".concat(v/m*16*.0625,"em")}:{};h&&(b.attributes[JP]=""),u&&(b.children.push({tag:"title",attributes:{id:b.attributes["aria-labelledby"]||"title-".concat(l||RA())},children:[u]}),delete b.attributes.title);var w=xP(xP({},b),{},{prefix:i,iconName:a,main:n,mask:r,maskId:c,transform:o,symbol:s,styles:xP(xP({},k),f.styles)}),x=r.found&&n.found?OR("generateAbstractMask",w)||{children:[],attributes:{}}:OR("generateAbstractIcon",w)||{children:[],attributes:{}},_=x.children,S=x.attributes;return w.children=_,w.attributes=S,s?function(e){var t=e.prefix,n=e.iconName,r=e.children,i=e.attributes,a=e.symbol,o=!0===a?"".concat(t,"-").concat(CA.cssPrefix,"-").concat(n):a;return[{tag:"svg",attributes:{style:"display: none;"},children:[{tag:"symbol",attributes:xP(xP({},i),{},{id:o}),children:r}]}]}(w):function(e){var t=e.children,n=e.main,r=e.mask,i=e.attributes,a=e.styles,o=e.transform;if(UA(o)&&n.found&&!r.found){var s={x:n.width/n.height/2,y:.5};i.style=MA(xP(xP({},a),{},{"transform-origin":"".concat(s.x+o.x/16,"em ").concat(s.y+o.y/16,"em")}))}return[{tag:"svg",attributes:i,children:t}]}(w)}function FR(e){var t=e.content,n=e.width,r=e.height,i=e.transform,a=e.title,o=e.extra,s=e.watchable,u=void 0!==s&&s,c=xP(xP(xP({},o.attributes),a?{title:a}:{}),{},{class:o.classes.join(" ")});u&&(c[JP]="");var l=xP({},o.styles);UA(i)&&(l.transform=function(e){var t=e.transform,n=e.width,r=void 0===n?YP:n,i=e.height,a=void 0===i?YP:i,o=e.startCentered,s=void 0!==o&&o,u="";return u+=s&&KP?"translate(".concat(t.x/OA-r/2,"em, ").concat(t.y/OA-a/2,"em) "):s?"translate(calc(-50% + ".concat(t.x/OA,"em), calc(-50% + ").concat(t.y/OA,"em)) "):"translate(".concat(t.x/OA,"em, ").concat(t.y/OA,"em) "),u+="scale(".concat(t.size/OA*(t.flipX?-1:1),", ").concat(t.size/OA*(t.flipY?-1:1),") "),u+"rotate(".concat(t.rotate,"deg) ")}({transform:i,startCentered:!0,width:n,height:r}),l["-webkit-transform"]=l.transform);var f=MA(l);f.length>0&&(c.style=f);var d=[];return d.push({tag:"span",attributes:c,children:[t]}),a&&d.push({tag:"span",attributes:{class:"sr-only"},children:[a]}),d}var zR=WA.styles;function VR(e){var t=e[0],n=e[1],r=IP(e.slice(4),1)[0];return{found:!0,width:t,height:n,icon:Array.isArray(r)?{tag:"g",attributes:{class:"".concat(CA.cssPrefix,"-").concat(xA.GROUP)},children:[{tag:"path",attributes:{class:"".concat(CA.cssPrefix,"-").concat(xA.SECONDARY),fill:"currentColor",d:r[0]}},{tag:"path",attributes:{class:"".concat(CA.cssPrefix,"-").concat(xA.PRIMARY),fill:"currentColor",d:r[1]}}]}:{tag:"path",attributes:{fill:"currentColor",d:r}}}}var BR={found:!1,width:512,height:512};function qR(e,t){var n=t;return"fa"===t&&null!==CA.styleDefault&&(t=yR()),new Promise((function(r,i){OR("missingIconAbstract");if("fa"===n){var a=gR(e)||{};e=a.iconName||e,t=a.prefix||t}if(e&&t&&zR[t]&&zR[t][e])return r(VR(zR[t][e]));!function(e,t){oA||CA.showMissingIcons||!e||console.error('Icon with name "'.concat(e,'" and prefix "').concat(t,'" is missing.'))}(e,t),r(xP(xP({},BR),{},{icon:CA.showMissingIcons&&e&&OR("missingIconAbstract")||{}}))}))}var HR=function(){},WR=CA.measurePerformance&&WP&&WP.mark&&WP.measure?WP:{mark:HR,measure:HR},GR='FA "6.4.2"',KR=function(e){WR.mark("".concat(GR," ").concat(e," ends")),WR.measure("".concat(GR," ").concat(e),"".concat(GR," ").concat(e," begins"),"".concat(GR," ").concat(e," ends"))},QR={begin:function(e){return WR.mark("".concat(GR," ").concat(e," begins")),function(){return KR(e)}},end:KR},YR=function(){};function XR(e){return"string"===typeof(e.getAttribute?e.getAttribute(JP):null)}function $R(e){return qP.createElementNS("http://www.w3.org/2000/svg",e)}function JR(e){return qP.createElement(e)}function ZR(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).ceFn,n=void 0===t?"svg"===e.tag?$R:JR:t;if("string"===typeof e)return qP.createTextNode(e);var r=n(e.tag);return Object.keys(e.attributes||[]).forEach((function(t){r.setAttribute(t,e.attributes[t])})),(e.children||[]).forEach((function(e){r.appendChild(ZR(e,{ceFn:n}))})),r}var ej={replace:function(e){var t=e[0];if(t.parentNode)if(e[1].forEach((function(e){t.parentNode.insertBefore(ZR(e),t)})),null===t.getAttribute(JP)&&CA.keepOriginalSource){var n=qP.createComment(function(e){var t=" ".concat(e.outerHTML," ");return"".concat(t,"Font Awesome fontawesome.com ")}(t));t.parentNode.replaceChild(n,t)}else t.remove()},nest:function(e){var t=e[0],n=e[1];if(~DA(t).indexOf(CA.replacementClass))return ej.replace(e);var r=new RegExp("".concat(CA.cssPrefix,"-.*"));if(delete n[0].attributes.id,n[0].attributes.class){var i=n[0].attributes.class.split(" ").reduce((function(e,t){return t===CA.replacementClass||t.match(r)?e.toSvg.push(t):e.toNode.push(t),e}),{toNode:[],toSvg:[]});n[0].attributes.class=i.toSvg.join(" "),0===i.toNode.length?t.removeAttribute("class"):t.setAttribute("class",i.toNode.join(" "))}var a=n.map((function(e){return QA(e)})).join("\n");t.setAttribute(JP,""),t.innerHTML=a}};function tj(e){e()}function nj(e,t){var n="function"===typeof t?t:YR;if(0===e.length)n();else{var r=tj;CA.mutateApproach===iA&&(r=BP.requestAnimationFrame||tj),r((function(){var t=!0===CA.autoReplaceSvg?ej.replace:ej[CA.autoReplaceSvg]||ej.replace,r=QR.begin("mutate");e.map(t),r(),n()}))}}var rj=!1;function ij(){rj=!0}function aj(){rj=!1}var oj=null;function sj(e){if(HP&&CA.observeMutations){var t=e.treeCallback,n=void 0===t?YR:t,r=e.nodeCallback,i=void 0===r?YR:r,a=e.pseudoElementsCallback,o=void 0===a?YR:a,s=e.observeMutationsRoot,u=void 0===s?qP:s;oj=new HP((function(e){if(!rj){var t=yR();jA(e).forEach((function(e){if("childList"===e.type&&e.addedNodes.length>0&&!XR(e.addedNodes[0])&&(CA.searchPseudoElements&&o(e.target),n(e.target)),"attributes"===e.type&&e.target.parentNode&&CA.searchPseudoElements&&o(e.target.parentNode),"attributes"===e.type&&XR(e.target)&&~wA.indexOf(e.attributeName))if("class"===e.attributeName&&function(e){var t=e.getAttribute?e.getAttribute(tA):null,n=e.getAttribute?e.getAttribute(nA):null;return t&&n}(e.target)){var r=xR(DA(e.target)),a=r.prefix,s=r.iconName;e.target.setAttribute(tA,a||t),s&&e.target.setAttribute(nA,s)}else(u=e.target)&&u.classList&&u.classList.contains&&u.classList.contains(CA.replacementClass)&&i(e.target);var u}))}})),GP&&oj.observe(u,{childList:!0,attributes:!0,characterData:!0,subtree:!0})}}function uj(e){var t=e.getAttribute("data-prefix"),n=e.getAttribute("data-icon"),r=void 0!==e.innerText?e.innerText.trim():"",i=xR(DA(e));return i.prefix||(i.prefix=yR()),t&&n&&(i.prefix=t,i.iconName=n),i.iconName&&i.prefix||(i.prefix&&r.length>0&&(i.iconName=function(e,t){return(uR[e]||{})[t]}(i.prefix,e.innerText)||vR(i.prefix,$A(e.innerText))),!i.iconName&&CA.autoFetchSvg&&e.firstChild&&e.firstChild.nodeType===Node.TEXT_NODE&&(i.iconName=e.firstChild.data)),i}function cj(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{styleParser:!0},n=uj(e),r=n.iconName,i=n.prefix,a=n.rest,o=function(e){var t=jA(e.attributes).reduce((function(e,t){return"class"!==e.name&&"style"!==e.name&&(e[t.name]=t.value),e}),{}),n=e.getAttribute("title"),r=e.getAttribute("data-fa-title-id");return CA.autoA11y&&(n?t["aria-labelledby"]="".concat(CA.replacementClass,"-title-").concat(r||RA()):(t["aria-hidden"]="true",t.focusable="false")),t}(e),s=CR("parseNodeAttributes",{},e),u=t.styleParser?function(e){var t=e.getAttribute("style"),n=[];return t&&(n=t.split(";").reduce((function(e,t){var n=t.split(":"),r=n[0],i=n.slice(1);return r&&i.length>0&&(e[r]=i.join(":").trim()),e}),{})),n}(e):[];return xP({iconName:r,title:e.getAttribute("title"),titleId:e.getAttribute("data-fa-title-id"),prefix:i,transform:PA,mask:{iconName:null,prefix:null,rest:[]},maskId:null,symbol:!1,extra:{classes:a,styles:u,attributes:o}},s)}var lj=WA.styles;function fj(e){var t="nest"===CA.autoReplaceSvg?cj(e,{styleParser:!1}):cj(e);return~t.extra.classes.indexOf(mA)?OR("generateLayersText",e,t):OR("generateSvgReplacementMutation",e,t)}var dj=new Set;function hj(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(!GP)return Promise.resolve();var n=qP.documentElement.classList,r=function(e){return n.add("".concat(rA,"-").concat(e))},i=function(e){return n.remove("".concat(rA,"-").concat(e))},a=CA.autoFetchSvg?dj:cA.map((function(e){return"fa-".concat(e)})).concat(Object.keys(lj));a.includes("fa")||a.push("fa");var o=[".".concat(mA,":not([").concat(JP,"])")].concat(a.map((function(e){return".".concat(e,":not([").concat(JP,"])")}))).join(", ");if(0===o.length)return Promise.resolve();var s=[];try{s=jA(e.querySelectorAll(o))}catch(rF){}if(!(s.length>0))return Promise.resolve();r("pending"),i("complete");var u=QR.begin("onTree"),c=s.reduce((function(e,t){try{var n=fj(t);n&&e.push(n)}catch(rF){oA||"MissingIcon"===rF.name&&console.error(rF)}return e}),[]);return new Promise((function(e,n){Promise.all(c).then((function(n){nj(n,(function(){r("active"),r("complete"),i("pending"),"function"===typeof t&&t(),u(),e()}))})).catch((function(e){u(),n(e)}))}))}function pj(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;fj(e).then((function(e){e&&nj([e],t)}))}cA.map((function(e){dj.add("fa-".concat(e))})),Object.keys(fA[sA]).map(dj.add.bind(dj)),Object.keys(fA[uA]).map(dj.add.bind(dj)),dj=TP(dj);var vj=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.transform,r=void 0===n?PA:n,i=t.symbol,a=void 0!==i&&i,o=t.mask,s=void 0===o?null:o,u=t.maskId,c=void 0===u?null:u,l=t.title,f=void 0===l?null:l,d=t.titleId,h=void 0===d?null:d,p=t.classes,v=void 0===p?[]:p,m=t.attributes,g=void 0===m?{}:m,y=t.styles,b=void 0===y?{}:y;if(e){var k=e.prefix,w=e.iconName,x=e.icon;return MR(xP({type:"icon"},e),(function(){return NR("beforeDOMElementCreation",{iconDefinition:e,params:t}),CA.autoA11y&&(f?g["aria-labelledby"]="".concat(CA.replacementClass,"-title-").concat(h||RA()):(g["aria-hidden"]="true",g.focusable="false")),UR({icons:{main:VR(x),mask:s?VR(s.icon):{found:!1,width:null,height:null,icon:{}}},prefix:k,iconName:w,transform:xP(xP({},PA),r),symbol:a,title:f,maskId:c,titleId:h,extra:{attributes:g,styles:b,classes:v}})}))}},mj={mixout:function(){return{icon:(e=vj,function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=(t||{}).icon?t:PR(t||{}),i=n.mask;return i&&(i=(i||{}).icon?i:PR(i||{})),e(r,xP(xP({},n),{},{mask:i}))})};var e},hooks:function(){return{mutationObserverCallbacks:function(e){return e.treeCallback=hj,e.nodeCallback=pj,e}}},provides:function(e){e.i2svg=function(e){var t=e.node,n=void 0===t?qP:t,r=e.callback;return hj(n,void 0===r?function(){}:r)},e.generateSvgReplacementMutation=function(e,t){var n=t.iconName,r=t.title,i=t.titleId,a=t.prefix,o=t.transform,s=t.symbol,u=t.mask,c=t.maskId,l=t.extra;return new Promise((function(t,f){Promise.all([qR(n,a),u.iconName?qR(u.iconName,u.prefix):Promise.resolve({found:!1,width:512,height:512,icon:{}})]).then((function(u){var f=IP(u,2),d=f[0],h=f[1];t([e,UR({icons:{main:d,mask:h},prefix:a,iconName:n,transform:o,symbol:s,maskId:c,title:r,titleId:i,extra:l,watchable:!0})])})).catch(f)}))},e.generateAbstractIcon=function(e){var t,n=e.children,r=e.attributes,i=e.main,a=e.transform,o=MA(e.styles);return o.length>0&&(r.style=o),UA(a)&&(t=OR("generateAbstractTransformGrouping",{main:i,transform:a,containerWidth:i.width,iconWidth:i.width})),n.push(t||i.icon),{children:n,attributes:r}}}},gj={mixout:function(){return{layer:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.classes,r=void 0===n?[]:n;return MR({type:"layer"},(function(){NR("beforeDOMElementCreation",{assembler:e,params:t});var n=[];return e((function(e){Array.isArray(e)?e.map((function(e){n=n.concat(e.abstract)})):n=n.concat(e.abstract)})),[{tag:"span",attributes:{class:["".concat(CA.cssPrefix,"-layers")].concat(TP(r)).join(" ")},children:n}]}))}}}},yj={mixout:function(){return{counter:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.title,r=void 0===n?null:n,i=t.classes,a=void 0===i?[]:i,o=t.attributes,s=void 0===o?{}:o,u=t.styles,c=void 0===u?{}:u;return MR({type:"counter",content:e},(function(){return NR("beforeDOMElementCreation",{content:e,params:t}),function(e){var t=e.content,n=e.title,r=e.extra,i=xP(xP(xP({},r.attributes),n?{title:n}:{}),{},{class:r.classes.join(" ")}),a=MA(r.styles);a.length>0&&(i.style=a);var o=[];return o.push({tag:"span",attributes:i,children:[t]}),n&&o.push({tag:"span",attributes:{class:"sr-only"},children:[n]}),o}({content:e.toString(),title:r,extra:{attributes:s,styles:c,classes:["".concat(CA.cssPrefix,"-layers-counter")].concat(TP(a))}})}))}}}},bj={mixout:function(){return{text:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.transform,r=void 0===n?PA:n,i=t.title,a=void 0===i?null:i,o=t.classes,s=void 0===o?[]:o,u=t.attributes,c=void 0===u?{}:u,l=t.styles,f=void 0===l?{}:l;return MR({type:"text",content:e},(function(){return NR("beforeDOMElementCreation",{content:e,params:t}),FR({content:e,transform:xP(xP({},PA),r),title:a,extra:{attributes:c,styles:f,classes:["".concat(CA.cssPrefix,"-layers-text")].concat(TP(s))}})}))}}},provides:function(e){e.generateLayersText=function(e,t){var n=t.title,r=t.transform,i=t.extra,a=null,o=null;if(KP){var s=parseInt(getComputedStyle(e).fontSize,10),u=e.getBoundingClientRect();a=u.width/s,o=u.height/s}return CA.autoA11y&&!n&&(i.attributes["aria-hidden"]="true"),Promise.resolve([e,FR({content:e.innerHTML,width:a,height:o,transform:r,title:n,extra:i,watchable:!0})])}}},kj=new RegExp('"',"ug"),wj=[1105920,1112319];function xj(e,t){var n="".concat(eA).concat(t.replace(":","-"));return new Promise((function(r,i){if(null!==e.getAttribute(n))return r();var a=jA(e.children).filter((function(e){return e.getAttribute(ZP)===t}))[0],o=BP.getComputedStyle(e,t),s=o.getPropertyValue("font-family").match(gA),u=o.getPropertyValue("font-weight"),c=o.getPropertyValue("content");if(a&&!s)return e.removeChild(a),r();if(s&&"none"!==c&&""!==c){var l=o.getPropertyValue("content"),f=~["Sharp"].indexOf(s[2])?uA:sA,d=~["Solid","Regular","Light","Thin","Duotone","Brands","Kit"].indexOf(s[2])?dA[f][s[2].toLowerCase()]:yA[f][u],h=function(e){var t=e.replace(kj,""),n=function(e,t){var n,r=e.length,i=e.charCodeAt(t);return i>=55296&&i<=56319&&r>t+1&&(n=e.charCodeAt(t+1))>=56320&&n<=57343?1024*(i-55296)+n-56320+65536:i}(t,0),r=n>=wj[0]&&n<=wj[1],i=2===t.length&&t[0]===t[1];return{value:$A(i?t[0]:t),isSecondary:r||i}}(l),p=h.value,v=h.isSecondary,m=s[0].startsWith("FontAwesome"),g=vR(d,p),y=g;if(m){var b=function(e){var t=lR[e],n=vR("fas",e);return t||(n?{prefix:"fas",iconName:n}:null)||{prefix:null,iconName:null}}(p);b.iconName&&b.prefix&&(g=b.iconName,d=b.prefix)}if(!g||v||a&&a.getAttribute(tA)===d&&a.getAttribute(nA)===y)r();else{e.setAttribute(n,y),a&&e.removeChild(a);var k={iconName:null,title:null,titleId:null,prefix:null,transform:PA,symbol:!1,mask:{iconName:null,prefix:null,rest:[]},maskId:null,extra:{classes:[],styles:{},attributes:{}}},w=k.extra;w.attributes[ZP]=t,qR(g,d).then((function(i){var a=UR(xP(xP({},k),{},{icons:{main:i,mask:bR()},prefix:d,iconName:y,extra:w,watchable:!0})),o=qP.createElementNS("http://www.w3.org/2000/svg","svg");"::before"===t?e.insertBefore(o,e.firstChild):e.appendChild(o),o.outerHTML=a.map((function(e){return QA(e)})).join("\n"),e.removeAttribute(n),r()})).catch(i)}}else r()}))}function _j(e){return Promise.all([xj(e,"::before"),xj(e,"::after")])}function Sj(e){return e.parentNode!==document.head&&!~aA.indexOf(e.tagName.toUpperCase())&&!e.getAttribute(ZP)&&(!e.parentNode||"svg"!==e.parentNode.tagName)}function Ej(e){if(GP)return new Promise((function(t,n){var r=jA(e.querySelectorAll("*")).filter(Sj).map(_j),i=QR.begin("searchPseudoElements");ij(),Promise.all(r).then((function(){i(),aj(),t()})).catch((function(){i(),aj(),n()}))}))}var Ij=!1,Tj=function(e){return e.toLowerCase().split(" ").reduce((function(e,t){var n=t.toLowerCase().split("-"),r=n[0],i=n.slice(1).join("-");if(r&&"h"===i)return e.flipX=!0,e;if(r&&"v"===i)return e.flipY=!0,e;if(i=parseFloat(i),isNaN(i))return e;switch(r){case"grow":e.size=e.size+i;break;case"shrink":e.size=e.size-i;break;case"left":e.x=e.x-i;break;case"right":e.x=e.x+i;break;case"up":e.y=e.y-i;break;case"down":e.y=e.y+i;break;case"rotate":e.rotate=e.rotate+i}return e}),{size:16,x:0,y:0,flipX:!1,flipY:!1,rotate:0})},Cj={mixout:function(){return{parse:{transform:function(e){return Tj(e)}}}},hooks:function(){return{parseNodeAttributes:function(e,t){var n=t.getAttribute("data-fa-transform");return n&&(e.transform=Tj(n)),e}}},provides:function(e){e.generateAbstractTransformGrouping=function(e){var t=e.main,n=e.transform,r=e.containerWidth,i=e.iconWidth,a={transform:"translate(".concat(r/2," 256)")},o="translate(".concat(32*n.x,", ").concat(32*n.y,") "),s="scale(".concat(n.size/16*(n.flipX?-1:1),", ").concat(n.size/16*(n.flipY?-1:1),") "),u="rotate(".concat(n.rotate," 0 0)"),c={outer:a,inner:{transform:"".concat(o," ").concat(s," ").concat(u)},path:{transform:"translate(".concat(i/2*-1," -256)")}};return{tag:"g",attributes:xP({},c.outer),children:[{tag:"g",attributes:xP({},c.inner),children:[{tag:t.icon.tag,children:t.icon.children,attributes:xP(xP({},t.icon.attributes),c.path)}]}]}}}},Nj={x:0,y:0,width:"100%",height:"100%"};function Oj(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return e.attributes&&(e.attributes.fill||t)&&(e.attributes.fill="black"),e}var Pj={hooks:function(){return{parseNodeAttributes:function(e,t){var n=t.getAttribute("data-fa-mask"),r=n?xR(n.split(" ").map((function(e){return e.trim()}))):bR();return r.prefix||(r.prefix=yR()),e.mask=r,e.maskId=t.getAttribute("data-fa-mask-id"),e}}},provides:function(e){e.generateAbstractMask=function(e){var t,n=e.children,r=e.attributes,i=e.main,a=e.mask,o=e.maskId,s=e.transform,u=i.width,c=i.icon,l=a.width,f=a.icon,d=function(e){var t=e.transform,n=e.containerWidth,r=e.iconWidth,i={transform:"translate(".concat(n/2," 256)")},a="translate(".concat(32*t.x,", ").concat(32*t.y,") "),o="scale(".concat(t.size/16*(t.flipX?-1:1),", ").concat(t.size/16*(t.flipY?-1:1),") "),s="rotate(".concat(t.rotate," 0 0)");return{outer:i,inner:{transform:"".concat(a," ").concat(o," ").concat(s)},path:{transform:"translate(".concat(r/2*-1," -256)")}}}({transform:s,containerWidth:l,iconWidth:u}),h={tag:"rect",attributes:xP(xP({},Nj),{},{fill:"white"})},p=c.children?{children:c.children.map(Oj)}:{},v={tag:"g",attributes:xP({},d.inner),children:[Oj(xP({tag:c.tag,attributes:xP(xP({},c.attributes),d.path)},p))]},m={tag:"g",attributes:xP({},d.outer),children:[v]},g="mask-".concat(o||RA()),y="clip-".concat(o||RA()),b={tag:"mask",attributes:xP(xP({},Nj),{},{id:g,maskUnits:"userSpaceOnUse",maskContentUnits:"userSpaceOnUse"}),children:[h,m]},k={tag:"defs",children:[{tag:"clipPath",attributes:{id:y},children:(t=f,"g"===t.tag?t.children:[t])},b]};return n.push(k,{tag:"rect",attributes:xP({fill:"currentColor","clip-path":"url(#".concat(y,")"),mask:"url(#".concat(g,")")},Nj)}),{children:n,attributes:r}}}},Aj={provides:function(e){var t=!1;BP.matchMedia&&(t=BP.matchMedia("(prefers-reduced-motion: reduce)").matches),e.missingIconAbstract=function(){var e=[],n={fill:"currentColor"},r={attributeType:"XML",repeatCount:"indefinite",dur:"2s"};e.push({tag:"path",attributes:xP(xP({},n),{},{d:"M156.5,447.7l-12.6,29.5c-18.7-9.5-35.9-21.2-51.5-34.9l22.7-22.7C127.6,430.5,141.5,440,156.5,447.7z M40.6,272H8.5 c1.4,21.2,5.4,41.7,11.7,61.1L50,321.2C45.1,305.5,41.8,289,40.6,272z M40.6,240c1.4-18.8,5.2-37,11.1-54.1l-29.5-12.6 C14.7,194.3,10,216.7,8.5,240H40.6z M64.3,156.5c7.8-14.9,17.2-28.8,28.1-41.5L69.7,92.3c-13.7,15.6-25.5,32.8-34.9,51.5 L64.3,156.5z M397,419.6c-13.9,12-29.4,22.3-46.1,30.4l11.9,29.8c20.7-9.9,39.8-22.6,56.9-37.6L397,419.6z M115,92.4 c13.9-12,29.4-22.3,46.1-30.4l-11.9-29.8c-20.7,9.9-39.8,22.6-56.8,37.6L115,92.4z M447.7,355.5c-7.8,14.9-17.2,28.8-28.1,41.5 l22.7,22.7c13.7-15.6,25.5-32.9,34.9-51.5L447.7,355.5z M471.4,272c-1.4,18.8-5.2,37-11.1,54.1l29.5,12.6 c7.5-21.1,12.2-43.5,13.6-66.8H471.4z M321.2,462c-15.7,5-32.2,8.2-49.2,9.4v32.1c21.2-1.4,41.7-5.4,61.1-11.7L321.2,462z M240,471.4c-18.8-1.4-37-5.2-54.1-11.1l-12.6,29.5c21.1,7.5,43.5,12.2,66.8,13.6V471.4z M462,190.8c5,15.7,8.2,32.2,9.4,49.2h32.1 c-1.4-21.2-5.4-41.7-11.7-61.1L462,190.8z M92.4,397c-12-13.9-22.3-29.4-30.4-46.1l-29.8,11.9c9.9,20.7,22.6,39.8,37.6,56.9 L92.4,397z M272,40.6c18.8,1.4,36.9,5.2,54.1,11.1l12.6-29.5C317.7,14.7,295.3,10,272,8.5V40.6z M190.8,50 c15.7-5,32.2-8.2,49.2-9.4V8.5c-21.2,1.4-41.7,5.4-61.1,11.7L190.8,50z M442.3,92.3L419.6,115c12,13.9,22.3,29.4,30.5,46.1 l29.8-11.9C470,128.5,457.3,109.4,442.3,92.3z M397,92.4l22.7-22.7c-15.6-13.7-32.8-25.5-51.5-34.9l-12.6,29.5 C370.4,72.1,384.4,81.5,397,92.4z"})});var i=xP(xP({},r),{},{attributeName:"opacity"}),a={tag:"circle",attributes:xP(xP({},n),{},{cx:"256",cy:"364",r:"28"}),children:[]};return t||a.children.push({tag:"animate",attributes:xP(xP({},r),{},{attributeName:"r",values:"28;14;28;28;14;28;"})},{tag:"animate",attributes:xP(xP({},i),{},{values:"1;0;1;1;0;1;"})}),e.push(a),e.push({tag:"path",attributes:xP(xP({},n),{},{opacity:"1",d:"M263.7,312h-16c-6.6,0-12-5.4-12-12c0-71,77.4-63.9,77.4-107.8c0-20-17.8-40.2-57.4-40.2c-29.1,0-44.3,9.6-59.2,28.7 c-3.9,5-11.1,6-16.2,2.4l-13.1-9.2c-5.6-3.9-6.9-11.8-2.6-17.2c21.2-27.2,46.4-44.7,91.2-44.7c52.3,0,97.4,29.8,97.4,80.2 c0,67.6-77.4,63.5-77.4,107.8C275.7,306.6,270.3,312,263.7,312z"}),children:t?[]:[{tag:"animate",attributes:xP(xP({},i),{},{values:"1;0;0;0;0;1;"})}]}),t||e.push({tag:"path",attributes:xP(xP({},n),{},{opacity:"0",d:"M232.5,134.5l7,168c0.3,6.4,5.6,11.5,12,11.5h9c6.4,0,11.7-5.1,12-11.5l7-168c0.3-6.8-5.2-12.5-12-12.5h-23 C237.7,122,232.2,127.7,232.5,134.5z"}),children:[{tag:"animate",attributes:xP(xP({},i),{},{values:"0;0;1;1;0;0;"})}]}),{tag:"g",attributes:{class:"missing"},children:e}}}};!function(e,t){var n=t.mixoutsTo;SR=e,ER={},Object.keys(IR).forEach((function(e){-1===TR.indexOf(e)&&delete IR[e]})),SR.forEach((function(e){var t=e.mixout?e.mixout():{};if(Object.keys(t).forEach((function(e){"function"===typeof t[e]&&(n[e]=t[e]),"object"===_P(t[e])&&Object.keys(t[e]).forEach((function(r){n[e]||(n[e]={}),n[e][r]=t[e][r]}))})),e.hooks){var r=e.hooks();Object.keys(r).forEach((function(e){ER[e]||(ER[e]=[]),ER[e].push(r[e])}))}e.provides&&e.provides(IR)}))}([qA,mj,gj,yj,bj,{hooks:function(){return{mutationObserverCallbacks:function(e){return e.pseudoElementsCallback=Ej,e}}},provides:function(e){e.pseudoElements2svg=function(e){var t=e.node,n=void 0===t?qP:t;CA.searchPseudoElements&&Ej(n)}}},{mixout:function(){return{dom:{unwatch:function(){ij(),Ij=!0}}}},hooks:function(){return{bootstrap:function(){sj(CR("mutationObserverCallbacks",{}))},noAuto:function(){oj&&oj.disconnect()},watch:function(e){var t=e.observeMutationsRoot;Ij?aj():sj(CR("mutationObserverCallbacks",{observeMutationsRoot:t}))}}}},Cj,Pj,Aj,{hooks:function(){return{parseNodeAttributes:function(e,t){var n=t.getAttribute("data-fa-symbol"),r=null!==n&&(""===n||n);return e.symbol=r,e}}}}],{mixoutsTo:DR});var Rj=DR.parse,jj=DR.icon,Dj=n(188),Lj=n.n(Dj);function Mj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Uj(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Mj(Object(n),!0).forEach((function(t){zj(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Mj(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Fj(e){return Fj="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fj(e)}function zj(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Vj(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Bj(e){return function(e){if(Array.isArray(e))return qj(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return qj(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return qj(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function qj(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Hj(e){return t=e,(t-=0)===t?e:(e=e.replace(/[\-_\s]+(.)?/g,(function(e,t){return t?t.toUpperCase():""}))).substr(0,1).toLowerCase()+e.substr(1);var t}var Wj=["style"];var Gj=!1;try{Gj=!0}catch(rF){}function Kj(e){return e&&"object"===Fj(e)&&e.prefix&&e.iconName&&e.icon?e:Rj.icon?Rj.icon(e):null===e?null:e&&"object"===Fj(e)&&e.prefix&&e.iconName?e:Array.isArray(e)&&2===e.length?{prefix:e[0],iconName:e[1]}:"string"===typeof e?{prefix:"fas",iconName:e}:void 0}function Qj(e,t){return Array.isArray(t)&&t.length>0||!Array.isArray(t)&&t?zj({},e,t):{}}var Yj=r.forwardRef((function(e,t){var n=e.icon,r=e.mask,i=e.symbol,a=e.className,o=e.title,s=e.titleId,u=e.maskId,c=Kj(n),l=Qj("classes",[].concat(Bj(function(e){var t,n=e.beat,r=e.fade,i=e.beatFade,a=e.bounce,o=e.shake,s=e.flash,u=e.spin,c=e.spinPulse,l=e.spinReverse,f=e.pulse,d=e.fixedWidth,h=e.inverse,p=e.border,v=e.listItem,m=e.flip,g=e.size,y=e.rotation,b=e.pull,k=(zj(t={"fa-beat":n,"fa-fade":r,"fa-beat-fade":i,"fa-bounce":a,"fa-shake":o,"fa-flash":s,"fa-spin":u,"fa-spin-reverse":l,"fa-spin-pulse":c,"fa-pulse":f,"fa-fw":d,"fa-inverse":h,"fa-border":p,"fa-li":v,"fa-flip":!0===m,"fa-flip-horizontal":"horizontal"===m||"both"===m,"fa-flip-vertical":"vertical"===m||"both"===m},"fa-".concat(g),"undefined"!==typeof g&&null!==g),zj(t,"fa-rotate-".concat(y),"undefined"!==typeof y&&null!==y&&0!==y),zj(t,"fa-pull-".concat(b),"undefined"!==typeof b&&null!==b),zj(t,"fa-swap-opacity",e.swapOpacity),t);return Object.keys(k).map((function(e){return k[e]?e:null})).filter((function(e){return e}))}(e)),Bj(a.split(" ")))),f=Qj("transform","string"===typeof e.transform?Rj.transform(e.transform):e.transform),d=Qj("mask",Kj(r)),h=jj(c,Uj(Uj(Uj(Uj({},l),f),d),{},{symbol:i,title:o,titleId:s,maskId:u}));if(!h)return function(){var e;!Gj&&console&&"function"===typeof console.error&&(e=console).error.apply(e,arguments)}("Could not find icon",c),null;var p=h.abstract,v={ref:t};return Object.keys(e).forEach((function(t){Yj.defaultProps.hasOwnProperty(t)||(v[t]=e[t])})),Xj(p[0],v)}));Yj.displayName="FontAwesomeIcon",Yj.propTypes={beat:Lj().bool,border:Lj().bool,beatFade:Lj().bool,bounce:Lj().bool,className:Lj().string,fade:Lj().bool,flash:Lj().bool,mask:Lj().oneOfType([Lj().object,Lj().array,Lj().string]),maskId:Lj().string,fixedWidth:Lj().bool,inverse:Lj().bool,flip:Lj().oneOf([!0,!1,"horizontal","vertical","both"]),icon:Lj().oneOfType([Lj().object,Lj().array,Lj().string]),listItem:Lj().bool,pull:Lj().oneOf(["right","left"]),pulse:Lj().bool,rotation:Lj().oneOf([0,90,180,270]),shake:Lj().bool,size:Lj().oneOf(["2xs","xs","sm","lg","xl","2xl","1x","2x","3x","4x","5x","6x","7x","8x","9x","10x"]),spin:Lj().bool,spinPulse:Lj().bool,spinReverse:Lj().bool,symbol:Lj().oneOfType([Lj().bool,Lj().string]),title:Lj().string,titleId:Lj().string,transform:Lj().oneOfType([Lj().string,Lj().object]),swapOpacity:Lj().bool},Yj.defaultProps={border:!1,className:"",mask:null,maskId:null,fixedWidth:!1,inverse:!1,flip:!1,icon:null,listItem:!1,pull:null,pulse:!1,rotation:null,size:null,spin:!1,spinPulse:!1,spinReverse:!1,beat:!1,fade:!1,beatFade:!1,bounce:!1,shake:!1,symbol:!1,title:"",titleId:null,transform:null,swapOpacity:!1};var Xj=function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if("string"===typeof n)return n;var i=(n.children||[]).map((function(n){return e(t,n)})),a=Object.keys(n.attributes||{}).reduce((function(e,t){var r=n.attributes[t];switch(t){case"class":e.attrs.className=r,delete n.attributes.class;break;case"style":e.attrs.style=r.split(";").map((function(e){return e.trim()})).filter((function(e){return e})).reduce((function(e,t){var n,r=t.indexOf(":"),i=Hj(t.slice(0,r)),a=t.slice(r+1).trim();return i.startsWith("webkit")?e[(n=i,n.charAt(0).toUpperCase()+n.slice(1))]=a:e[i]=a,e}),{});break;default:0===t.indexOf("aria-")||0===t.indexOf("data-")?e.attrs[t.toLowerCase()]=r:e.attrs[Hj(t)]=r}return e}),{attrs:{}}),o=r.style,s=void 0===o?{}:o,u=Vj(r,Wj);return a.attrs.style=Uj(Uj({},a.attrs.style),s),t.apply(void 0,[n.tag,Uj(Uj({},a.attrs),u)].concat(Bj(i)))}.bind(null,r.createElement),$j={prefix:"fas",iconName:"message",icon:[512,512,["comment-alt"],"f27a","M64 0C28.7 0 0 28.7 0 64V352c0 35.3 28.7 64 64 64h96v80c0 6.1 3.4 11.6 8.8 14.3s11.9 2.1 16.8-1.5L309.3 416H448c35.3 0 64-28.7 64-64V64c0-35.3-28.7-64-64-64H64z"]},Jj=$j,Zj={prefix:"fas",iconName:"reply",icon:[512,512,[61714,"mail-reply"],"f3e5","M205 34.8c11.5 5.1 19 16.6 19 29.2v64H336c97.2 0 176 78.8 176 176c0 113.3-81.5 163.9-100.2 174.1c-2.5 1.4-5.3 1.9-8.1 1.9c-10.9 0-19.7-8.9-19.7-19.7c0-7.5 4.3-14.4 9.8-19.5c9.4-8.8 22.2-26.4 22.2-56.7c0-53-43-96-96-96H224v64c0 12.6-7.4 24.1-19 29.2s-25 3-34.4-5.4l-160-144C3.9 225.7 0 217.1 0 208s3.9-17.7 10.6-23.8l160-144c9.4-8.5 22.9-10.6 34.4-5.4z"]},eD={prefix:"fas",iconName:"eye-slash",icon:[640,512,[],"f070","M38.8 5.1C28.4-3.1 13.3-1.2 5.1 9.2S-1.2 34.7 9.2 42.9l592 464c10.4 8.2 25.5 6.3 33.7-4.1s6.3-25.5-4.1-33.7L525.6 386.7c39.6-40.6 66.4-86.1 79.9-118.4c3.3-7.9 3.3-16.7 0-24.6c-14.9-35.7-46.2-87.7-93-131.1C465.5 68.8 400.8 32 320 32c-68.2 0-125 26.3-169.3 60.8L38.8 5.1zM223.1 149.5C248.6 126.2 282.7 112 320 112c79.5 0 144 64.5 144 144c0 24.9-6.3 48.3-17.4 68.7L408 294.5c8.4-19.3 10.6-41.4 4.8-63.3c-11.1-41.5-47.8-69.4-88.6-71.1c-5.8-.2-9.2 6.1-7.4 11.7c2.1 6.4 3.3 13.2 3.3 20.3c0 10.2-2.4 19.8-6.6 28.3l-90.3-70.8zM373 389.9c-16.4 6.5-34.3 10.1-53 10.1c-79.5 0-144-64.5-144-144c0-6.9 .5-13.6 1.4-20.2L83.1 161.5C60.3 191.2 44 220.8 34.5 243.7c-3.3 7.9-3.3 16.7 0 24.6c14.9 35.7 46.2 87.7 93 131.1C174.5 443.2 239.2 480 320 480c47.8 0 89.9-12.9 126.2-32.5L373 389.9z"]},tD={prefix:"fas",iconName:"eye",icon:[576,512,[128065],"f06e","M288 32c-80.8 0-145.5 36.8-192.6 80.6C48.6 156 17.3 208 2.5 243.7c-3.3 7.9-3.3 16.7 0 24.6C17.3 304 48.6 356 95.4 399.4C142.5 443.2 207.2 480 288 480s145.5-36.8 192.6-80.6c46.8-43.5 78.1-95.4 93-131.1c3.3-7.9 3.3-16.7 0-24.6c-14.9-35.7-46.2-87.7-93-131.1C433.5 68.8 368.8 32 288 32zM144 256a144 144 0 1 1 288 0 144 144 0 1 1 -288 0zm144-64c0 35.3-28.7 64-64 64c-7.1 0-13.9-1.2-20.3-3.3c-5.5-1.8-11.9 1.6-11.7 7.4c.3 6.9 1.3 13.8 3.2 20.7c13.7 51.2 66.4 81.6 117.6 67.9s81.6-66.4 67.9-117.6c-11.1-41.5-47.8-69.4-88.6-71.1c-5.8-.2-9.2 6.1-7.4 11.7c2.1 6.4 3.3 13.2 3.3 20.3z"]},nD={prefix:"fas",iconName:"xmark",icon:[384,512,[128473,10005,10006,10060,215,"close","multiply","remove","times"],"f00d","M342.6 150.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L192 210.7 86.6 105.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L146.7 256 41.4 361.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0L192 301.3 297.4 406.6c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L237.3 256 342.6 150.6z"]},rD=nD,iD={prefix:"fas",iconName:"paper-plane",icon:[512,512,[61913],"f1d8","M498.1 5.6c10.1 7 15.4 19.1 13.5 31.2l-64 416c-1.5 9.7-7.4 18.2-16 23s-18.9 5.4-28 1.6L284 427.7l-68.5 74.1c-8.9 9.7-22.9 12.9-35.2 8.1S160 493.2 160 480V396.4c0-4 1.5-7.8 4.2-10.7L331.8 202.8c5.8-6.3 5.6-16-.4-22s-15.7-6.4-22-.7L106 360.8 17.7 316.6C7.1 311.3 .3 300.7 0 288.9s5.9-22.8 16.1-28.7l448-256c10.7-6.1 23.9-5.5 34 1.4z"]},aD={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},oD=r.createContext&&r.createContext(aD),sD=function(){return sD=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},sD.apply(this,arguments)},uD=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};function cD(e){return e&&e.map((function(e,t){return r.createElement(e.tag,sD({key:t},e.attr),cD(e.child))}))}function lD(e){return function(t){return r.createElement(fD,sD({attr:sD({},e.attr)},t),cD(e.child))}}function fD(e){var t=function(t){var n,i=e.attr,a=e.size,o=e.title,s=uD(e,["attr","size","title"]),u=a||t.size||"1em";return t.className&&(n=t.className),e.className&&(n=(n?n+" ":"")+e.className),r.createElement("svg",sD({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,i,s,{className:n,style:sD(sD({color:e.color||t.color},t.style),e.style),height:u,width:u,xmlns:"http://www.w3.org/2000/svg"}),o&&r.createElement("title",null,o),e.children)};return void 0!==oD?r.createElement(oD.Consumer,null,(function(e){return t(e)})):t(aD)}function dD(e){return lD({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M12 192h424c6.6 0 12 5.4 12 12v260c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V204c0-6.6 5.4-12 12-12zm436-44v-36c0-26.5-21.5-48-48-48h-48V12c0-6.6-5.4-12-12-12h-40c-6.6 0-12 5.4-12 12v52H160V12c0-6.6-5.4-12-12-12h-40c-6.6 0-12 5.4-12 12v52H48C21.5 64 0 85.5 0 112v36c0 6.6 5.4 12 12 12h424c6.6 0 12-5.4 12-12z"}}]})(e)}function hD(e){return lD({tag:"svg",attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M31.3 192h257.3c17.8 0 26.7 21.5 14.1 34.1L174.1 354.8c-7.8 7.8-20.5 7.8-28.3 0L17.2 226.1C4.6 213.5 13.5 192 31.3 192z"}}]})(e)}function pD(e){return lD({tag:"svg",attr:{viewBox:"0 0 192 512"},child:[{tag:"path",attr:{d:"M0 384.662V127.338c0-17.818 21.543-26.741 34.142-14.142l128.662 128.662c7.81 7.81 7.81 20.474 0 28.284L34.142 398.804C21.543 411.404 0 402.48 0 384.662z"}}]})(e)}function vD(e){return lD({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M537.6 226.6c4.1-10.7 6.4-22.4 6.4-34.6 0-53-43-96-96-96-19.7 0-38.1 6-53.3 16.2C367 64.2 315.3 32 256 32c-88.4 0-160 71.6-160 160 0 2.7.1 5.4.2 8.1C40.2 219.8 0 273.2 0 336c0 79.5 64.5 144 144 144h368c70.7 0 128-57.3 128-128 0-61.9-44-113.6-102.4-125.4zm-132.9 88.7L299.3 420.7c-6.2 6.2-16.4 6.2-22.6 0L171.3 315.3c-10.1-10.1-2.9-27.3 11.3-27.3H248V176c0-8.8 7.2-16 16-16h48c8.8 0 16 7.2 16 16v112h65.4c14.2 0 21.4 17.2 11.3 27.3z"}}]})(e)}function mD(e){return lD({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M569.517 440.013C587.975 472.007 564.806 512 527.94 512H48.054c-36.937 0-59.999-40.055-41.577-71.987L246.423 23.985c18.467-32.009 64.72-31.951 83.154 0l239.94 416.028zM288 354c-25.405 0-46 20.595-46 46s20.595 46 46 46 46-20.595 46-46-20.595-46-46-46zm-43.673-165.346l7.418 136c.347 6.364 5.609 11.346 11.982 11.346h48.546c6.373 0 11.635-4.982 11.982-11.346l7.418-136c.375-6.874-5.098-12.654-11.982-12.654h-63.383c-6.884 0-12.356 5.78-11.981 12.654z"}}]})(e)}function gD(e){return lD({tag:"svg",attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M224 136V0H24C10.7 0 0 10.7 0 24v464c0 13.3 10.7 24 24 24h336c13.3 0 24-10.7 24-24V160H248c-13.2 0-24-10.8-24-24zm160-14.1v6.1H256V0h6.1c6.4 0 12.5 2.5 17 7l97.9 98c4.5 4.5 7 10.6 7 16.9z"}}]})(e)}var yD,bD="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof n.g?n.g:"undefined"!=typeof self?self:{},kD={exports:{}};yD=function(){return function(){var e={720:function(e,t,n){n.r(t),n.d(t,{Scene:function(){return Ye},Tweenable:function(){return ve},interpolate:function(){return He},processTweens:function(){return se},setBezierFunction:function(){return Xe},shouldScheduleUpdate:function(){return le},tween:function(){return me},unsetBezierFunction:function(){return $e}});var r={};n.r(r),n.d(r,{bounce:function(){return L},bouncePast:function(){return M},easeFrom:function(){return F},easeFromTo:function(){return U},easeInBack:function(){return N},easeInCirc:function(){return E},easeInCubic:function(){return l},easeInExpo:function(){return x},easeInOutBack:function(){return P},easeInOutCirc:function(){return T},easeInOutCubic:function(){return d},easeInOutExpo:function(){return S},easeInOutQuad:function(){return c},easeInOutQuart:function(){return v},easeInOutQuint:function(){return y},easeInOutSine:function(){return w},easeInQuad:function(){return s},easeInQuart:function(){return h},easeInQuint:function(){return m},easeInSine:function(){return b},easeOutBack:function(){return O},easeOutBounce:function(){return C},easeOutCirc:function(){return I},easeOutCubic:function(){return f},easeOutExpo:function(){return _},easeOutQuad:function(){return u},easeOutQuart:function(){return p},easeOutQuint:function(){return g},easeOutSine:function(){return k},easeTo:function(){return z},elastic:function(){return A},linear:function(){return o},swingFrom:function(){return j},swingFromTo:function(){return R},swingTo:function(){return D}});var i={};n.r(i),n.d(i,{afterTween:function(){return Fe},beforeTween:function(){return Ue},doesApply:function(){return Le},tweenCreated:function(){return Me}});var a,o=function(e){return e},s=function(e){return Math.pow(e,2)},u=function(e){return-(Math.pow(e-1,2)-1)},c=function(e){return(e/=.5)<1?.5*Math.pow(e,2):-.5*((e-=2)*e-2)},l=function(e){return Math.pow(e,3)},f=function(e){return Math.pow(e-1,3)+1},d=function(e){return(e/=.5)<1?.5*Math.pow(e,3):.5*(Math.pow(e-2,3)+2)},h=function(e){return Math.pow(e,4)},p=function(e){return-(Math.pow(e-1,4)-1)},v=function(e){return(e/=.5)<1?.5*Math.pow(e,4):-.5*((e-=2)*Math.pow(e,3)-2)},m=function(e){return Math.pow(e,5)},g=function(e){return Math.pow(e-1,5)+1},y=function(e){return(e/=.5)<1?.5*Math.pow(e,5):.5*(Math.pow(e-2,5)+2)},b=function(e){return 1-Math.cos(e*(Math.PI/2))},k=function(e){return Math.sin(e*(Math.PI/2))},w=function(e){return-.5*(Math.cos(Math.PI*e)-1)},x=function(e){return 0===e?0:Math.pow(2,10*(e-1))},_=function(e){return 1===e?1:1-Math.pow(2,-10*e)},S=function(e){return 0===e?0:1===e?1:(e/=.5)<1?.5*Math.pow(2,10*(e-1)):.5*(2-Math.pow(2,-10*--e))},E=function(e){return-(Math.sqrt(1-e*e)-1)},I=function(e){return Math.sqrt(1-Math.pow(e-1,2))},T=function(e){return(e/=.5)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1)},C=function(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375},N=function(e){var t=1.70158;return e*e*((t+1)*e-t)},O=function(e){var t=1.70158;return(e-=1)*e*((t+1)*e+t)+1},P=function(e){var t=1.70158;return(e/=.5)<1?e*e*((1+(t*=1.525))*e-t)*.5:.5*((e-=2)*e*((1+(t*=1.525))*e+t)+2)},A=function(e){return-1*Math.pow(4,-8*e)*Math.sin((6*e-1)*(2*Math.PI)/2)+1},R=function(e){var t=1.70158;return(e/=.5)<1?e*e*((1+(t*=1.525))*e-t)*.5:.5*((e-=2)*e*((1+(t*=1.525))*e+t)+2)},j=function(e){var t=1.70158;return e*e*((t+1)*e-t)},D=function(e){var t=1.70158;return(e-=1)*e*((t+1)*e+t)+1},L=function(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375},M=function(e){return e<1/2.75?7.5625*e*e:e<2/2.75?2-(7.5625*(e-=1.5/2.75)*e+.75):e<2.5/2.75?2-(7.5625*(e-=2.25/2.75)*e+.9375):2-(7.5625*(e-=2.625/2.75)*e+.984375)},U=function(e){return(e/=.5)<1?.5*Math.pow(e,4):-.5*((e-=2)*Math.pow(e,3)-2)},F=function(e){return Math.pow(e,4)},z=function(e){return Math.pow(e,.25)};function V(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function B(e){return B="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},B(e)}function q(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function H(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?q(Object(n),!0).forEach((function(t){W(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):q(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function W(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var G,K,Q,Y="linear",X="undefined"!=typeof window?window:bD,$="afterTween",J="beforeTween",Z="string",ee=X.requestAnimationFrame||X.webkitRequestAnimationFrame||X.oRequestAnimationFrame||X.msRequestAnimationFrame||X.mozCancelRequestAnimationFrame&&X.mozRequestAnimationFrame||setTimeout,te=function(){},ne=null,re=null,ie=H({},r),ae=function(e,t,n,r,i,a,o){var s,u,c,l=e<a?0:(e-a)/i,f=!1;for(var d in o&&o.call&&(f=!0,s=o(l)),t)f||(s=((u=o[d]).call?u:ie[u])(l)),c=n[d],t[d]=c+(r[d]-c)*s;return t},oe=function(e,t){var n=e._timestamp,r=e._currentState,i=e._delay;if(!(t<n+i)){var a=e._duration,o=e._targetState,s=n+i+a,u=t>s?s:t;e._hasEnded=u>=s;var c=a-(s-u),l=e._filters.length>0;if(e._hasEnded)return e._render(o,e._data,c),e.stop(!0);l&&e._applyFilter(J),u<n+i?n=a=u=1:n+=i,ae(u,r,e._originalState,o,a,n,e._easing),l&&e._applyFilter($),e._render(r,e._data,c)}},se=function(){for(var e,t=ve.now(),n=ne;n;)e=n._next,oe(n,t),n=e},ue=Date.now||function(){return+new Date},ce=!1,le=function(e){e&&ce||(ce=e,e&&fe())},fe=function e(){G=ue(),ce&&ee.call(X,e,16.666666666666668),se()},de=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Y,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=B(t);if(ie[t])return ie[t];if(r===Z||"function"===r)for(var i in e)n[i]=t;else for(var a in e)n[a]=t[a]||Y;return n},he=function(e){e===ne?(ne=e._next)?ne._previous=null:re=null:e===re?(re=e._previous)?re._next=null:ne=null:(K=e._previous,Q=e._next,K._next=Q,Q._previous=K),e._previous=e._next=null},pe="function"==typeof Promise?Promise:null;a=Symbol.toStringTag;var ve=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,e),W(this,a,"Promise"),this._config={},this._data={},this._delay=0,this._filters=[],this._next=null,this._previous=null,this._timestamp=null,this._hasEnded=!1,this._resolve=null,this._reject=null,this._currentState=t||{},this._originalState={},this._targetState={},this._start=te,this._render=te,this._promiseCtor=pe,n&&this.setConfig(n)}var t,n;return t=e,n=[{key:"_applyFilter",value:function(e){for(var t=this._filters.length;t>0;t--){var n=this._filters[t-t][e];n&&n(this)}}},{key:"tween",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0;return this._isPlaying&&this.stop(),!t&&this._config||this.setConfig(t),this._pausedAtTime=null,this._timestamp=e.now(),this._start(this.get(),this._data),this._delay&&this._render(this._currentState,this._data,0),this._resume(this._timestamp)}},{key:"setConfig",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=this._config;for(var r in t)n[r]=t[r];var i=n.promise,a=void 0===i?this._promiseCtor:i,o=n.start,s=void 0===o?te:o,u=n.finish,c=n.render,l=void 0===c?this._config.step||te:c,f=n.step,d=void 0===f?te:f;this._data=n.data||n.attachment||this._data,this._isPlaying=!1,this._pausedAtTime=null,this._scheduleId=null,this._delay=t.delay||0,this._start=s,this._render=l||d,this._duration=n.duration||500,this._promiseCtor=a,u&&(this._resolve=u);var h=t.from,p=t.to,v=void 0===p?{}:p,m=this._currentState,g=this._originalState,y=this._targetState;for(var b in h)m[b]=h[b];var k=!1;for(var w in m){var x=m[w];k||B(x)!==Z||(k=!0),g[w]=x,y[w]=v.hasOwnProperty(w)?v[w]:x}if(this._easing=de(this._currentState,n.easing,this._easing),this._filters.length=0,k){for(var _ in e.filters)e.filters[_].doesApply(this)&&this._filters.push(e.filters[_]);this._applyFilter("tweenCreated")}return this}},{key:"then",value:function(e,t){var n=this;return this._promise=new this._promiseCtor((function(e,t){n._resolve=e,n._reject=t})),this._promise.then(e,t)}},{key:"catch",value:function(e){return this.then().catch(e)}},{key:"finally",value:function(e){return this.then().finally(e)}},{key:"get",value:function(){return H({},this._currentState)}},{key:"set",value:function(e){this._currentState=e}},{key:"pause",value:function(){if(this._isPlaying)return this._pausedAtTime=e.now(),this._isPlaying=!1,he(this),this}},{key:"resume",value:function(){return this._resume()}},{key:"_resume",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e.now();return null===this._timestamp?this.tween():this._isPlaying?this._promise:(this._pausedAtTime&&(this._timestamp+=t-this._pausedAtTime,this._pausedAtTime=null),this._isPlaying=!0,null===ne?(ne=this,re=this):(this._previous=re,re._next=this,re=this),this)}},{key:"seek",value:function(t){t=Math.max(t,0);var n=e.now();return this._timestamp+t===0||(this._timestamp=n-t,oe(this,n)),this}},{key:"stop",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this._isPlaying)return this;this._isPlaying=!1,he(this);var t=this._filters.length>0;return e&&(t&&this._applyFilter(J),ae(1,this._currentState,this._originalState,this._targetState,1,0,this._easing),t&&(this._applyFilter($),this._applyFilter("afterTweenEnd"))),this._resolve&&this._resolve({data:this._data,state:this._currentState,tweenable:this}),this._resolve=null,this._reject=null,this}},{key:"cancel",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this._currentState,n=this._data;return this._isPlaying?(this._reject&&this._reject({data:n,state:t,tweenable:this}),this._resolve=null,this._reject=null,this.stop(e)):this}},{key:"isPlaying",value:function(){return this._isPlaying}},{key:"hasEnded",value:function(){return this._hasEnded}},{key:"setScheduleFunction",value:function(t){e.setScheduleFunction(t)}},{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return e&&(this._data=H({},e)),this._data}},{key:"dispose",value:function(){for(var e in this)delete this[e]}}],n&&V(t.prototype,n),e}();function me(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=new ve;return t.tween(e),t.tweenable=t,t}W(ve,"now",(function(){return G})),W(ve,"setScheduleFunction",(function(e){return ee=e})),W(ve,"filters",{}),W(ve,"formulas",ie),le(!0);var ge,ye,be=/(\d|-|\.)/,ke=/([^\-0-9.]+)/g,we=/[0-9.-]+/g,xe=(ge=we.source,ye=/,\s*/.source,new RegExp("rgba?\\(".concat(ge).concat(ye).concat(ge).concat(ye).concat(ge,"(").concat(ye).concat(ge,")?\\)"),"g")),_e=/^.*\(/,Se=/#([0-9]|[a-f]){3,6}/gi,Ee="VAL",Ie=function(e,t){return e.map((function(e,n){return"_".concat(t,"_").concat(n)}))};function Te(e){return parseInt(e,16)}var Ce=function(e){return"rgb(".concat((t=e,3===(t=t.replace(/#/,"")).length&&(t=(t=t.split(""))[0]+t[0]+t[1]+t[1]+t[2]+t[2]),[Te(t.substr(0,2)),Te(t.substr(2,2)),Te(t.substr(4,2))]).join(","),")");var t},Ne=function(e,t,n){var r=t.match(e),i=t.replace(e,Ee);return r&&r.forEach((function(e){return i=i.replace(Ee,n(e))})),i},Oe=function(e){for(var t in e){var n=e[t];"string"==typeof n&&n.match(Se)&&(e[t]=Ne(Se,n,Ce))}},Pe=function(e){var t=e.match(we),n=t.slice(0,3).map(Math.floor),r=e.match(_e)[0];if(3===t.length)return"".concat(r).concat(n.join(","),")");if(4===t.length)return"".concat(r).concat(n.join(","),",").concat(t[3],")");throw new Error("Invalid rgbChunk: ".concat(e))},Ae=function(e){return e.match(we)},Re=function(e,t){var n={};return t.forEach((function(t){n[t]=e[t],delete e[t]})),n},je=function(e,t){return t.map((function(t){return e[t]}))},De=function(e,t){return t.forEach((function(t){return e=e.replace(Ee,+t.toFixed(4))})),e},Le=function(e){for(var t in e._currentState)if("string"==typeof e._currentState[t])return!0;return!1};function Me(e){var t=e._currentState;[t,e._originalState,e._targetState].forEach(Oe),e._tokenData=function(e){var t,n,r={};for(var i in e){var a=e[i];"string"==typeof a&&(r[i]={formatString:(t=a,n=void 0,n=t.match(ke),n?(1===n.length||t.charAt(0).match(be))&&n.unshift(""):n=["",""],n.join(Ee)),chunkNames:Ie(Ae(a),i)})}return r}(t)}function Ue(e){var t=e._currentState,n=e._originalState,r=e._targetState,i=e._easing,a=e._tokenData;!function(e,t){var n=function(n){var r=t[n].chunkNames,i=e[n];if("string"==typeof i){var a=i.split(" "),o=a[a.length-1];r.forEach((function(t,n){return e[t]=a[n]||o}))}else r.forEach((function(t){return e[t]=i}));delete e[n]};for(var r in t)n(r)}(i,a),[t,n,r].forEach((function(e){return function(e,t){var n=function(n){Ae(e[n]).forEach((function(r,i){return e[t[n].chunkNames[i]]=+r})),delete e[n]};for(var r in t)n(r)}(e,a)}))}function Fe(e){var t=e._currentState,n=e._originalState,r=e._targetState,i=e._easing,a=e._tokenData;[t,n,r].forEach((function(e){return function(e,t){for(var n in t){var r=t[n],i=r.chunkNames,a=r.formatString,o=De(a,je(Re(e,i),i));e[n]=Ne(xe,o,Pe)}}(e,a)})),function(e,t){for(var n in t){var r=t[n].chunkNames,i=e[r[0]];e[n]="string"==typeof i?r.map((function(t){var n=e[t];return delete e[t],n})).join(" "):i}}(i,a)}function ze(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ve(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Be=new ve,qe=ve.filters,He=function(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,a=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ze(Object(n),!0).forEach((function(t){Ve(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ze(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e),o=de(e,r);for(var s in Be._filters.length=0,Be.set({}),Be._currentState=a,Be._originalState=e,Be._targetState=t,Be._easing=o,qe)qe[s].doesApply(Be)&&Be._filters.push(qe[s]);Be._applyFilter("tweenCreated"),Be._applyFilter("beforeTween");var u=ae(n,a,e,t,1,i,o);return Be._applyFilter("afterTween"),u};function We(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Ge(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ke(e,t){var n=t.get(e);if(!n)throw new TypeError("attempted to get private field on non-instance");return n.get?n.get.call(e):n.value}var Qe=new WeakMap,Ye=function(){function e(){(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,e),Qe.set(this,{writable:!0,value:[]});for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];n.forEach(this.add.bind(this))}var t,n;return t=e,(n=[{key:"add",value:function(e){return Ke(this,Qe).push(e),e}},{key:"remove",value:function(e){var t=Ke(this,Qe).indexOf(e);return~t&&Ke(this,Qe).splice(t,1),e}},{key:"empty",value:function(){return this.tweenables.map(this.remove.bind(this))}},{key:"isPlaying",value:function(){return Ke(this,Qe).some((function(e){return e.isPlaying()}))}},{key:"play",value:function(){return Ke(this,Qe).forEach((function(e){return e.tween()})),this}},{key:"pause",value:function(){return Ke(this,Qe).forEach((function(e){return e.pause()})),this}},{key:"resume",value:function(){return Ke(this,Qe).forEach((function(e){return e.resume()})),this}},{key:"stop",value:function(e){return Ke(this,Qe).forEach((function(t){return t.stop(e)})),this}},{key:"tweenables",get:function(){return function(e){return function(e){if(Array.isArray(e))return We(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return We(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?We(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(Ke(this,Qe))}},{key:"promises",get:function(){return Ke(this,Qe).map((function(e){return e.then()}))}}])&&Ge(t.prototype,n),e}();var Xe=function(e,t,n,r,i){var a=function(e,t,n,r){return function(i){return function(e,t,n,r,i,a){var o,s,u,c,l,f=0,d=0,h=0,p=function(e){return((f*e+d)*e+h)*e},v=function(e){return(3*f*e+2*d)*e+h},m=function(e){return e>=0?e:0-e};return f=1-(h=3*t)-(d=3*(r-t)-h),u=1-(l=3*n)-(c=3*(i-n)-l),o=e,s=function(e){return 1/(200*e)}(a),function(e){return((u*e+c)*e+l)*e}(function(e,t){var n,r,i,a,o,s;for(i=e,s=0;s<8;s++){if(a=p(i)-e,m(a)<t)return i;if(o=v(i),m(o)<1e-6)break;i-=a/o}if((i=e)<(n=0))return n;if(i>(r=1))return r;for(;n<r;){if(a=p(i),m(a-e)<t)return i;e>a?n=i:r=i,i=.5*(r-n)+n}return i}(o,s))}(i,e,t,n,r,1)}}(t,n,r,i);return a.displayName=e,a.x1=t,a.y1=n,a.x2=r,a.y2=i,ve.formulas[e]=a},$e=function(e){return delete ve.formulas[e]};ve.filters.token=i}},t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={exports:{}};return e[r](i,i.exports,n),i.exports}return n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n(720)}()},kD.exports=yD();var wD="Webkit Moz O ms".split(" ");function xD(e,t,n){for(var r=e.style,i=0;i<wD.length;++i)r[wD[i]+_D(t)]=n;r[t]=n}function _D(e){return e.charAt(0).toUpperCase()+e.slice(1)}function SD(e){return!function(e){return"[object Array]"===Object.prototype.toString.call(e)}(e)&&"object"===typeof e&&!!e}function ED(e,t){for(var n in e)e.hasOwnProperty(n)&&t(e[n],n)}var ID={extend:function e(t,n,r){for(var i in t=t||{},r=r||!1,n=n||{})if(n.hasOwnProperty(i)){var a=t[i],o=n[i];r&&SD(a)&&SD(o)?t[i]=e(a,o,r):t[i]=o}return t},render:function(e,t){var n=e;for(var r in t)if(t.hasOwnProperty(r)){var i=t[r],a=new RegExp("\\{"+r+"\\}","g");n=n.replace(a,i)}return n},setStyle:xD,setStyles:function(e,t){ED(t,(function(t,n){null!=t&&(SD(t)&&!0===t.prefix?xD(e,n,t.value):e.style[n]=t)}))},capitalize:_D,isString:function(e){return"string"==typeof e||e instanceof String},isFunction:function(e){return"function"==typeof e},isObject:SD,forEachObject:ED,floatEquals:function(e,t){return Math.abs(e-t)<.001},removeChildren:function(e){for(;e.firstChild;)e.removeChild(e.firstChild)}},TD=kD.exports,CD=ID,ND=TD.Tweenable,OD={easeIn:"easeInCubic",easeOut:"easeOutCubic",easeInOut:"easeInOutCubic"},PD=function e(t,n){if(!(this instanceof e))throw new Error("Constructor was called without new keyword");var r;n=CD.extend({delay:0,duration:800,easing:"linear",from:{},to:{},step:function(){}},n),r=CD.isString(t)?document.querySelector(t):t,this.path=r,this._opts=n,this._tweenable=null;var i=this.path.getTotalLength();this.path.style.strokeDasharray=i+" "+i,this.set(0)};PD.prototype.value=function(){var e=this._getComputedDashOffset(),t=this.path.getTotalLength();return parseFloat((1-e/t).toFixed(6),10)},PD.prototype.set=function(e){this.stop(),this.path.style.strokeDashoffset=this._progressToOffset(e);var t=this._opts.step;if(CD.isFunction(t)){var n=this._easing(this._opts.easing);t(this._calculateTo(e,n),this._opts.shape||this,this._opts.attachment)}},PD.prototype.stop=function(){this._stopTween(),this.path.style.strokeDashoffset=this._getComputedDashOffset()},PD.prototype.animate=function(e,t,n){t=t||{},CD.isFunction(t)&&(n=t,t={});var r=CD.extend({},t),i=CD.extend({},this._opts);t=CD.extend(i,t);var a=this._easing(t.easing),o=this._resolveFromAndTo(e,a,r);this.stop(),this.path.getBoundingClientRect();var s=this._getComputedDashOffset(),u=this._progressToOffset(e),c=this;this._tweenable=new ND,this._tweenable.tween({from:CD.extend({offset:s},o.from),to:CD.extend({offset:u},o.to),duration:t.duration,delay:t.delay,easing:a,step:function(e){c.path.style.strokeDashoffset=e.offset;var n=t.shape||c;t.step(e,n,t.attachment)}}).then((function(e){CD.isFunction(n)&&n()}))},PD.prototype._getComputedDashOffset=function(){var e=window.getComputedStyle(this.path,null);return parseFloat(e.getPropertyValue("stroke-dashoffset"),10)},PD.prototype._progressToOffset=function(e){var t=this.path.getTotalLength();return t-e*t},PD.prototype._resolveFromAndTo=function(e,t,n){return n.from&&n.to?{from:n.from,to:n.to}:{from:this._calculateFrom(t),to:this._calculateTo(e,t)}},PD.prototype._calculateFrom=function(e){return TD.interpolate(this._opts.from,this._opts.to,this.value(),e)},PD.prototype._calculateTo=function(e,t){return TD.interpolate(this._opts.from,this._opts.to,e,t)},PD.prototype._stopTween=function(){null!==this._tweenable&&(this._tweenable.stop(),this._tweenable=null)},PD.prototype._easing=function(e){return OD.hasOwnProperty(e)?OD[e]:e};var AD=PD,RD=AD,jD=ID,DD="Object is destroyed",LD=function e(t,n){if(!(this instanceof e))throw new Error("Constructor was called without new keyword");if(0!==arguments.length){this._opts=jD.extend({color:"#555",strokeWidth:1,trailColor:null,trailWidth:null,fill:null,text:{style:{color:null,position:"absolute",left:"50%",top:"50%",padding:0,margin:0,transform:{prefix:!0,value:"translate(-50%, -50%)"}},autoStyleContainer:!0,alignToBottom:!0,value:null,className:"progressbar-text"},svgStyle:{display:"block",width:"100%"},warnings:!1},n,!0),jD.isObject(n)&&void 0!==n.svgStyle&&(this._opts.svgStyle=n.svgStyle),jD.isObject(n)&&jD.isObject(n.text)&&void 0!==n.text.style&&(this._opts.text.style=n.text.style);var r,i=this._createSvgView(this._opts);if(!(r=jD.isString(t)?document.querySelector(t):t))throw new Error("Container does not exist: "+t);this._container=r,this._container.appendChild(i.svg),this._opts.warnings&&this._warnContainerAspectRatio(this._container),this._opts.svgStyle&&jD.setStyles(i.svg,this._opts.svgStyle),this.svg=i.svg,this.path=i.path,this.trail=i.trail,this.text=null;var a=jD.extend({attachment:void 0,shape:this},this._opts);this._progressPath=new RD(i.path,a),jD.isObject(this._opts.text)&&null!==this._opts.text.value&&this.setText(this._opts.text.value)}};LD.prototype.animate=function(e,t,n){if(null===this._progressPath)throw new Error(DD);this._progressPath.animate(e,t,n)},LD.prototype.stop=function(){if(null===this._progressPath)throw new Error(DD);void 0!==this._progressPath&&this._progressPath.stop()},LD.prototype.pause=function(){if(null===this._progressPath)throw new Error(DD);void 0!==this._progressPath&&this._progressPath._tweenable&&this._progressPath._tweenable.pause()},LD.prototype.resume=function(){if(null===this._progressPath)throw new Error(DD);void 0!==this._progressPath&&this._progressPath._tweenable&&this._progressPath._tweenable.resume()},LD.prototype.destroy=function(){if(null===this._progressPath)throw new Error(DD);this.stop(),this.svg.parentNode.removeChild(this.svg),this.svg=null,this.path=null,this.trail=null,this._progressPath=null,null!==this.text&&(this.text.parentNode.removeChild(this.text),this.text=null)},LD.prototype.set=function(e){if(null===this._progressPath)throw new Error(DD);this._progressPath.set(e)},LD.prototype.value=function(){if(null===this._progressPath)throw new Error(DD);return void 0===this._progressPath?0:this._progressPath.value()},LD.prototype.setText=function(e){if(null===this._progressPath)throw new Error(DD);null===this.text&&(this.text=this._createTextContainer(this._opts,this._container),this._container.appendChild(this.text)),jD.isObject(e)?(jD.removeChildren(this.text),this.text.appendChild(e)):this.text.innerHTML=e},LD.prototype._createSvgView=function(e){var t=document.createElementNS("http://www.w3.org/2000/svg","svg");this._initializeSvg(t,e);var n=null;(e.trailColor||e.trailWidth)&&(n=this._createTrail(e),t.appendChild(n));var r=this._createPath(e);return t.appendChild(r),{svg:t,path:r,trail:n}},LD.prototype._initializeSvg=function(e,t){e.setAttribute("viewBox","0 0 100 100")},LD.prototype._createPath=function(e){var t=this._pathString(e);return this._createPathElement(t,e)},LD.prototype._createTrail=function(e){var t=this._trailString(e),n=jD.extend({},e);return n.trailColor||(n.trailColor="#eee"),n.trailWidth||(n.trailWidth=n.strokeWidth),n.color=n.trailColor,n.strokeWidth=n.trailWidth,n.fill=null,this._createPathElement(t,n)},LD.prototype._createPathElement=function(e,t){var n=document.createElementNS("http://www.w3.org/2000/svg","path");return n.setAttribute("d",e),n.setAttribute("stroke",t.color),n.setAttribute("stroke-width",t.strokeWidth),t.fill?n.setAttribute("fill",t.fill):n.setAttribute("fill-opacity","0"),n},LD.prototype._createTextContainer=function(e,t){var n=document.createElement("div");n.className=e.text.className;var r=e.text.style;return r&&(e.text.autoStyleContainer&&(t.style.position="relative"),jD.setStyles(n,r),r.color||(n.style.color=e.color)),this._initializeTextContainer(e,t,n),n},LD.prototype._initializeTextContainer=function(e,t,n){},LD.prototype._pathString=function(e){throw new Error("Override this function for each progress bar")},LD.prototype._trailString=function(e){throw new Error("Override this function for each progress bar")},LD.prototype._warnContainerAspectRatio=function(e){if(this.containerAspectRatio){var t=window.getComputedStyle(e,null),n=parseFloat(t.getPropertyValue("width"),10),r=parseFloat(t.getPropertyValue("height"),10);jD.floatEquals(this.containerAspectRatio,n/r)||(console.warn("Incorrect aspect ratio of container","#"+e.id,"detected:",t.getPropertyValue("width")+"(width)","/",t.getPropertyValue("height")+"(height)","=",n/r),console.warn("Aspect ratio of should be",this.containerAspectRatio))}};var MD=LD,UD=MD,FD=ID,zD=function(e,t){this._pathTemplate="M 0,{center} L 100,{center}",UD.apply(this,arguments)};(zD.prototype=new UD).constructor=zD,zD.prototype._initializeSvg=function(e,t){e.setAttribute("viewBox","0 0 100 "+t.strokeWidth),e.setAttribute("preserveAspectRatio","none")},zD.prototype._pathString=function(e){return FD.render(this._pathTemplate,{center:e.strokeWidth/2})},zD.prototype._trailString=function(e){return this._pathString(e)};var VD=zD,BD=MD,qD=ID,HD=function(e,t){this._pathTemplate="M 50,50 m 0,-{radius} a {radius},{radius} 0 1 1 0,{2radius} a {radius},{radius} 0 1 1 0,-{2radius}",this.containerAspectRatio=1,BD.apply(this,arguments)};(HD.prototype=new BD).constructor=HD,HD.prototype._pathString=function(e){var t=e.strokeWidth;e.trailWidth&&e.trailWidth>e.strokeWidth&&(t=e.trailWidth);var n=50-t/2;return qD.render(this._pathTemplate,{radius:n,"2radius":2*n})},HD.prototype._trailString=function(e){return this._pathString(e)};var WD=HD,GD=MD,KD=WD,QD=ID,YD=function(e,t){this._pathTemplate="M 50,50 m -{radius},0 a {radius},{radius} 0 1 1 {2radius},0",this.containerAspectRatio=2,GD.apply(this,arguments)};(YD.prototype=new GD).constructor=YD,YD.prototype._initializeSvg=function(e,t){e.setAttribute("viewBox","0 0 100 50")},YD.prototype._initializeTextContainer=function(e,t,n){e.text.style&&(n.style.top="auto",n.style.bottom="0",e.text.alignToBottom?QD.setStyle(n,"transform","translate(-50%, 0)"):QD.setStyle(n,"transform","translate(-50%, 50%)"))},YD.prototype._pathString=KD.prototype._pathString,YD.prototype._trailString=KD.prototype._trailString;var XD=YD,$D=MD,JD=ID,ZD=function(e,t){this._pathTemplate="M 0,{halfOfStrokeWidth} L {width},{halfOfStrokeWidth} L {width},{width} L {halfOfStrokeWidth},{width} L {halfOfStrokeWidth},{strokeWidth}",this._trailTemplate="M {startMargin},{halfOfStrokeWidth} L {width},{halfOfStrokeWidth} L {width},{width} L {halfOfStrokeWidth},{width} L {halfOfStrokeWidth},{halfOfStrokeWidth}",$D.apply(this,arguments)};(ZD.prototype=new $D).constructor=ZD,ZD.prototype._pathString=function(e){var t=100-e.strokeWidth/2;return JD.render(this._pathTemplate,{width:t,strokeWidth:e.strokeWidth,halfOfStrokeWidth:e.strokeWidth/2})},ZD.prototype._trailString=function(e){var t=100-e.strokeWidth/2;return JD.render(this._trailTemplate,{width:t,strokeWidth:e.strokeWidth,halfOfStrokeWidth:e.strokeWidth/2,startMargin:e.strokeWidth/2-e.trailWidth/2})};var eL,tL,nL={Line:VD,Circle:WD,SemiCircle:XD,Square:ZD,Path:AD,Shape:MD,utils:ID},rL=function(e){var t=e.animate,n=e.progressOptions,i=e.className,a=(0,r.useMemo)((function(){return eL=document.createElement("div"),new nL.Circle(eL,n)}),[]),o=(0,r.useCallback)((function(e){e&&e.appendChild(eL)}),[]);return(0,r.useEffect)((function(){a.animate(t)}),[t,a]),(0,nP.jsx)("div",{className:i,ref:o})},iL=function(){return iL=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},iL.apply(this,arguments)},aL=function(e){var t,n,r,i,a,o,s,u,c,l,f,d,h,p={strokeWidth:2.3,color:"#efe",trailColor:"#aaa",trailWidth:1,step:function(e,t){var n,r;t.path.setAttribute("trail",null===(n=null==e?void 0:e.state)||void 0===n?void 0:n.color),t.path.setAttribute("trailwidth-width",null===(r=null==e?void 0:e.state)||void 0===r?void 0:r.width);var i=Math.round(100*t.value());0===i?t.setText(""):t.setText(i)}},v=(null===(t=null==e?void 0:e.data)||void 0===t?void 0:t.status)&&!0===(null===(n=null==e?void 0:e.data)||void 0===n?void 0:n.status.error);return(0,nP.jsxs)("div",iL({className:"rce-mbox-photo"},{children:[(0,nP.jsxs)("div",iL({className:"rce-mbox-photo--img",style:iL({},(null===(r=null==e?void 0:e.data)||void 0===r?void 0:r.width)&&(null===(i=null==e?void 0:e.data)||void 0===i?void 0:i.height)&&{width:e.data.width,height:e.data.height})},{children:[(0,nP.jsx)("img",{src:null===(a=null==e?void 0:e.data)||void 0===a?void 0:a.uri,alt:null===(o=null==e?void 0:e.data)||void 0===o?void 0:o.alt,onClick:e.onOpen,onLoad:e.onLoad,onError:e.onPhotoError}),v&&(0,nP.jsx)("div",iL({className:"rce-mbox-photo--img__block"},{children:(0,nP.jsx)("span",iL({className:"rce-mbox-photo--img__block-item rce-mbox-photo--error"},{children:(0,nP.jsx)(mD,{})}))})),!v&&(null===(s=null==e?void 0:e.data)||void 0===s?void 0:s.status)&&!(null===(c=null===(u=null==e?void 0:e.data)||void 0===u?void 0:u.status)||void 0===c?void 0:c.download)&&(0,nP.jsxs)("div",iL({className:"rce-mbox-photo--img__block"},{children:[!(null===(l=null==e?void 0:e.data)||void 0===l?void 0:l.status.click)&&(0,nP.jsx)("button",iL({onClick:e.onDownload,className:"rce-mbox-photo--img__block-item rce-mbox-photo--download"},{children:(0,nP.jsx)(vD,{})})),"number"==typeof(null===(f=null==e?void 0:e.data)||void 0===f?void 0:f.status.loading)&&0!==(null===(d=null==e?void 0:e.data)||void 0===d?void 0:d.status.loading)&&(0,nP.jsx)(rL,{animate:null===(h=null==e?void 0:e.data)||void 0===h?void 0:h.status.loading,progressOptions:p,className:"rce-mbox-photo--img__block-item"})]}))]})),(null==e?void 0:e.text)&&(0,nP.jsx)("div",iL({className:"rce-mbox-text"},{children:e.text}))]}))},oL=function(){return oL=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},oL.apply(this,arguments)},sL=function(e){var t,n,r,i,a,o,s,u,c,l={strokeWidth:5,color:"#333",trailColor:"#aaa",trailWidth:5,step:function(e,t){t.path.setAttribute("trail",e.color),t.path.setAttribute("trailwidth-width",e.width);var n=Math.round(100*t.value());0===n?t.setText(""):t.setText(n)}},f=(null===(t=null==e?void 0:e.data)||void 0===t?void 0:t.status)&&!0===(null===(n=null==e?void 0:e.data)||void 0===n?void 0:n.status.error);return(0,nP.jsx)("div",oL({className:"rce-mbox-file"},{children:(0,nP.jsxs)("button",oL({onClick:function(t){var n,r,i;(null===(n=null==e?void 0:e.data)||void 0===n?void 0:n.status)&&(!(null===(r=null==e?void 0:e.data)||void 0===r?void 0:r.status.download)&&e.onDownload instanceof Function?e.onDownload(t):(null===(i=null==e?void 0:e.data)||void 0===i?void 0:i.status.download)&&e.onOpen instanceof Function&&e.onOpen(t))}},{children:[(0,nP.jsxs)("div",oL({className:"rce-mbox-file--icon"},{children:[(0,nP.jsx)(gD,{color:"#aaa"}),(0,nP.jsx)("div",oL({className:"rce-mbox-file--size"},{children:null==e?void 0:e.data.size}))]})),(0,nP.jsx)("div",oL({className:"rce-mbox-file--text"},{children:e.text})),(0,nP.jsxs)("div",oL({className:"rce-mbox-file--buttons"},{children:[f&&(0,nP.jsx)("span",oL({className:"rce-error-button"},{children:(0,nP.jsx)(mD,{color:"#ff3d3d"})})),!f&&(null===(r=null==e?void 0:e.data)||void 0===r?void 0:r.status)&&!(null===(i=null==e?void 0:e.data)||void 0===i?void 0:i.status.download)&&!(null===(a=null==e?void 0:e.data)||void 0===a?void 0:a.status.click)&&(0,nP.jsx)(vD,{color:"#aaa"}),!f&&(null===(o=null==e?void 0:e.data)||void 0===o?void 0:o.status)&&"number"==typeof(null===(s=null==e?void 0:e.data)||void 0===s?void 0:s.status.loading)&&0!==(null===(u=null==e?void 0:e.data)||void 0===u?void 0:u.status.loading)&&(0,nP.jsx)(rL,{animate:null===(c=null==e?void 0:e.data)||void 0===c?void 0:c.status.loading,className:"rce-mbox-file--loading",progressOptions:l})]}))]}))}))},uL={exports:{}};tL=uL,function(){var e={}.hasOwnProperty;function t(){for(var n=[],r=0;r<arguments.length;r++){var i=arguments[r];if(i){var a=typeof i;if("string"===a||"number"===a)n.push(i);else if(Array.isArray(i)){if(i.length){var o=t.apply(null,i);o&&n.push(o)}}else if("object"===a){if(i.toString!==Object.prototype.toString&&!i.toString.toString().includes("[native code]")){n.push(i.toString());continue}for(var s in i)e.call(i,s)&&i[s]&&n.push(s)}}}return n.join(" ")}tL.exports?(t.default=t,tL.exports=t):window.classNames=t}();var cL=uL.exports,lL=function(){return lL=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},lL.apply(this,arguments)},fL=function(e){return(0,nP.jsx)("div",lL({className:cL("rce-container-smsg",e.className)},{children:(0,nP.jsx)("div",lL({className:"rce-smsg"},{children:(0,nP.jsx)("div",lL({className:"rce-smsg-text"},{children:e.text}))}))}))},dL=function(){return dL=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},dL.apply(this,arguments)},hL=function(e){var t,n=e.markerColor,r=void 0===n?"red":n,i=e.target,a=void 0===i?"_blank":i,o=e.zoom,s=void 0===o?"14":o,u=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}(e,["markerColor","target","zoom"]),c=function(e){return e.replace(/LATITUDE/g,null==u?void 0:u.data.latitude).replace(/LONGITUDE/g,null==u?void 0:u.data.longitude).replace("MARKER_COLOR",r).replace("ZOOM",s).replace("KEY",u.apiKey)};return(0,nP.jsxs)("div",dL({className:"rce-container-lmsg"},{children:[(0,nP.jsx)("a",dL({onClick:u.onOpen,target:a,href:u.href||u.src||c(u.data.mapURL||"https://www.google.com/maps/search/?api=1&query=LATITUDE,LONGITUDE&zoom=ZOOM"),className:(t=cL("rce-mbox-location",u.className),u.text&&(t=cL(t,"rce-mbox-location-has-text")),t)},{children:(0,nP.jsx)("img",{onError:u.onError,className:"rce-mbox-location-img",src:u.src||c(u.data.staticURL||"https://maps.googleapis.com/maps/api/staticmap?markers=color:MARKER_COLOR|LATITUDE,LONGITUDE&zoom=ZOOM&size=270x200&scale=2&key=KEY")})})),u.text&&(0,nP.jsx)("div",dL({className:"rce-mbox-text rce-mbox-location-text"},{children:u.text}))]}))},pL=function(){return pL=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},pL.apply(this,arguments)},vL=function(e){var t=e.width,n=void 0===t?300:t,r=e.height,i=void 0===r?380:r,a=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}(e,["width","height"]);return a.uri?(0,nP.jsx)("div",pL({className:"rce-mbox-spotify"},{children:(0,nP.jsx)("iframe",{src:"https://open.spotify.com/embed?"+function(){var e=[];for(var t in a){var n=encodeURIComponent(t),r=encodeURIComponent(a[t]);e.push(n+"="+r)}return e.join("&")}(),width:n,height:i,frameBorder:"0",allowTransparency:!0})})):null},mL=function(){return mL=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},mL.apply(this,arguments)},gL=function(e){var t=e.onClick,n=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}(e,["onClick"]);return(0,nP.jsxs)("div",mL({className:cL("rce-mbox-reply",{"rce-mbox-reply-border":!!n.titleColor}),style:mL({},n.titleColor&&{borderColor:n.titleColor}),onClick:t},{children:[(0,nP.jsxs)("div",mL({className:"rce-mbox-reply-left"},{children:[(0,nP.jsx)("div",mL({style:mL({},n.titleColor&&{color:n.titleColor}),className:"rce-mbox-reply-owner"},{children:n.title||"Unknown"})),(0,nP.jsx)("div",mL({className:"rce-mbox-reply-message"},{children:n.message||"..."}))]})),n.photoURL&&(0,nP.jsx)("div",mL({className:"rce-mbox-reply-right"},{children:(0,nP.jsx)("img",{src:n.photoURL,alt:""})}))]}))};function yL(e){return lD({tag:"svg",attr:{fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 10l4.553-2.276A1 1 0 0121 8.618v6.764a1 1 0 01-1.447.894L15 14M5 18h8a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v8a2 2 0 002 2z"}}]})(e)}function bL(e){return lD({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M317.5 210.3c1.7-1.8 1.8-4.7 0-6.5l-19.8-21c-.8-.9-2-1.4-3.2-1.4-1.2 0-2.4.5-3.2 1.4l-66.5 69.1 26.4 27.1 66.3-68.7zM123.8 253.1c-.9-.9-2-1.4-3.2-1.4-1.2 0-2.3.5-3.2 1.4l-20.1 20.7c-1.8 1.8-1.8 4.8 0 6.6l63.2 65c4 4.2 9 6.6 13.2 6.6 6 0 11.1-4.5 13.1-6.4l.1-.1 13.4-13.8-76.5-78.6z"}},{tag:"path",attr:{d:"M414.7 182.4l-19.8-21c-.8-.9-2-1.4-3.2-1.4-1.2 0-2.4.5-3.2 1.4L250.7 304.1l-50.1-51.6c-.9-.9-2-1.4-3.2-1.4-1.2 0-2.3.5-3.2 1.4l-20.1 20.7c-1.8 1.8-1.8 4.8 0 6.6l63.2 65c4 4.2 9 6.6 13.2 6.6 6 0 11.1-4.5 13.1-6.4l.1-.1 151-156.1c1.7-1.7 1.7-4.6 0-6.4z"}}]})(e)}function kL(e){return lD({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M391.553 64H57.607C53.131 64 48 67.745 48 72.159v214.217c0 4.413 5.131 8.624 9.607 8.624H115v88.894L205.128 295h186.425c4.477 0 7.447-4.211 7.447-8.624V72.159c0-4.414-2.971-8.159-7.447-8.159z"}},{tag:"path",attr:{d:"M456.396 127H424v166.57c0 15.987-6.915 26.43-25.152 26.43H218.096l-38.905 39h129.688L399 448v-89h57.396c4.478 0 7.604-4.262 7.604-8.682V136.103c0-4.414-3.126-9.103-7.604-9.103z"}}]})(e)}function wL(e){return lD({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"}}]})(e)}function xL(e){return lD({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M18 7l-1.41-1.41-6.34 6.34 1.41 1.41L18 7zm4.24-1.41L11.66 16.17 7.48 12l-1.41 1.41L11.66 19l12-12-1.42-1.41zM.41 13.41L6 19l1.41-1.41L1.83 12 .41 13.41z"}}]})(e)}function _L(e){return lD({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M20 2H4c-1.1 0-1.99.9-1.99 2L2 22l4-4h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm-2 12H6v-2h12v2zm0-3H6V9h12v2zm0-3H6V6h12v2z"}}]})(e)}function SL(e){return lD({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zM4 12c0-4.42 3.58-8 8-8 1.85 0 3.55.63 4.9 1.69L5.69 16.9A7.902 7.902 0 014 12zm8 8c-1.85 0-3.55-.63-4.9-1.69L18.31 7.1A7.902 7.902 0 0120 12c0 4.42-3.58 8-8 8z"}}]})(e)}function EL(e){return lD({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}},{tag:"path",attr:{d:"M12.5 7H11v6l5.25 3.15.75-1.23-4.5-2.67z"}}]})(e)}function IL(e){return lD({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"}}]})(e)}function TL(e){return lD({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M6 10c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm12 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm-6 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"}}]})(e)}var CL=["second","minute","hour","day","week","month","year"],NL=["\u79d2","\u5206\u949f","\u5c0f\u65f6","\u5929","\u5468","\u4e2a\u6708","\u5e74"],OL={},PL=function(e,t){OL[e]=t},AL=[60,60,24,7,365/7/12,12];function RL(e){return e instanceof Date?e:!isNaN(e)||/^\d+$/.test(e)?new Date(parseInt(e)):(e=(e||"").trim().replace(/\.\d+/,"").replace(/-/,"/").replace(/-/,"/").replace(/(\d)T(\d)/,"$1 $2").replace(/Z/," UTC").replace(/([+-]\d\d):?(\d\d)/," $1$2"),new Date(e))}var jL=function(e,t,n){var r=function(e,t){return(+(t?RL(t):new Date)-+RL(e))/1e3}(e,n&&n.relativeDate);return function(e,t){for(var n=e<0?1:0,r=e=Math.abs(e),i=0;e>=AL[i]&&i<AL.length;i++)e/=AL[i];return(e=Math.floor(e))>(0==(i*=2)?9:1)&&(i+=1),t(e,i,r)[n].replace("%s",e.toString())}(r,function(e){return OL[e]||OL.en_US}(t))};PL("en_US",(function(e,t){if(0===t)return["just now","right now"];var n=CL[Math.floor(t/2)];return e>1&&(n+="s"),[e+" "+n+" ago","in "+e+" "+n]})),PL("zh_CN",(function(e,t){if(0===t)return["\u521a\u521a","\u7247\u523b\u540e"];var n=NL[~~(t/2)];return[e+" "+n+"\u524d",e+" "+n+"\u540e"]}));var DL=function(){return DL=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},DL.apply(this,arguments)},LL=function(e){var t=e.type,n=void 0===t?"default":t,i=e.size,a=void 0===i?"default":i,o=e.lazyLoadingImage,s=void 0===o?void 0:o,u=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}(e,["type","size","lazyLoadingImage"]),c=[],l=!1,f=u.src,d=!1;(0,r.useEffect)((function(){s&&(d=!0,h(f)?d=!1:(f=s,l||p(u.src)))}),[]);var h=function(e){return-1!==c.indexOf(e)},p=function(e){l=!0;var t=function(){c.push(e),l=!1},n=document.createElement("img");n.src=e,n.onload=t,n.onerror=t};return(0,nP.jsxs)("div",DL({className:cL("rce-avatar-container",n,a,u.className)},{children:[u.letterItem?(0,nP.jsx)("div",DL({className:"rce-avatar-letter-background",style:{backgroundColor:function(e){for(var t=0,n=0;n<e.length;n++)t=e.charCodeAt(n)+((t<<5)-t);var r="#";for(n=0;n<3;n++){var i=t>>8*n&255;r+=("00"+(i=i%150+50).toString(16)).substr(-2)}return r}(u.letterItem.id)}},{children:(0,nP.jsx)("span",DL({className:"rce-avatar-letter"},{children:u.letterItem.letter}))})):(0,nP.jsx)("img",{alt:u.alt,src:f,onError:u.onError,className:cL("rce-avatar",{"rce-avatar-lazy":d})}),u.sideElement]}))},ML=function(){return ML=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},ML.apply(this,arguments)},UL=function(e){var t=e.disabled,n=void 0!==t&&t,r=e.backgroundColor,i=void 0===r?"#3979aa":r,a=e.color,o=void 0===a?"white":a,s=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}(e,["disabled","backgroundColor","color"]);return(0,nP.jsx)("button",ML({ref:s.buttonRef,title:s.title,className:cL("rce-button",s.type,s.className),style:{backgroundColor:i,color:o,borderColor:i},disabled:n,onClick:s.onClick},{children:s.icon?(0,nP.jsxs)("span",ML({className:"rce-button-icon--container"},{children:[("right"===s.icon.float||!s.icon.float)&&(0,nP.jsx)("span",{children:s.text}),(0,nP.jsx)("span",ML({style:{float:s.icon.float,fontSize:s.icon.size||12},className:"rce-button-icon"},{children:s.icon.component})),"left"===s.icon.float&&(0,nP.jsx)("span",{children:s.text})]})):(0,nP.jsx)("span",{children:s.text})}))},FL=function(){return FL=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},FL.apply(this,arguments)},zL=function(e){var t,n=e.animationPosition,i=void 0===n?"nortwest":n,a=e.animationType,o=void 0===a?"default":a,s=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}(e,["animationPosition","animationType"]),u=(0,r.useState)(void 0),c=u[0],l=u[1];return(0,nP.jsxs)("div",FL({className:cL("rce-dropdown-container",s.className),onBlur:function(){!0===c&&l(!1)}},{children:[(0,nP.jsx)(UL,FL({},s.buttonProps,{onClick:function(){return l(!c)}})),(0,nP.jsx)("div",FL({className:cL("rce-dropdown",o,"rce-dropdown-open__"+i,{"dropdown-hide":!1===c},{"dropdown-show":!0===c})},{children:(0,nP.jsxs)("ul",{children:[s.title&&(0,nP.jsx)("span",FL({className:"rce-dropdown-title"},{children:s.title})),null===(t=s.items)||void 0===t?void 0:t.map((function(e,t){return(0,nP.jsx)("li",FL({onMouseDown:function(e){return s.onSelect(t)}},{children:e instanceof Object?e.icon?(0,nP.jsxs)("span",FL({className:"rce-button-icon--container"},{children:[("right"===e.icon.float||!e.icon.float)&&(0,nP.jsx)("a",{children:e.text}),(0,nP.jsx)("span",FL({style:{float:e.icon.float,color:e.icon.color,fontSize:e.icon.size||12},className:cL("rce-button-icon",e.icon.className)},{children:e.icon.component})),"left"===e.icon.float&&(0,nP.jsx)("a",{children:e.text})]})):(0,nP.jsx)("a",{children:e.text}):(0,nP.jsx)("a",{children:e})}),t)}))]})}))]}))},VL=function(){return VL=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},VL.apply(this,arguments)},BL=function(e){var t=e.date,n=e.dateString,i=e.title,a=e.subject,o=e.collapseTitle,s=e.moreItems,u=e.participants,c=e.dataSource,l=e.onClick,f=e.onMeetingTitleClick,d=e.onMeetingVideoLinkClick,h=e.onMeetingMoreSelect,p=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}(e,["date","dateString","title","subject","collapseTitle","moreItems","participants","dataSource","onClick","onMeetingTitleClick","onMeetingVideoLinkClick","onMeetingMoreSelect"]),v=(0,r.useState)(!1),m=v[0],g=v[1],y=p.participantsLimit,b=n||t&&jL(t);return(0,nP.jsx)("div",VL({className:"rce-mbox-mtmg"},{children:(0,nP.jsxs)("div",VL({className:"rce-mtmg"},{children:[(0,nP.jsx)("div",VL({className:"rce-mtmg-subject"},{children:a||"Unknown Meeting"})),(0,nP.jsxs)("div",VL({className:"rce-mtmg-body",onClick:l},{children:[(0,nP.jsxs)("div",VL({className:"rce-mtmg-item"},{children:[(0,nP.jsx)(dD,{}),(0,nP.jsxs)("div",VL({className:"rce-mtmg-content"},{children:[(0,nP.jsx)("span",VL({className:"rce-mtmg-title"},{children:i})),(0,nP.jsx)("span",VL({className:"rce-mtmg-date"},{children:b}))]}))]})),h&&s&&s.length>0&&(0,nP.jsx)("div",{children:(0,nP.jsx)(zL,{animationType:"bottom",animationPosition:"norteast",buttonProps:{className:"rce-mtmg-right-icon",icon:{component:(0,nP.jsx)(TL,{}),size:24}},items:s,onSelect:h})})]})),(0,nP.jsx)("div",VL({className:"rce-mtmg-body-bottom",onClick:function(){g(!m)}},{children:(0,nP.jsxs)("div",!0===m?VL({className:"rce-mtmg-bottom--tptitle"},{children:[(0,nP.jsx)(hD,{}),(0,nP.jsx)("span",{children:o})]}):VL({className:"rce-mtmg-body-bottom--bttitle"},{children:[(0,nP.jsx)(pD,{}),(0,nP.jsxs)("span",{children:[null==u?void 0:u.slice(0,y).map((function(e){return e.title||"Unknow"})).join(", "),u&&y&&u.length>y&&", +".concat(u.length-y)]})]}))})),(0,nP.jsx)("div",VL({className:cL("rce-mtmg-toogleContent",{"rce-mtmg-toogleContent--click":!0===m})},{children:c&&c.map((function(e,t){return(0,nP.jsxs)("div",{children:[!e.event&&(0,nP.jsxs)("div",VL({className:"rce-mitem"},{children:[(0,nP.jsx)("div",VL({className:cL("rce-mitem avatar",{"rce-mitem no-avatar":!e.avatar})},{children:e.avatar?(0,nP.jsx)(LL,{src:e.avatar}):(0,nP.jsx)(kL,{})})),(0,nP.jsxs)("div",VL({className:"rce-mitem-body"},{children:[(0,nP.jsxs)("div",VL({className:"rce-mitem-body--top"},{children:[(0,nP.jsx)("div",VL({className:"rce-mitem-body--top-title",onClick:function(n){f instanceof Function&&f(e,t,n)}},{children:e.title})),(0,nP.jsx)("div",VL({className:"rce-mitem-body--top-time"},{children:e.dateString?e.dateString:e.date&&e.date&&jL(e.date)}))]})),(0,nP.jsx)("div",VL({className:"rce-mitem-body--bottom"},{children:(0,nP.jsx)("div",VL({className:"rce-mitem-body--bottom-title"},{children:e.message}))}))]}))]})),e.event&&(0,nP.jsx)("div",VL({className:"rce-mitem-event"},{children:(0,nP.jsxs)("div",VL({className:"rce-mitem-bottom-body"},{children:[(0,nP.jsx)("div",VL({className:"rce-mitem-body avatar"},{children:(0,nP.jsx)(yL,{})})),(0,nP.jsxs)("div",VL({className:"rce-mitem-bottom-body-top"},{children:[e.event.title,(0,nP.jsx)("div",VL({className:"rce-mitem-body--top-time"},{children:e.dateString?e.dateString:e.date&&jL(e.date)})),(0,nP.jsx)("div",VL({className:"rce-mitem-avatar-content"},{children:(0,nP.jsxs)("div",VL({className:"rce-mitem-avatar"},{children:[e.event.avatars&&e.event.avatars.slice(0,e.event.avatarsLimit).map((function(e,t){return(0,nP.jsx)(LL,{src:e.src},t)})),e.event.avatars&&e.event.avatarsLimit&&e.event.avatars.length>e.event.avatarsLimit&&(0,nP.jsx)("div",VL({className:"rce-mitem-length rce-mitem-tooltip",tooltip:e.event.avatars.slice(e.event.avatarsLimit,e.event.avatars.length).map((function(e){return e.title})).join(",").toString()},{children:(0,nP.jsx)("span",VL({className:"rce-mitem-tooltip-text"},{children:"+"+(e.event.avatars.length-e.event.avatarsLimit)}))}))]}))})),e.record&&(0,nP.jsx)("div",VL({className:"rce-mtmg-call-record"},{children:(0,nP.jsxs)("div",VL({className:"rce-mtmg-call-body"},{children:[(0,nP.jsxs)("div",VL({onClick:function(n){d instanceof Function&&d(e,t,n)},className:"rce-mtmg-call-avatars"},{children:[(0,nP.jsx)(LL,{className:"rce-mtmg-call-avatars",src:e.record.avatar}),(0,nP.jsx)("div",VL({className:"rce-mtmg-record-time"},{children:e.record.time}))]})),(0,nP.jsxs)("div",VL({className:"rce-mtmg-call-body-title"},{children:[(0,nP.jsx)("span",{children:e.record.title}),(0,nP.jsx)("div",VL({className:"rce-mtmg-call-body-bottom"},{children:e.record.savedBy}))]}))]}))}))]}))]}))}))]},t)}))}))]}))}))},qL=function(){return qL=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},qL.apply(this,arguments)},HL=function(e){var t,n,r,i,a,o={strokeWidth:2.3,color:"#efe",trailColor:"#aaa",trailWidth:1,step:function(e,t){var n,r;t.path.setAttribute("trail",void 0!==e.state&&(null===(n=null==e?void 0:e.state)||void 0===n?void 0:n.color)||""),t.path.setAttribute("trailwidth-width",void 0!==e.state&&(null===(r=null==e?void 0:e.state)||void 0===r?void 0:r.width)||"");var i=Math.round(100*(null==t?void 0:t.value()));0===i?null==t||t.setText(""):null==t||t.setText(i)}},s=(null===(t=null==e?void 0:e.data)||void 0===t?void 0:t.status)&&!0===(null===(n=null==e?void 0:e.data)||void 0===n?void 0:n.status.error),u=(null===(r=null==e?void 0:e.data)||void 0===r?void 0:r.status)&&(null===(i=null==e?void 0:e.data)||void 0===i?void 0:i.status.download);return(0,nP.jsxs)("div",qL({className:cL("rce-mbox-video",{"padding-time":!(null==e?void 0:e.text)})},{children:[(0,nP.jsxs)("div",qL({className:"rce-mbox-video--video",style:qL({},(null==e?void 0:e.data.width)&&(null==e?void 0:e.data.height)&&{width:e.data.width,height:e.data.height})},{children:[!u&&(0,nP.jsx)("img",{src:null==e?void 0:e.data.uri,alt:null==e?void 0:e.data.alt,onClick:e.onOpen,onLoad:e.onLoad,onError:e.onPhotoError}),u&&(0,nP.jsxs)("video",qL({controls:!0,controlsList:e.controlsList},{children:[(0,nP.jsx)("source",{src:null==e?void 0:e.data.videoURL,type:"video/mp4"}),"Your browser does not support HTML video."]})),s&&(0,nP.jsx)("div",qL({className:"rce-mbox-video--video__block"},{children:(0,nP.jsx)("span",qL({className:"rce-mbox-video--video__block-item rce-mbox-video--error"},{children:(0,nP.jsx)(mD,{})}))})),!s&&(null===(a=null==e?void 0:e.data)||void 0===a?void 0:a.status)&&!u&&(0,nP.jsxs)("div",qL({className:"rce-mbox-video--video__block"},{children:[!e.data.status.click&&(0,nP.jsx)("button",qL({onClick:e.onDownload,className:"rce-mbox-video--video__block-item rce-mbox-video--download"},{children:(0,nP.jsx)(vD,{})})),"number"==typeof e.data.status.loading&&0!==e.data.status.loading&&(0,nP.jsx)(rL,{animate:e.data.status.loading,className:"rce-mbox-video--video__block-item",progressOptions:o})]}))]})),(null==e?void 0:e.text)&&(0,nP.jsx)("div",qL({className:"rce-mbox-text"},{children:e.text}))]}))},WL=function(){return WL=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},WL.apply(this,arguments)},GL=function(e){var t=e.data.controlsList;return(0,nP.jsxs)("div",WL({className:"rce-mbox-audio",style:e.customStyle},{children:[(0,nP.jsxs)("audio",WL({},e.audioProps,{controls:!0,controlsList:t||"nodownload"},{children:[(0,nP.jsx)("source",{src:e.data.audioURL,type:e.data.audioType||"audio/mp3"}),"Your browser does not support the audio element."]})),e.text&&(0,nP.jsx)("div",WL({className:"rce-mbox-text"},{children:e.text}))]}))},KL=function(){return KL=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},KL.apply(this,arguments)},QL=function(e){var t;return(0,nP.jsx)("div",KL({className:"rce-mtlink"},{children:(0,nP.jsxs)("div",KL({className:"rce-mtlink-content"},{children:[(0,nP.jsx)("div",KL({className:"rce-mtlink-item"},{children:(0,nP.jsx)("div",KL({className:"rce-mtlink-title"},{children:e.text}))})),(0,nP.jsx)("div",KL({className:"rce-mtlink-btn"},{children:null===(t=null==e?void 0:e.actionButtons)||void 0===t?void 0:t.map((function(t){return(0,nP.jsx)("div",KL({className:"rce-mtlink-btn-content",onClick:function(){var n;return t.onClickButton(null!==(n=null==e?void 0:e.meetingID)&&void 0!==n?n:"")}},{children:(0,nP.jsx)(t.Component,{})}))}))}))]}))}))};function YL(e){return lD({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"g",attr:{},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M13 14h-2a8.999 8.999 0 0 0-7.968 4.81A10.136 10.136 0 0 1 3 18C3 12.477 7.477 8 13 8V3l10 8-10 8v-5z"}}]}]})(e)}var XL=function(){return XL=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},XL.apply(this,arguments)},$L=function(e){var t=e.focus,n=void 0!==t&&t,i=e.notch,a=void 0===i||i,o=e.styles,s=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}(e,["focus","notch","styles"]),u=(0,r.useRef)(n),c=(0,r.useRef)(null),l=cL("rce-mbox",{"rce-mbox-right":"right"===s.position}),f=!(/(text|video|file|meeting|audio)/g.test(s.type||"text")||"location"===s.type&&s.text),d=s.date&&(s.dateString||jL(s.date));return(0,r.useEffect)((function(){var e;u.current!==n&&!0===n&&c&&(null===(e=c.current)||void 0===e||e.scrollIntoView({block:"center",behavior:"smooth"}),s.onMessageFocused(u)),u.current=n}),[n,u]),(0,nP.jsxs)("div",XL({ref:c,className:cL("rce-container-mbox",s.className),onClick:s.onClick},{children:[s.renderAddCmp instanceof Function?s.renderAddCmp():s.renderAddCmp,"system"===s.type?(0,nP.jsx)(fL,XL({},s,{focus:n,notch:a})):(0,nP.jsxs)("div",XL({style:o,className:cL(l,{"rce-mbox--clear-padding":f},{"rce-mbox--clear-notch":!a},{"message-focus":n})},{children:[(0,nP.jsxs)("div",XL({className:"rce-mbox-body",onContextMenu:s.onContextMenu},{children:[!s.retracted&&!0===s.forwarded&&(0,nP.jsx)("div",XL({className:cL("rce-mbox-forward",{"rce-mbox-forward-right":"left"===s.position},{"rce-mbox-forward-left":"right"===s.position}),onClick:s.onForwardClick},{children:(0,nP.jsx)(YL,{})})),!s.retracted&&!0===s.replyButton&&(0,nP.jsx)("div",XL({className:!0!==s.forwarded?cL("rce-mbox-forward",{"rce-mbox-forward-right":"left"===s.position},{"rce-mbox-forward-left":"right"===s.position}):cL("rce-mbox-forward",{"rce-mbox-reply-btn-right":"left"===s.position},{"rce-mbox-reply-btn-left":"right"===s.position}),onClick:s.onReplyClick},{children:(0,nP.jsx)(_L,{})})),!s.retracted&&!0===s.removeButton&&(0,nP.jsx)("div",XL({className:!0===s.forwarded?cL("rce-mbox-remove",{"rce-mbox-remove-right":"left"===s.position},{"rce-mbox-remove-left":"right"===s.position}):cL("rce-mbox-forward",{"rce-mbox-reply-btn-right":"left"===s.position},{"rce-mbox-reply-btn-left":"right"===s.position}),onClick:s.onRemoveMessageClick},{children:(0,nP.jsx)(wL,{})})),(s.title||s.avatar)&&(0,nP.jsxs)("div",XL({style:XL({},s.titleColor&&{color:s.titleColor}),onClick:s.onTitleClick,className:cL("rce-mbox-title",{"rce-mbox-title--clear":"text"===s.type})},{children:[s.avatar&&(0,nP.jsx)(LL,{letterItem:s.letterItem,src:s.avatar}),s.title&&(0,nP.jsx)("span",{children:s.title})]})),s.reply&&(0,nP.jsx)(gL,XL({onClick:s.onReplyMessageClick},s.reply)),"text"===s.type&&(0,nP.jsxs)("div",XL({className:cL("rce-mbox-text",{"rce-mbox-text-retracted":s.retracted,left:"left"===s.position,right:"right"===s.position})},{children:[s.retracted&&(0,nP.jsx)(SL,{}),s.text]})),"location"===s.type&&(0,nP.jsx)(hL,XL({focus:n,notch:a},s)),"photo"===s.type&&(0,nP.jsx)(aL,XL({focus:n,notch:a},s)),"video"===s.type&&(0,nP.jsx)(HL,XL({focus:n,notch:a},s)),"file"===s.type&&(0,nP.jsx)(sL,XL({focus:n,notch:a},s)),"spotify"===s.type&&(0,nP.jsx)(vL,XL({focus:n,notch:a},s)),"meeting"===s.type&&(0,nP.jsx)(BL,XL({focus:n,notch:a},s)),"audio"===s.type&&(0,nP.jsx)(GL,XL({focus:n,notch:a},s)),"meetingLink"===s.type&&(0,nP.jsx)(QL,XL({focus:n,notch:a},s,{actionButtons:null==s?void 0:s.actionButtons})),(0,nP.jsxs)("div",XL({title:s.statusTitle,className:cL("rce-mbox-time",{"rce-mbox-time-block":f},{"non-copiable":!s.copiableDate}),"data-text":s.copiableDate?void 0:d},{children:[s.copiableDate&&s.date&&(s.dateString||jL(s.date)),s.status&&(0,nP.jsxs)("span",XL({className:"rce-mbox-status"},{children:["waiting"===s.status&&(0,nP.jsx)(EL,{}),"sent"===s.status&&(0,nP.jsx)(IL,{}),"received"===s.status&&(0,nP.jsx)(bL,{}),"read"===s.status&&(0,nP.jsx)(xL,{color:"#4FC3F7"})]}))]}))]})),a&&("right"===s.position?(0,nP.jsx)("svg",XL({style:s.notchStyle,className:cL("rce-mbox-right-notch",{"message-focus":n}),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},{children:(0,nP.jsx)("path",{d:"M0 0v20L20 0"})})):(0,nP.jsx)("div",{children:(0,nP.jsxs)("svg",XL({style:s.notchStyle,className:cL("rce-mbox-left-notch",{"message-focus":n}),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},{children:[(0,nP.jsx)("defs",{children:(0,nP.jsxs)("filter",XL({id:"filter1",x:"0",y:"0"},{children:[(0,nP.jsx)("feOffset",{result:"offOut",in:"SourceAlpha",dx:"-2",dy:"-5"}),(0,nP.jsx)("feGaussianBlur",{result:"blurOut",in:"offOut",stdDeviation:"3"}),(0,nP.jsx)("feBlend",{in:"SourceGraphic",in2:"blurOut",mode:"normal"})]}))}),(0,nP.jsx)("path",{d:"M20 0v20L0 0",filter:"url(#filter1)"})]}))}))]}))]}))},JL=function(){return JL=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},JL.apply(this,arguments)},ZL=function(e){var t,n=e.type,i=void 0===n?"text":n,a=e.multiline,o=void 0!==a&&a,s=e.minHeight,u=void 0===s?25:s,c=e.maxHeight,l=void 0===c?200:c,f=e.autoHeight,d=void 0===f||f,h=e.autofocus,p=void 0!==h&&h,v=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}(e,["type","multiline","minHeight","maxHeight","autoHeight","autofocus"]);(0,r.useEffect)((function(){var e,t;!0===p&&(null===(t=null===(e=v.referance)||void 0===e?void 0:e.current)||void 0===t||t.focus()),v.clear instanceof Function&&v.clear(g)}),[]);var m=function(e){var t,n;if(!(v.maxlength&&(e.target.value||"").length>v.maxlength&&(v.onMaxLengthExceed instanceof Function&&v.onMaxLengthExceed(),(null===(n=null===(t=v.referance)||void 0===t?void 0:t.current)||void 0===n?void 0:n.value)==(e.target.value||"").substring(0,v.maxlength)))&&(v.onChange instanceof Function&&v.onChange(e),!0===o&&!0===d)){e.target.style.height!==u+"px"&&(e.target.style.height=u+"px");var r;r=e.target.scrollHeight<=l?e.target.scrollHeight+"px":l+"px",e.target.style.height!==r&&(e.target.style.height=r)}},g=function(){var e,t,n,r={FAKE_EVENT:!0,target:null===(e=v.referance)||void 0===e?void 0:e.current};(null===(n=null===(t=v.referance)||void 0===t?void 0:t.current)||void 0===n?void 0:n.value)&&(v.referance.current.value=""),m(r)};return(0,nP.jsxs)("div",JL({className:cL("rce-container-input",v.className)},{children:[v.leftButtons&&(0,nP.jsx)("div",JL({className:"rce-input-buttons"},{children:v.leftButtons})),!1===o?(0,nP.jsx)("input",{ref:v.referance,type:i,className:cL("rce-input"),placeholder:v.placeholder,defaultValue:v.defaultValue,style:v.inputStyle,onChange:m,onCopy:v.onCopy,onCut:v.onCut,onPaste:v.onPaste,onBlur:v.onBlur,onFocus:v.onFocus,onSelect:v.onSelect,onSubmit:v.onSubmit,onReset:v.onReset,onKeyDown:v.onKeyDown,onKeyPress:v.onKeyPress,onKeyUp:v.onKeyUp,value:v.value}):(0,nP.jsx)("textarea",JL({ref:v.referance,className:cL("rce-input","rce-input-textarea"),placeholder:v.placeholder,defaultValue:v.defaultValue,style:v.inputStyle,onChange:m,onCopy:v.onCopy,onCut:v.onCut,onPaste:v.onPaste,onBlur:v.onBlur,onFocus:v.onFocus,onSelect:v.onSelect,onSubmit:v.onSubmit,onReset:v.onReset,onKeyDown:v.onKeyDown,onKeyPress:v.onKeyPress,onKeyUp:v.onKeyUp},{children:v.defaultValue&&null!==(t=null==v?void 0:v.value)&&void 0!==t?t:null})),v.rightButtons&&(0,nP.jsx)("div",JL({className:"rce-input-buttons"},{children:v.rightButtons}))]}))},eM=function(e){var t=e.position,n=e.text,i=e.timestamp,a=e.senderId,o=e.senderName,s=e.senderPhoto,u=e.messages,c=o.slice(0,20),l=(0,r.useRef)(null),f=n.slice(0,100),d=a===GO.currentUser.uid,h={backgroundColor:d?"blue":"orange",color:d?"white":"black"};return(0,r.useEffect)((function(){l.current&&l.current.scrollIntoView({behavior:"smooth"})}),[u]),(0,nP.jsx)(Qe,{to:"/author/".concat(a),children:(0,nP.jsxs)("div",{children:[(0,nP.jsx)($L,{className:"p-1 text-start ".concat(d?"text-right":"text-left"),position:t,type:"text",text:f,date:i?i.toDate():null,title:c,avatar:s,titleColor:d?"blue":"red",forwardedRef:u[u.length-1]===u?l:null,style:St(St({maxWidth:"80%",width:n.length<20?"".concat(10*n.length,"px"):"auto",color:d?"white":"black",textAlign:d?"right":"left"},h),{},{wordWrap:"break-word"}),customStyle:h}),(0,nP.jsx)("div",{className:"text-start bg-secondary-500",ref:l})]},u.id)})},tM=function(e){var t=e.messages;return(0,nP.jsx)("div",{children:t.map((function(e){return(0,nP.jsx)(eM,{className:"bg-secondary-500 text-start",position:e.senderId===GO.currentUser.uid?"right":"left",text:e.message,timestamp:e.timestamp,senderId:e.senderId,senderName:e.senderName,senderPhoto:e.senderPhoto,messages:t},e.id)}))})},nM=function(e){var t=e.user,n=e.messages,i=(0,r.useRef)(null),a=l((0,r.useState)(0),2),o=a[0],s=a[1],u=l((0,r.useState)(!1),2),c=u[0],f=u[1],d=l((0,r.useState)(""),2),h=d[0],p=d[1],v=l((0,r.useState)(!1),2),m=v[0],g=v[1];(0,r.useEffect)((function(){var e=function(){var e=n.filter((function(e){return!e.read})).length;s(e);var t=parseInt(localStorage.getItem("unreadMessagesCount"))||0;s(t)};e();var t=JO.onSnapshot((function(){return e()}));return f(window.innerWidth<=768),function(){return t()}}),[n]);var y=function(){var e=Ze($e().mark((function e(){var n,r;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""===h.trim()){e.next=14;break}return e.prev=1,n={senderId:GO.currentUser.uid,message:h,timestamp:new Date,senderName:t.displayName,senderPhoto:t.photoURL,read:!1},e.next=5,JO.add(n);case 5:p(""),r=parseInt(localStorage.getItem("unreadMessagesCount"))+1,localStorage.setItem("unreadMessagesCount",r),s(r),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),console.error("Error sending message:",e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(){return e.apply(this,arguments)}}(),b=function(){g(!1)},k=function(e){if(m&&i.current&&!i.current.contains(e.target)){var t=document.querySelector(".chat-box");if(t&&t.contains(e.target))return;b()}};return(0,r.useEffect)((function(){return document.addEventListener("click",k),function(){document.removeEventListener("click",k)}}),[k]),(0,nP.jsxs)(nP.Fragment,{children:[t&&(0,nP.jsxs)("div",{ref:i,className:"fixed bottom-12 right-12 bg-secondary-500 hover:bg-white p-2 rounded-full cursor-pointer chat-button ".concat(c?"md:right-10 md:bottom-10":""),onClick:function(){g((function(e){return e||(s(0),localStorage.setItem("unreadMessagesCount",0)),!e}))},children:[(0,nP.jsx)(Yj,{icon:Jj,size:"lg",color:"accent-500"}),o>0&&(0,nP.jsx)("div",{className:"absolute top-0 right-0 rounded-full h-5 w-5 flex items-center justify-center text-xs",children:o})]}),t&&m&&(0,nP.jsx)(kP(),{handle:".drag-handle",nodeRef:i,children:(0,nP.jsx)("div",{className:"fixed bottom-4 right-4 sm:max-w-sm md:max-w-md lg:max-w-md xl:max-w-xl text-primary logo chat-box ".concat(m?"block":"hidden"),children:(0,nP.jsxs)("div",{className:"rounded shadow-md",children:[(0,nP.jsxs)("div",{className:"flex justify-between bg-primary-700 p-2 md:p-3 rounded-t-lg drag-handle",children:[(0,nP.jsx)("h3",{className:"text-secondary-500 font-bold",children:"Chat"}),(0,nP.jsx)("button",{className:"text-white hover:text-gray-300 focus:outline-none",onClick:b,children:(0,nP.jsx)(Yj,{icon:rD})})]}),(0,nP.jsx)("div",{className:"bg-primary-200 h-80 w-80 md:max-w-md lg:max-w-md xl:max-w-xl overflow-y-auto",children:(0,nP.jsx)(tM,{className:"bg-primary-500 p-2",messages:n,user:t,setIsChatOpen:g})}),(0,nP.jsx)("div",{className:"bg-primary-500 p-2",children:(0,nP.jsx)(ZL,{className:"rounded-md w-full",placeholder:"Type a message...",multiline:!1,value:h,onChange:function(e){return p(e.target.value)},rightButtons:(0,nP.jsx)("button",{type:"submit",className:"bg-primary-500 hover:bg-secondary-500 text-white font-semibold py-2 px-4 rounded-md",onClick:y,children:(0,nP.jsx)(Yj,{icon:iD})})})})]})})})]})},rM=function(e){e.profilePhoto,e.authorId;var t=e.isChatOpen,n=e.userAuth,i=l((0,r.useState)([]),2),a=(i[0],i[1]),o=l((0,r.useState)(null),2),s=o[0],u=o[1],c=l((0,r.useState)(!0),2),f=c[0],d=c[1],h=l((0,r.useState)([]),2),p=h[0],v=h[1],m=(0,r.useRef)(null),g=l((0,r.useState)(""),2),y=g[0],b=g[1];return(0,r.useEffect)((function(){var e=function(){var e=new Date,t=e.getHours().toString().padStart(2,"0"),n=e.getMinutes().toString().padStart(2,"0"),r=e.getSeconds().toString().padStart(2,"0");b("".concat(t,":").concat(n,":").concat(r))};e();var t=setInterval(e,1e3);return function(){return clearInterval(t)}}),[]),(0,r.useEffect)((function(){var e=JO.orderBy("timestamp").limit(50).onSnapshot((function(e){var t=e.docs.map((function(e){return St({id:e.id},e.data())}));v(t)}));return function(){return e()}}),[]),(0,r.useEffect)((function(){var e=GO.onAuthStateChanged((function(e){if(e){var t=function(){var t=Ze($e().mark((function t(){var n,r,i,a;return $e().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n=$O.doc(e.uid),t.next=4,n.get();case 4:(r=t.sent).exists?(i=r.data(),a=i.activity&&i.activity.slice(-5),u(St(St({},i),{},{activity:a,photoURL:i.photoURL}))):console.log("User data does not exist."),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),console.error("Error fetching user data",t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(){return t.apply(this,arguments)}}();t()}else console.log("Current user not found.");d(!1)}));return function(){return e()}}),[]),(0,r.useEffect)((function(){var e=JO.orderBy("timestamp").onSnapshot((function(e){var t=e.docs.map((function(e){return St({id:e.id},e.data())}));v(t)}));return function(){return e()}}),[]),(0,r.useEffect)((function(){var e=function(){var e=Ze($e().mark((function e(){var t,n;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,XO.get();case 2:t=e.sent,n=t.docs.map((function(e){return St({id:e.id},e.data())})),a(n);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[a]),(0,r.useEffect)((function(){t&&m.current&&m.current.scrollIntoView({behavior:"smooth"})}),[p,t]),f?(0,nP.jsx)("div",{className:"bg-gradient-to-tr from-primary-500 via-wavy-purple to-accent-400",children:(0,nP.jsxs)("div",{className:"flex items-center justify-center min-h-screen",children:[(0,nP.jsx)(oP(),{})," LOADING..."]})}):(0,nP.jsxs)("div",{className:"min-h-screen flex flex-col justify-between text-center bg-gradient-to-tr from-primary-500 via-wavy-purple to-accent-400 font-logo",children:[(0,nP.jsxs)("div",{children:[(0,nP.jsxs)("div",{className:"m-4 text-yellow-500",children:[(0,nP.jsx)("span",{className:"border-b-2 border-t-2 border-white",children:y.split(":")[0]}),(0,nP.jsx)("span",{className:"mx-2",children:":"}),(0,nP.jsx)("span",{className:"border-b-2 border-t-2 border-white",children:y.split(":")[1]}),(0,nP.jsx)("span",{className:"mx-2",children:":"}),(0,nP.jsx)("span",{className:"border-b-2 border-t-2 border-white",children:y.split(":")[2]})]}),(0,nP.jsx)("div",{className:"text-2xl m-4 text-white animate__animated animate__fadeIn",children:"Selamat Datang di Resep Masakan Indonesia!"}),(0,nP.jsx)("p",{className:"m-4 text-center",children:"Temukan berbagai resep masakan yang lezat dan nikmati pengalaman memasak yang menyenangkan."}),(0,nP.jsx)("p",{className:"m-4 text-center",children:"Daftar Sekarang Juga , Anda Bisa Membuat Resep Favorite Anda Sendiri."}),(0,nP.jsx)("div",{className:"mb-4",children:(0,nP.jsx)(lP,{userAuth:n})}),(0,nP.jsx)(yP,{setUserRecipes:a})]}),(0,nP.jsx)(nM,{user:s,messages:p})]})},iM=function(e){var t=e.onClick,n=e.commentId,i=l((0,r.useState)(!1),2),a=i[0],o=i[1],s=l((0,r.useState)(""),2),u=s[0],c=s[1],f=l((0,r.useState)([]),2),d=f[0],h=f[1];(0,r.useEffect)((function(){var e=function(){var e=Ze($e().mark((function e(){var t,r;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,KO.collection("comments").doc(n).collection("replies").orderBy("createdAt","asc").get();case 3:t=e.sent,r=t.docs.map((function(e){return St({id:e.id},e.data())})),h(r),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.error("Error fetching replies:",e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}();e()}),[n]);var p=function(){var e=Ze($e().mark((function e(){var r,i;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""===u.trim()){e.next=15;break}return t(u,n),o(!1),c(""),e.prev=4,e.next=7,KO.collection("comments").doc(n).collection("replies").orderBy("createdAt","asc").get();case 7:r=e.sent,i=r.docs.map((function(e){return St({id:e.id},e.data())})),h(i),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(4),console.error("Error fetching replies:",e.t0);case 15:case"end":return e.stop()}}),e,null,[[4,12]])})));return function(){return e.apply(this,arguments)}}();return(0,nP.jsx)("div",{children:a?(0,nP.jsxs)("div",{className:"flex items-center border-t border-gray-300 mt-4 pt-4",children:[(0,nP.jsx)("textarea",{className:"flex-grow border border-gray-300 rounded p-2 resize-none",placeholder:"Reply to this comment...",value:u,onChange:function(e){return c(e.target.value)}}),(0,nP.jsxs)("div",{className:"flex items-center ml-4",children:[(0,nP.jsx)("button",{className:"text-blue-500 hover:text-blue-700",onClick:p,children:(0,nP.jsx)(Yj,{icon:Zj})}),(0,nP.jsx)("button",{className:"text-gray-500 hover:text-gray-700 ml-2",onClick:function(){o(!1),c("")},children:(0,nP.jsx)(Yj,{icon:rD})})]})]}):(0,nP.jsxs)("div",{children:[(0,nP.jsxs)("button",{className:"text-blue-500 hover:text-blue-700 ml-4",onClick:function(){o(!0)},children:[(0,nP.jsx)(Yj,{icon:Zj})," Reply"]}),d&&d.length>0&&(0,nP.jsx)("ul",{className:"pl-8 mt-4 mb-6",children:d.map((function(e){return(0,nP.jsx)("li",{className:"border-t border-gray-300 py-2",children:e.content},e.id)}))})]})})},aM=function(e){var t=e.commentId,n=(e.user,l((0,r.useState)(0),2)),i=n[0],a=n[1],o=l((0,r.useState)(!1),2),s=o[0],u=o[1];(0,r.useEffect)((function(){var e=KO.collection("comments").doc(t).collection("likes");e.get().then((function(e){a(e.size)})),GO.currentUser&&e.doc(GO.currentUser.uid).get().then((function(e){u(e.exists)}))}),[t]);var c=function(){var e=Ze($e().mark((function e(){var n,r,i;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(GO.currentUser){e.next=2;break}return e.abrupt("return");case 2:if(n=GO.currentUser,r=KO.collection("comments").doc(t),i=r.collection("likes").doc(n.uid),!s){e.next=11;break}return e.next=8,i.delete();case 8:a((function(e){return e-1})),e.next=14;break;case 11:return e.next=13,i.set({likedAt:new Date});case 13:a((function(e){return e+1}));case 14:u(!s);case 15:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,nP.jsxs)("button",{className:"flex items-center ".concat(s?"text-blue-500":"text-gray-500"," hover:text-blue-500 transition-colors"),onClick:c,disabled:!GO.currentUser,children:[(0,nP.jsx)(gt,{className:"w-4 h-4 mr-1 ".concat(s?"text-blue-500":"text-gray-500")}),(0,nP.jsx)("span",{children:i})]})},oM=function(e){var t=l((0,r.useState)(null),2),n=t[0],i=t[1],a=l((0,r.useState)(!1),2),o=a[0],s=a[1],u=l((0,r.useState)(0),2),c=(u[0],u[1]),f=qO,h=l((0,r.useState)(Array.isArray(e.comment.likes)?e.comment.likes.length:0),2),p=h[0],v=h[1],m=l((0,r.useState)(o),2),g=m[0],y=m[1];(0,r.useEffect)((function(){var e=GO.currentUser;i(e?{displayName:e.displayName,imageURL:e.photoURL}:null)}),[]),(0,r.useEffect)((function(){n&&Array.isArray(e.comment.likes)?s(e.comment.likes.includes(n.uid)):s(!1),c(Array.isArray(e.comment.likes)?e.comment.likes.length:0)}),[e.comment.likes,n]);var b=function(){var t=Ze($e().mark((function t(){var r;return $e().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n){t.next=3;break}return alert("You need to be logged in to like replies."),t.abrupt("return");case 3:return t.prev=3,r=g?e.comment.likes.filter((function(e){return e!==n.displayName})):[].concat(d(e.comment.likes),[n.displayName]),t.next=7,ZO.doc(e.comment.id).update({likes:r});case 7:y(!g),v(r.length),e.onToggleLike&&e.onToggleLike(),t.next=15;break;case 12:t.prev=12,t.t0=t.catch(3),console.error("Error handling like reply:",t.t0);case 15:case"end":return t.stop()}}),t,null,[[3,12]])})));return function(){return t.apply(this,arguments)}}();return(0,nP.jsx)("div",{className:"comment-item ml-4",children:(0,nP.jsxs)("div",{className:"flex items-start",children:[e.comment.user&&e.comment.user.imageURL?(0,nP.jsx)("img",{src:e.comment.user.imageURL,alt:"User",className:"w-6 h-6 rounded-full object-cover"}):(0,nP.jsx)("img",{src:e.comment.user&&e.comment.user.imageURL?e.comment.user.imageURL:e.userPhotoURL||f,alt:"User",className:"w-6 h-6 rounded-full object-cover"}),(0,nP.jsxs)("div",{className:"ml-3 flex-grow mb-4",children:[(0,nP.jsx)("div",{className:"flex items-center mb-1",children:(0,nP.jsx)("strong",{className:"text-sm font-medium",children:e.comment.user&&e.comment.user.displayName?e.comment.user.displayName:"Anonymous"})}),(0,nP.jsx)("div",{className:"text-sm text-gray-700",children:e.comment.content}),(0,nP.jsx)("div",{className:"flex items-center mt-2 text-sm text-gray-500",children:(0,nP.jsx)(aM,{commentId:e.comment.id,initialLikes:Array.isArray(e.comment.likes)?e.comment.likes.length:0,isLiked:o,onToggleLike:b})}),e.comment.replies&&e.comment.replies.length>0&&(0,nP.jsx)("div",{className:"pl-8 mt-4",children:e.comment.replies.map((function(t){Array.isArray(t.likes)&&t.likes;return(0,nP.jsxs)("div",{className:"flex items-start",children:[t.user&&t.user.imageURL?(0,nP.jsx)("img",{src:t.user.imageURL,alt:"User",className:"w-8 h-8 rounded-full object-cover"}):(0,nP.jsx)("img",{src:e.userPhotoURL||f,alt:"User",className:"w-8 h-8 rounded-full object-cover"}),(0,nP.jsxs)("div",{className:"ml-3 flex-grow",children:[(0,nP.jsx)("div",{className:"flex items-center mb-1",children:(0,nP.jsx)("strong",{className:"text-sm font-medium",children:t.user&&t.user.displayName?t.user.displayName:"Anonymous"})}),(0,nP.jsx)("div",{className:"text-sm text-gray-700",children:t.content}),(0,nP.jsx)("div",{className:"flex items-center mt-2 text-sm text-gray-500",children:(0,nP.jsx)(aM,{commentId:t.id,initialLikes:p,isLiked:g,onToggleLike:b})})]})]},t.id)}))})]})]})})},sM=function(e){var t=e.onSubmit,n=e.user,i=l((0,r.useState)(""),2),a=i[0],o=i[1],s=l((0,r.useState)(!1),2),u=s[0],c=s[1];(0,r.useEffect)((function(){var e=GO.currentUser;c(!e)}),[]);return(0,nP.jsxs)("div",{className:"flex flex-col items-start mb-4",children:[u&&(0,nP.jsxs)("div",{className:"text-red-500 mb-4",children:["Please\xa0",(0,nP.jsx)(Qe,{to:"/login",className:"text-blue-500",children:"Login"}),"\xa0or\xa0",(0,nP.jsx)(Qe,{to:"/signup",className:"text-blue-500",children:"SignUp"}),"\xa0to like or comment."]}),(0,nP.jsx)("div",{className:"w-full px-4",children:(0,nP.jsxs)("form",{onSubmit:function(e){(e.preventDefault(),""!==a.trim())&&(t({content:a}),o(""))},children:[(0,nP.jsxs)("div",{className:"flex items-center mb-2",children:[n&&n.imageURL?(0,nP.jsx)("img",{src:n.imageURL,alt:"User",className:"w-8 h-8 rounded-full object-cover border"}):(0,nP.jsx)(bt,{className:"w-8 h-8 text-gray-500"}),(0,nP.jsx)("span",{className:"ml-2 font-medium",children:n&&n.displayName?n.displayName:"Anonymous"})]}),(0,nP.jsx)("label",{htmlFor:"commentInput",className:"sr-only",children:"Add a public comment"}),(0,nP.jsx)("textarea",{id:"commentInput",value:a,onChange:function(e){o(e.target.value)},placeholder:"Add a public comment...",className:"w-full p-2 border border-gray-300 rounded-md resize-none focus:outline-none focus:ring-2 focus:ring-blue-500",style:{minHeight:"80px"}}),(0,nP.jsx)("div",{className:"flex justify-end mt-2",children:(0,nP.jsx)("button",{type:"submit",className:"bg-blue-500 text-white rounded px-4 py-2 text-sm hover:bg-blue-600 transition-colors duration-300 focus:outline-none",disabled:!a.trim()||u,children:"Comment"})})]})})]})},uM=function(e){var t=e.id,n=l((0,r.useState)(null),2),i=n[0],a=n[1],o=l((0,r.useState)([]),2),s=o[0],u=o[1],c=l((0,r.useState)({}),2),f=c[0],h=c[1],p=l((0,r.useState)(null),2),v=p[0],m=p[1];(0,r.useEffect)((function(){var e=GO.currentUser;e?(a({displayName:e.displayName,imageURL:e.photoURL}),m(e.uid)):(a(null),m(null)),g(t)}),[t]);var g=function(){var e=Ze($e().mark((function e(t){var n,r,i,a,o,s,c,l;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,KO.collection("comments").where("recipeId","==",t).get();case 3:n=e.sent,r=[],i=T(n.docs),e.prev=6,i.s();case 8:if((a=i.n()).done){e.next=19;break}return o=a.value,s=St({id:o.id},o.data()),e.next=13,o.ref.collection("replies").get();case 13:c=e.sent,l=c.docs.map((function(e){return St({id:e.id},e.data())})),s.replies=l,r.push(s);case 17:e.next=8;break;case 19:e.next=24;break;case 21:e.prev=21,e.t0=e.catch(6),i.e(e.t0);case 24:return e.prev=24,i.f(),e.finish(24);case 27:u(r),e.next=33;break;case 30:e.prev=30,e.t1=e.catch(0),console.error("Error fetching comments:",e.t1);case 33:case"end":return e.stop()}}),e,null,[[0,30],[6,21,24,27]])})));return function(t){return e.apply(this,arguments)}}(),y=function(){var e=Ze($e().mark((function e(n){var r;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ZO.add({recipeId:t,content:n.content,user:{displayName:i&&i.displayName?i.displayName:"Anonymous",imageURL:i&&i.imageURL?i.imageURL:null,photoURL:i&&i.photoURL?i.photoURL:null},likes:0});case 3:r=e.sent,u((function(e){return[].concat(d(e),[{id:r.id,recipeId:t,content:n.content,user:{displayName:i&&i.displayName?i.displayName:"Anonymous",imageURL:i&&i.imageURL?i.imageURL:null,photoURL:i&&i.photoURL?i.photoURL:null},likes:0}])})),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error("Error submitting comment:",e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),b=function(){var e=Ze($e().mark((function e(t,n){return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!t){e.next=6;break}return e.next=4,ZO.doc(t).collection("replies").add({content:n.content,user:{displayName:i&&i.displayName?i.displayName:"Anonymous",imageURL:i&&i.imageURL?i.imageURL:null,photoURL:i&&i.photoURL?i.photoURL:null},likes:0});case 4:e.next=7;break;case 6:console.error("Parent ID is missing for reply.");case 7:e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.error("Error replying to comment:",e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t,n){return e.apply(this,arguments)}}(),k=function(){var e=Ze($e().mark((function e(n){var r,i,a,o,s,u;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r=ZO.doc(n),e.next=4,r.get();case 4:if((i=e.sent).exists){e.next=8;break}return console.error("Comment does not exist."),e.abrupt("return");case 8:return a=i.data(),o=GO.currentUser,s=d(a.likes||[]),u=o?o.displayName:"Anonymous",s.includes(u)?s.splice(s.indexOf(u),1):s.push(u),e.next=15,r.update({likes:s});case 15:g(t),e.next=21;break;case 18:e.prev=18,e.t0=e.catch(0),console.error("Error handling like toggle:",e.t0);case 21:case"end":return e.stop()}}),e,null,[[0,18]])})));return function(t){return e.apply(this,arguments)}}(),w=function(e){var n=0;return"number"===typeof e.likes?n=e.likes:e.likes&&"object"===typeof e.likes&&e.likes[v]&&(n=e.likes[v].likes),e.replies&&Array.isArray(e.replies)&&(n+=e.replies.reduce((function(e,t){return e+t.likes}),0)),(0,nP.jsxs)("div",{children:[(0,nP.jsx)("div",{className:"mb-4 item-center",children:(0,nP.jsxs)("div",{className:"flex items-start",children:[e.user&&e.user.imageURL?(0,nP.jsx)("img",{src:e.user.imageURL,alt:"User",className:"w-8 h-8 border-2 border-blue-500 rounded-full object-cover"}):(0,nP.jsx)(bt,{className:"w-6 h-6 text-gray-500 border-2 border-blue-500"}),(0,nP.jsxs)("div",{className:"ml-3 flex-grow mb-2 max-h-screen",children:[(0,nP.jsx)("div",{className:"flex items-center mb-1",children:(0,nP.jsx)("strong",{className:"text-sm font-medium",children:e.user&&e.user.displayName?e.user.displayName:"Anonymous"})}),(0,nP.jsx)("div",{className:"text-sm text-gray-700 mb-6",children:e.content}),(0,nP.jsxs)("div",{className:"flex items-center mt-2 text-sm text-gray-500",children:[(0,nP.jsx)(aM,{commentId:e.id,initialLikes:n,isLiked:e.likes&&e.likes[v]&&e.likes[v].likedAt,onToggleLike:function(){return k(e.id)}}),(0,nP.jsxs)(iM,{onClick:function(n){b(e.id,{content:n}),g(t)},children:[(0,nP.jsx)(Yj,{icon:Zj})," "]}),e.replies&&e.replies.length>0&&(0,nP.jsx)("button",{className:"ml-2 item-center text-center text-blue-500",onClick:function(){return t=e.id,void h((function(e){return St(St({},e),{},xt({},t,!e[t]))}));var t},children:f[e.id]?(0,nP.jsx)(Yj,{icon:eD}):(0,nP.jsx)(Yj,{icon:tD})})]})]})]})}),f[e.id]&&e.replies&&e.replies.length>0&&(0,nP.jsx)("div",{className:"pl-8 mt-4",children:e.replies.map((function(t){return(0,nP.jsx)(oM,{comment:t,onReplyComment:function(t){return b(e.id,{content:t})},onToggleLike:g},t.id)}))})]},e.id)};return(0,nP.jsxs)("div",{className:"mt-6 justify-center item-center",children:[(0,nP.jsx)("h3",{className:"text-lg font-medium mb-4",children:"Comments"}),(0,nP.jsx)("div",{className:"mb-4",children:(0,nP.jsx)(sM,{onSubmit:y,user:i})}),(0,nP.jsx)("div",{style:{maxHeight:"300px",overflowY:"auto"},children:0===s.length?(0,nP.jsx)("p",{children:"No comments yet."}):(0,nP.jsx)("div",{children:s.map((function(e){return(0,nP.jsx)(r.Fragment,{children:w(e)},e.id)}))})}),(0,nP.jsx)("div",{className:"mt-4 text-center underline text-italic",children:(0,nP.jsx)("p",{children:"Note: Silahkan Reload Page jika Comment Anda Tidak Tampil"})})]})};function cM(e){return at({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173 6.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.636.282.95l-3.522 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z"}}]})(e)}function lM(e){return at({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z"}},{tag:"path",attr:{d:"M10.97 4.97a.235.235 0 0 0-.02.022L7.477 9.417 5.384 7.323a.75.75 0 0 0-1.06 1.06L6.97 11.03a.75.75 0 0 0 1.079-.02l3.992-4.99a.75.75 0 0 0-1.071-1.05z"}}]})(e)}var fM=function(e){var t=e.recipeId,n=e.initialRating,i=e.onChange,a=l((0,r.useState)(parseFloat(n)),2),o=a[0],s=a[1],u=l((0,r.useState)(!1),2),c=u[0],f=u[1],h=l((0,r.useState)(0),2),p=h[0],v=h[1],m=l((0,r.useState)(!1),2),g=m[0],y=m[1];(0,r.useEffect)((function(){s(parseFloat(n))}),[n]),(0,r.useEffect)((function(){var e=function(){var e=Ze($e().mark((function e(){var n,r,i,a,o;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!(n=GO.currentUser)){e.next=9;break}return r=n.uid,i=KO.collection("recipes").doc(t).collection("ratings").doc(r),e.next=7,i.get();case 7:(a=e.sent).exists&&(o=a.data().rating,v(o),f(!0),y(!0));case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.error("Error fetching user rating:",e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(){return e.apply(this,arguments)}}();e()}),[t]);var b=function(){var e=Ze($e().mark((function e(n){var r,a,o,u,l,d,h,p,m,g;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=parseFloat(n),c){e.next=31;break}if(s(r),v(r),f(!0),y(!0),i(r),e.prev=7,!(a=GO.currentUser)){e.next=26;break}return o=a.uid,u=KO.collection("recipes").doc(t).collection("ratings").doc(o),e.next=14,u.set({rating:r});case 14:return l=KO.collection("recipes").doc(t),e.next=17,l.get();case 17:if(!(d=e.sent).exists){e.next=26;break}return h=d.data(),(p=h.comments||[]).push({userId:o,rating:r}),m=p.reduce((function(e,t){return e+t.rating}),0),g=m/p.length,e.next=26,l.update({rating:g.toFixed(1),comments:p});case 26:e.next=31;break;case 28:e.prev=28,e.t0=e.catch(7),console.error("Error updating user rating:",e.t0);case 31:case"end":return e.stop()}}),e,null,[[7,28]])})));return function(t){return e.apply(this,arguments)}}();return(0,nP.jsx)("div",{children:(0,nP.jsxs)("div",{className:"flex items-center mb-2",children:[d(Array(5)).map((function(e,t){var n=t+1,r=n<=o,i=n===Math.ceil(o)&&o%1!==0,a=c?"text-yellow-500":"text-gray-400";return(0,nP.jsx)("span",{className:"text-3xl cursor-pointer ".concat(r||g||i?a:"text-gray-400"),onClick:function(){return b(n)},children:r?(0,nP.jsx)(mt,{className:c?"text-yellow-500":"text-gray-400"}):i?(0,nP.jsx)(vt,{className:c?"text-yellow-500":"text-gray-400"}):(0,nP.jsx)(mt,{className:" text-gray-300 "})},t)})),(0,nP.jsx)("span",{className:"ml-2",children:c?p.toFixed(1):o.toFixed(1)})]})})},dM=function(e){var t=e.authorId,n=e.photoURL,i=e.user,a=(e.setAverageRating,xe().id),o=l((0,r.useState)(null),2),s=o[0],u=o[1],c=l((0,r.useState)([]),2),f=c[0],d=c[1],h=l((0,r.useState)(0),2),p=h[0],v=h[1],m=l((0,r.useState)(!1),2),g=(m[0],m[1]),y=l((0,r.useState)(""),2),b=y[0],k=(y[1],l((0,r.useState)(!0),2)),w=k[0],x=k[1],_=l((0,r.useState)(0),2),S=(_[0],_[1]);(0,r.useEffect)((function(){var e=function(){var e=Ze($e().mark((function e(){var r,i,o,s,c;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,x(!0),e.next=4,KO.collection("recipes").doc(a).get();case 4:if(!(r=e.sent).exists){e.next=17;break}if(i=St(St({id:r.id},r.data()),{},{createdAt:r.data().createdAt.toDate()}),(o=i.authorId)===t){e.next=15;break}return e.next=11,KO.collection("users").doc(o).get();case 11:(s=e.sent).exists&&(c=s.data(),i.creatorPhoto=c.photoURL||n||qO),e.next=16;break;case 15:i.creatorPhoto=n||qO;case 16:u(i);case 17:e.next=22;break;case 19:e.prev=19,e.t0=e.catch(0),console.error("Error fetching recipe:",e.t0);case 22:return e.prev=22,x(!1),e.finish(22);case 25:case"end":return e.stop()}}),e,null,[[0,19,22,25]])})));return function(){return e.apply(this,arguments)}}();e()}),[a,t,n]),(0,r.useEffect)((function(){var e=function(){var e=Ze($e().mark((function e(){var t,n;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ZO.where("recipeId","==",a).get();case 3:t=e.sent,n=t.docs.map((function(e){return St({id:e.id},e.data())})),d(n),x(!1),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),console.error("Error fetching comments:",e.t0),x(!1);case 13:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}();e()}),[a]);return w||!s?(0,nP.jsxs)("div",{className:"flex items-center justify-center min-h-screen bg-accent-300",children:[(0,nP.jsx)(oP(),{})," LOADING...."]}):(0,nP.jsxs)("div",{className:"p-6 lg:px-12 xl:px-24 bg-purple-100",children:[(0,nP.jsx)(Qe,{to:"/recipe-list",className:"text-blue-500 hover:underline",children:"< Back to Recipes"}),(0,nP.jsx)("h2",{className:"text-3xl font-semibold text-center mt-4",children:s.title}),(0,nP.jsxs)("div",{className:"relative mt-4",children:[s.recipeImage&&(0,nP.jsx)("img",{src:s.recipeImage,alt:"Recipe",className:"h-64 w-full object-cover rounded shadow-xl-dark"}),(0,nP.jsx)("div",{className:"absolute bottom-0 left-0 right-0 p-4 bg-black bg-opacity-50 text-white",children:(0,nP.jsxs)("div",{className:"flex flex-row items-center mb-2",children:[(0,nP.jsx)("img",{src:s.creatorPhoto||i.photoURL,alt:"Creator",className:"rounded-full h-12 w-12 object-cover mr-2"}),(0,nP.jsxs)("p",{className:"text-orange-500 font-bold text-lg",children:[" ",s.author]})]})})]}),(0,nP.jsx)("div",{children:(0,nP.jsx)("p",{className:"text-center text-gray-700 mt-4",children:s.description})}),(0,nP.jsxs)("div",{className:"mt-8 bg-white bg-gradient-to-br from-white to-gray-300 p-4 rounded-md shadow-lg",children:[(0,nP.jsx)("h3",{className:"shadow-lg text-center text-xl font-semibold bg-blue-500 text-white py-2 rounded-t-lg",children:"Bahan-Bahan:"}),(0,nP.jsx)("ul",{className:"list-disc ml-8 mt-4 space-y-2",children:s.ingredients.map((function(e,t){return(0,nP.jsxs)("li",{className:"flex items-start",children:[(0,nP.jsx)("div",{className:"w-6 h-6 flex items-center justify-center rounded-full bg-blue-500 mr-2",children:(0,nP.jsx)(lM,{className:"text-white text-xl"})}),(0,nP.jsx)("span",{children:e})]},t)}))})]}),(0,nP.jsxs)("div",{className:"mt-8 bg-white bg-gradient-to-br from-white to-gray-300 p-4 rounded-md shadow-lg",children:[(0,nP.jsx)("h3",{className:"shadow-lg text-center text-xl font-semibold bg-blue-500 text-white py-2 rounded-t-lg",children:"Cara Membuat :"}),(0,nP.jsx)("ol",{className:"list-decimal ml-8 mt-4 space-y-2",children:s.instructions.map((function(e,t){return(0,nP.jsxs)("li",{className:"flex items-start",children:[(0,nP.jsx)("div",{className:"w-6 h-6 flex items-center justify-center rounded-full bg-blue-500 mr-2",children:(0,nP.jsx)(wt,{className:"text-white text-xl"})}),(0,nP.jsx)("span",{children:e})]},t)}))})]}),(0,nP.jsxs)("div",{className:"flex flex-col items-center justify-center my-4",children:[(0,nP.jsx)("p",{className:"text-center",children:"Tekan Bintang Untuk Memberikan Rating"}),(0,nP.jsx)("div",{className:"px-2 py-2 items-center text-center mt-4",children:(0,nP.jsx)(fM,{recipeId:a,initialRating:p,onChange:function(e){v(e),g(!0),S(e)}})})]}),(0,nP.jsxs)("div",{className:"flex items-center justify-center mt-4",children:[(0,nP.jsx)("p",{className:"mr-2",children:"Average Rating: "}),(0,nP.jsxs)("div",{className:"p-2 bg-blue-500 rounded-full flex items-center justify-center",children:[(0,nP.jsx)(cM,{className:"text-yellow-400 inline-block"}),(0,nP.jsx)("span",{className:"text-white text-sm font-bold ml-1",children:s.rating})]})]}),(0,nP.jsx)("div",{className:"mt-8 text-center font-semibold",children:(0,nP.jsx)("h2",{className:"text-xl text-gray-800",children:"Share Resep ke Sosial Media Anda"})}),(0,nP.jsxs)("div",{className:"flex mx-auto m-4 justify-center space-x-1",children:[(0,nP.jsxs)("button",{className:"px-2 py-1 text-sm bg-blue-500 text-white rounded-lg flex items-center hover:bg-blue-600 transition-colors duration-300",onClick:function(){return function(e){var t="https://www.facebook.com/sharer/sharer.php?u=".concat(encodeURIComponent("".concat(window.location.origin,"/recipes/").concat(e.id)));window.open(t,"_blank")}(s)},children:[(0,nP.jsx)(st,{className:"mr-1 text-sm"}),"Facebook"]}),(0,nP.jsxs)("button",{className:"px-2 py-1 text-sm bg-purple-700 text-white rounded-lg flex items-center hover:bg-purple-800 transition-colors duration-300",onClick:function(){alert("Belum Berfungsi hehehe, Silahkan copy url di browser ")},children:[(0,nP.jsx)(ut,{className:"mr-1 text-sm"}),"Instagram"]}),(0,nP.jsxs)("button",{className:"px-2 py-1 text-sm bg-green-500 text-white rounded-lg flex items-center hover:bg-green-600 transition-colors duration-300",onClick:function(){return function(e){var t="Check out this delicious recipe: ".concat(e.title,"\n\n").concat(e.description,"\n\n").concat(window.location.href),n="https://api.whatsapp.com/send?text=".concat(encodeURIComponent(t));window.open(n,"_blank")}(s)},children:[(0,nP.jsx)(ct,{className:"mr-1 text-sm"}),"WhatsApp"]})]}),(0,nP.jsx)("div",{className:"mt-8",children:(0,nP.jsx)(uM,{comments:f,id:a,comment:b,setComments:d,user:i})})]})},hM=function(){var e=l((0,r.useState)(""),2),t=e[0],n=e[1],i=l((0,r.useState)(null),2),a=i[0],o=i[1],s=l((0,r.useState)(!1),2),u=s[0],c=s[1],f=l((0,r.useState)(!1),2),d=f[0],h=f[1],p=function(){var e=Ze($e().mark((function e(n){return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.preventDefault(),t){e.next=4;break}return o("Please enter your email"),e.abrupt("return");case 4:return e.prev=4,h(!0),o(null),e.next=9,GO.sendPasswordResetEmail(t);case 9:c(!0),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(4),"auth/too-many-requests"===e.t0.code?o("We have blocked all requests from this device due to unusual activity. Try again later."):o(e.t0.message);case 15:return e.prev=15,h(!1),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[4,12,15,18]])})));return function(t){return e.apply(this,arguments)}}();return(0,nP.jsx)("div",{className:"flex items-center justify-center min-h-screen bg-gradient-to-r from-blue-500 to-purple-600",children:(0,nP.jsxs)("div",{className:"bg-white p-8 rounded shadow-md m-4 opacity-90",children:[(0,nP.jsx)("h2",{className:"text-2xl text-center font-bold text-gray-800 mb-4 animate__animated animate__fadeIn",children:"Forgot Password"}),u?(0,nP.jsxs)("div",{className:"text-center item-center ",children:[(0,nP.jsx)("p",{className:"text-green-500 mb-2 animate__animated animate__fadeIn",children:"Please check your email to reset your password."}),(0,nP.jsx)("p",{className:"text-gray-600 animate__animated animate__fadeIn",children:"If you don't receive an email, please check your spam folder or try again later."})]}):(0,nP.jsxs)(nP.Fragment,{children:[a&&(0,nP.jsx)("p",{className:"text-red-500 text-center mb-4 animate__animated animate__shakeX",children:a}),(0,nP.jsxs)("form",{onSubmit:p,className:"space-y-4 text-center",children:[(0,nP.jsxs)("label",{className:"block",children:[(0,nP.jsx)("span",{className:"text-gray-700",children:"Enter your email:"}),(0,nP.jsx)("input",{type:"email",value:t,onChange:function(e){n(e.target.value)},className:"mt-1 text-center block w-full h-auto rounded-md bg-primary-200 border-2 border-accent-500 focus:border-red-500 focus:ring focus:ring-secondary-500"})]}),(0,nP.jsx)("button",{type:"submit",className:"bg-blue-500 hover:bg-blue-600 text-white py-2 px-2 rounded-md animate__animated ".concat(d?"opacity-75 cursor-not-allowed":"animate__fadeIn"),disabled:d,children:d?"Sending...":"Reset Password"})]})]})]})})};function pM(e){return at({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"22 12 18 12 15 21 9 3 6 12 2 12"}}]})(e)}function vM(e){return at({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}},{tag:"path",attr:{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"}}]})(e)}function mM(e){return at({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"3 6 5 6 21 6"}},{tag:"path",attr:{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"}},{tag:"line",attr:{x1:"10",y1:"11",x2:"10",y2:"17"}},{tag:"line",attr:{x1:"14",y1:"11",x2:"14",y2:"17"}}]})(e)}function gM(e){return at({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M3 4V1h2v3h3v2H5v3H3V6H0V4h3zm3 6V7h3V4h7l1.83 2H21c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H5c-1.1 0-2-.9-2-2V10h3zm7 9c2.76 0 5-2.24 5-5s-2.24-5-5-5-5 2.24-5 5 2.24 5 5 5zm-3.2-5c0 1.77 1.43 3.2 3.2 3.2s3.2-1.43 3.2-3.2-1.43-3.2-3.2-3.2-3.2 1.43-3.2 3.2z"}}]})(e)}var yM=function(e){var t=e.authorId,n=l((0,r.useState)([]),2),i=n[0],a=n[1],o=l((0,r.useState)(!0),2),s=o[0],u=o[1],c=l((0,r.useState)(null),2),f=c[0],d=c[1],h=function(e){return e.length>5?e.slice(0,5):e};return(0,r.useEffect)((function(){var e=function(){var e=Ze($e().mark((function e(){var n,r,i,o,s;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,u(!0),n=KO.collection("users").doc(t),e.next=5,n.get();case 5:(r=e.sent).exists&&(i=r.data(),(o=i.activity||[]).reverse(),s=h(o),a(s),d(i)),u(!1),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.error("Error fetching activities:",e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}();e()}),[t]),(0,r.useEffect)((function(){var e=KO.collection("users").doc(t).onSnapshot((function(e){var t=e.data(),n=t.activity||[];n.reverse();var r=h(n);a(r),d(t)}));return function(){return e()}}),[t,i]),(0,nP.jsx)(nP.Fragment,{children:s?(0,nP.jsx)("div",{className:"fixed inset-0 flex justify-center items-center bg-opacity-50 bg-white z-50",children:(0,nP.jsx)("div",{className:"animate-spin rounded-full h-10 w-10 border-t-2 border-blue-500 border-solid"})}):(0,nP.jsxs)("div",{className:"mx-auto w-64 p-2",children:[f&&(0,nP.jsxs)("h2",{className:"text-sm font-semibold mb-2",children:[" ",f.displayName," Activity"]}),(0,nP.jsx)("ul",{className:"space-y-1",children:i.map((function(e,t){return(0,nP.jsxs)("li",{className:"p-2 border border-gray-300 rounded-lg ".concat(0===t?"bg-yellow-100":"bg-white"),children:[(0,nP.jsx)("p",{className:"font-10 mb-2 text-center",children:"New Recipe Add: "}),(0,nP.jsx)("p",{className:"text-orange-500 font-semibold mb-2",children:e.recipeName}),(0,nP.jsxs)("p",{className:"text-gray-500",children:["Date:"," ",new Date(1e3*e.date.seconds).toLocaleString()]})]},t)}))})]})})},bM=function(e){var t=e.authorId,n=l((0,r.useState)(!1),2),i=n[0],a=n[1],o=(0,r.useRef)(null),s=(0,r.useRef)(null),u=l((0,r.useState)(!0),2),c=u[0],f=u[1];return(0,r.useEffect)((function(){var e=function(){var e=Ze($e().mark((function e(){return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,f(!1),e.next=4,new Promise((function(e){return setTimeout(e,2e3)}));case 4:f(!1),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),console.error("Error fetching activities:",e.t0),f(!1);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();e()}),[]),(0,r.useEffect)((function(){var e=function(e){i&&s.current&&!s.current.contains(e.target)&&a(!1)};return document.addEventListener("click",e),function(){document.removeEventListener("click",e)}}),[i]),(0,nP.jsxs)("div",{className:"fixed bottom-4 md:bottom-8 right-4 z-30",children:[(0,nP.jsx)(kP(),{nodeRef:o,children:(0,nP.jsx)("div",{ref:o,children:(0,nP.jsx)("button",{className:"bg-yellow-500 text-blue rounded-full p-3 shadow hover:bg-purple-600 cursor-pointer focus:outline-none",onClick:function(){a((function(e){return!e}))},onTouchStart:function(){a((function(e){return!e}))},ref:s,children:(0,nP.jsx)(pM,{size:24})})})}),i&&(0,nP.jsx)("div",{className:"bg-blue-300 rounded-lg p-3 shadow mt-2 text-xs md:text-sm",children:c?(0,nP.jsx)("div",{className:"flex justify-center items-center h-16 w-16",children:(0,nP.jsx)(gP,{color:"#000000",loading:c,size:16})}):(0,nP.jsx)("ul",{children:(0,nP.jsx)(yM,{authorId:t})})})]})},kM=function(e){var t=e.authorId,n=l((0,r.useState)([]),2),i=n[0],a=n[1],o=l((0,r.useState)({}),2),s=o[0],u=o[1];(0,r.useEffect)((function(){var e=function(){var e=Ze($e().mark((function e(){var n,r,i,o,s,u,c;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!t){e.next=17;break}return n=KO.collection("recipes").where("authorId","==",t),e.next=5,n.get();case 5:return r=e.sent,i=r.docs.map((function(e){var t=e.data(),n=t.createdAt?t.createdAt.toDate():null;return St(St({id:e.id},t),{},{dateCreated:n})})),o=d(new Set(i.map((function(e){return e.authorId})))),e.next=10,KO.collection("users").where("authorId","in",o).get();case 10:s=e.sent,u=s.docs.map((function(e){return St({id:e.id},e.data())})),(c=i.map((function(e){var t=u.find((function(t){return t.authorId===e.authorId}));return St(St({},e),{},{creatorPhoto:(null===t||void 0===t?void 0:t.photoURL)||(null===t||void 0===t?void 0:t.imageURL)||""})}))).sort((function(e,t){return t.dateCreated-e.dateCreated})),a(c),e.next=18;break;case 17:a([]);case 18:e.next=23;break;case 20:e.prev=20,e.t0=e.catch(0),console.error("Error fetching user recipes:",e.t0);case 23:case"end":return e.stop()}}),e,null,[[0,20]])})));return function(){return e.apply(this,arguments)}}();e()}),[t]);var c=function(){var e=Ze($e().mark((function e(t){return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,KO.collection("recipes").doc(t).delete();case 3:a((function(e){return e.filter((function(e){return e.id!==t}))})),console.log("Recipe deleted successfully!"),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error("Error deleting recipe:",e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),f=function(e){return function(){u((function(t){return St(St({},t),{},xt({},e,!t[e]))}))}},h=function(e){if(!e)return!1;var t=new Date;return Math.floor((t-e)/864e5)<=7};return(0,nP.jsxs)("div",{className:"mx-auto bg-primary-200 min-h-screen p-4",children:[(0,nP.jsx)("h2",{className:"text-3xl font-bold mb-6 text-center text-secondary",children:"Resep Collection"}),0===i.length?(0,nP.jsx)("p",{className:"text-secondary text-center",children:"Tidak ada resep yang dibuat."}):(0,nP.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6",children:i.map((function(e){var n;return(0,nP.jsxs)("div",{className:"border rounded-lg overflow-hidden shadow-md hover:shadow-lg bg-gradient-to-br from-purple-700 to-pink-500 relative transition duration-300",children:[h(e.dateCreated)&&(0,nP.jsx)("div",{className:"absolute top-0 left-0 font-bold text-orange-700 mt-3 px-2 rounded-b-lg transform -rotate-45 underline text-white",children:"New!!"}),(0,nP.jsxs)("div",{className:"p-4",children:[(0,nP.jsx)(Qe,{to:"/recipes/".concat(e.id),children:(0,nP.jsx)("h3",{className:"text-xl font-bold text-center mb-2 text-primary hover:text-accent-500",children:e.title})}),(0,nP.jsx)(Qe,{to:"/author/".concat(t),className:"text-secondary",children:(0,nP.jsxs)("div",{className:"flex items-center mb-2 text-white font-bold hover:underline",children:[(0,nP.jsx)("img",{src:e.creatorPhoto||qO,alt:"Creator",className:"w-8 h-8 border-2 rounded-full object-cover mr-2"}),e.author]})}),(0,nP.jsx)(Qe,{to:"/recipes/".concat(e.id),children:e.recipeImage&&(0,nP.jsx)("img",{src:e.recipeImage,alt:e.title,className:"w-full h-32 object-cover mb-2 rounded-lg"})}),(0,nP.jsx)("div",{className:"text-center rounded-lg p-2",children:(0,nP.jsx)("p",{className:"".concat(s[e.id]?"h-auto":"h-12"," overflow-hidden text-white"),onClick:f(e.id),style:{cursor:"pointer"},children:e.description})}),!s[e.id]&&e.description.split(" ").length>12&&(0,nP.jsx)("button",{className:"text-white hover:text-primary-500 focus:outline-none mt-2",onClick:f(e.id),children:"Lihat Selengkapnya"}),(0,nP.jsxs)("p",{className:"mt-2 text-sm",children:["Kategori: ",e.category]}),(0,nP.jsxs)("p",{className:"text-white text-sm mt-2",children:["Created: ",null===(n=e.dateCreated)||void 0===n?void 0:n.toLocaleDateString()]}),(0,nP.jsxs)("div",{className:"flex mt-4 justify-center space-x-4",children:[(0,nP.jsxs)("button",{className:"px-3 py-1 text-sm bg-red-500 text-white rounded-lg flex items-center hover:bg-red-600 transition-colors duration-300",onClick:function(){return c(e.id)},children:[(0,nP.jsx)(mM,{className:"mr-1 text-sm"}),"Delete"]}),(0,nP.jsxs)(Qe,{to:"/recipes/edit/".concat(e.id),className:"px-3 py-1 text-sm bg-blue-500 text-white rounded-lg flex items-center hover:bg-blue-600 transition-colors duration-300",children:[(0,nP.jsx)(vM,{className:"mr-1 text-sm"}),"Edit"]})]})]})]},e.id)}))})]})},wM=function(e){e.recipe;var t=l((0,r.useState)(null),2),n=t[0],i=t[1],a=xe().authorId,o=l((0,r.useState)(null),2),s=(o[0],o[1]),u=l((0,r.useState)(!0),2),c=(u[0],u[1]),f=l((0,r.useState)(qO),2),d=f[0],h=f[1],p=l((0,r.useState)(!1),2),v=p[0],m=p[1],g=l((0,r.useState)(""),2),y=g[0],b=g[1],k=l((0,r.useState)(!1),2),w=k[0],x=k[1];(0,r.useEffect)((function(){var e=GO.onAuthStateChanged(function(){var e=Ze($e().mark((function e(t){var n,r,a,o;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=30;break}return e.prev=1,e.next=4,tP(t);case 4:return n=KO.collection("users").doc(t.uid),e.next=7,n.get();case 7:if(!(r=e.sent).exists){e.next=14;break}a=r.data(),i(a),h(a.photoURL||qO),e.next=19;break;case 14:return o={displayName:t.displayName||"Unknown",email:t.email,photoURL:t.photoURL||qO},e.next=17,n.set(o);case 17:i(o),h(qO);case 19:e.next=24;break;case 21:e.prev=21,e.t0=e.catch(1),console.error("Error fetching user data:",e.t0);case 24:return e.prev=24,c(!1),x(!0),e.finish(24);case 28:e.next=33;break;case 30:i(null),c(!1),x(!0);case 33:case"end":return e.stop()}}),e,null,[[1,21,24,28]])})));return function(t){return e.apply(this,arguments)}}());return function(){return e()}}),[]),(0,r.useEffect)((function(){var e=function(){var e=Ze($e().mark((function e(){var t,n,r,i;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=KO.collection("users").doc(a),e.next=4,t.get();case 4:(n=e.sent).exists?(r=n.data(),i=r.photoURL,h(i||qO)):h(qO),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.error("Error retrieving default profile image URL:",e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}();n&&!d&&e()}),[n,d,a]);var _=function(){var e=Ze($e().mark((function e(t){var r,a,o;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.target.files[0],s(r),e.prev=2,c(!0),!r){e.next=19;break}return e.next=7,eP(GO.currentUser,r,c,i);case 7:if(!(a=e.sent)){e.next=16;break}return o={photoURL:a},e.next=12,tP(GO.currentUser,o);case 12:i((function(e){return St(St({},e),{},{photoURL:a})})),S(GO.currentUser.uid,n.displayName,a),e.next=17;break;case 16:console.error("Invalid image URL.");case 17:e.next=20;break;case 19:i((function(e){return St(St({},e),{},{photoURL:n.photoURL||qO})}));case 20:e.next=25;break;case 22:e.prev=22,e.t0=e.catch(2),console.error("Error uploading photo:",e.t0);case 25:return e.prev=25,c(!1),e.finish(25);case 28:case"end":return e.stop()}}),e,null,[[2,22,25,28]])})));return function(t){return e.apply(this,arguments)}}(),S=function(){var e=Ze($e().mark((function e(t,n,r){var i,a,o;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,i=KO.collection("recipes").where("authorId","==",t),e.next=4,i.get();case 4:return a=e.sent,o=KO.batch(),a.forEach((function(e){var t=KO.collection("recipes").doc(e.id);o.update(t,{author:n,photoURL:r})})),e.next=9,o.commit();case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.error("Error updating recipes author:",e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t,n,r){return e.apply(this,arguments)}}(),E=function(){console.log("Popup Closed"),m(!1),b(n.displayName||""),localStorage.removeItem("newDisplayName")},I=function(){var e=Ze($e().mark((function e(){var t,n,r;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c(!0),e.prev=1,e.next=4,GO.currentUser.updateProfile({displayName:y});case 4:return e.next=6,tP(GO.currentUser,{displayName:y});case 6:return t=KO.collection("recipes").where("authorId","==",GO.currentUser.uid),e.next=9,t.get();case 9:return n=e.sent,r=n.docs.map(function(){var e=Ze($e().mark((function e(t){var n;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=KO.collection("recipes").doc(t.id),e.next=3,n.update({author:y});case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.next=13,Promise.all(r);case 13:i((function(e){return St(St({},e),{},{displayName:y})})),b(y),localStorage.setItem("newDisplayName",y),c(!1),E(),e.next=24;break;case 20:e.prev=20,e.t0=e.catch(1),console.error("Error updating display name:",e.t0),c(!1);case 24:case"end":return e.stop()}}),e,null,[[1,20]])})));return function(){return e.apply(this,arguments)}}();return w?n?(0,nP.jsxs)(nP.Fragment,{children:[(0,nP.jsxs)("div",{className:"flex flex-col items-center px-4 py-4  bg-gradient-to-br from-purple-600 to-pink-500 font-logo",children:[(0,nP.jsxs)("div",{className:"w-32 h-32 relative rounded-full",children:[n.photoURL?(0,nP.jsx)("img",{src:n.photoURL,alt:"Profile Preview",className:"w-full h-full object-cover border-2 rounded-full"}):(0,nP.jsx)("img",{src:d,alt:"Profile",className:"w-full h-full object-cover rounded-full border-2"}),(0,nP.jsxs)("label",{htmlFor:"photoUpload",className:"absolute bottom-0 right-0 bg-white rounded-full p-1 cursor-pointer transition-opacity hover:opacity-75",children:[(0,nP.jsx)(gM,{className:"h-6 w-6 text-blue-500"}),(0,nP.jsx)("input",{id:"photoUpload",type:"file",accept:"image/*",className:"hidden",onChange:_})]})]}),(0,nP.jsxs)("div",{className:"flex flex-row items-center mt-4",children:[(0,nP.jsx)("p",{className:"text-xl text-white text-center item-center justify-center",children:n.displayName}),(0,nP.jsx)("div",{className:"flex flex-col items-center text-blue-500 m-1 cursor-pointer transition-opacity hover:opacity-75",onClick:function(){m(!0),b(n.displayName||"")},children:(0,nP.jsx)(vM,{className:"mr-1"})})]}),(0,nP.jsx)("p",{className:"text-amber-500 mb-4",children:n.email}),v&&(0,nP.jsx)("div",{className:"fixed top-0 left-0 right-0 bottom-0 flex items-center justify-center bg-purple-200 bg-opacity-50 z-10",children:(0,nP.jsxs)("div",{className:"bg-white p-4 rounded-lg shadow-lg",children:[(0,nP.jsx)("h2",{className:"text-xl font-bold mb-4",children:"Edit Display Name"}),(0,nP.jsx)("input",{type:"text",className:"w-full border border-gray-300 p-2 rounded mb-4",placeholder:"Enter new display name",value:y,onChange:function(e){return b(e.target.value)}}),(0,nP.jsxs)("div",{className:"flex justify-end",children:[(0,nP.jsx)("button",{className:"px-4 py-2 bg-blue-500 text-white rounded mr-2",onClick:I,children:"Update"}),(0,nP.jsx)("button",{className:"px-4 py-2 bg-red-500 text-white rounded",onClick:E,children:"Cancel"})]})]})})]}),(0,nP.jsx)("div",{children:(0,nP.jsx)(kM,{authorId:GO.currentUser.uid})}),(0,nP.jsx)("div",{children:(0,nP.jsx)(bM,{authorId:GO.currentUser.uid})})]}):(0,nP.jsx)("div",{className:"flex flex-col items-center px-4 py-4 bg-purple-700 border-top",children:"You are not logged in."}):(0,nP.jsxs)("div",{className:"flex flex-col justify-center  min-h-screen items-center px-4 py-4 bg-gradient-to-br from-purple-600 to-pink-400 border-top",children:[(0,nP.jsx)(gP,{})," LOADING..."]})};function xM(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var _M=n(715),SM=n.n(_M),EM=["as","className","type","tooltip"],IM={type:Lj().string,tooltip:Lj().bool,as:Lj().elementType},TM=r.forwardRef((function(e,t){var n=e.as,r=void 0===n?"div":n,i=e.className,a=e.type,o=void 0===a?"valid":a,s=e.tooltip,u=void 0!==s&&s,c=xM(e,EM);return(0,nP.jsx)(r,St(St({},c),{},{ref:t,className:SM()(i,"".concat(o,"-").concat(u?"tooltip":"feedback"))}))}));TM.displayName="Feedback",TM.propTypes=IM;var CM=TM,NM=r.createContext({}),OM=["xxl","xl","lg","md","sm","xs"],PM=r.createContext({prefixes:{},breakpoints:OM,minBreakpoint:"xs"});PM.Consumer,PM.Provider;function AM(e,t){var n=(0,r.useContext)(PM).prefixes;return e||n[t]||t}var RM=["id","bsPrefix","className","type","isValid","isInvalid","as"],jM=r.forwardRef((function(e,t){var n=e.id,i=e.bsPrefix,a=e.className,o=e.type,s=void 0===o?"checkbox":o,u=e.isValid,c=void 0!==u&&u,l=e.isInvalid,f=void 0!==l&&l,d=e.as,h=void 0===d?"input":d,p=xM(e,RM),v=(0,r.useContext)(NM).controlId;return i=AM(i,"form-check-input"),(0,nP.jsx)(h,St(St({},p),{},{ref:t,type:s,id:n||v,className:SM()(a,i,c&&"is-valid",f&&"is-invalid")}))}));jM.displayName="FormCheckInput";var DM=jM,LM=["bsPrefix","className","htmlFor"],MM=r.forwardRef((function(e,t){var n=e.bsPrefix,i=e.className,a=e.htmlFor,o=xM(e,LM),s=(0,r.useContext)(NM).controlId;return n=AM(n,"form-check-label"),(0,nP.jsx)("label",St(St({},o),{},{ref:t,htmlFor:a||s,className:SM()(i,n)}))}));MM.displayName="FormCheckLabel";var UM=MM;var FM=["id","bsPrefix","bsSwitchPrefix","inline","reverse","disabled","isValid","isInvalid","feedbackTooltip","feedback","feedbackType","className","style","title","type","label","children","as"],zM=r.forwardRef((function(e,t){var n=e.id,i=e.bsPrefix,a=e.bsSwitchPrefix,o=e.inline,s=void 0!==o&&o,u=e.reverse,c=void 0!==u&&u,l=e.disabled,f=void 0!==l&&l,d=e.isValid,h=void 0!==d&&d,p=e.isInvalid,v=void 0!==p&&p,m=e.feedbackTooltip,g=void 0!==m&&m,y=e.feedback,b=e.feedbackType,k=e.className,w=e.style,x=e.title,_=void 0===x?"":x,S=e.type,E=void 0===S?"checkbox":S,I=e.label,T=e.children,C=e.as,N=void 0===C?"input":C,O=xM(e,FM);i=AM(i,"form-check"),a=AM(a,"form-switch");var P=(0,r.useContext)(NM).controlId,A=(0,r.useMemo)((function(){return{controlId:n||P}}),[P,n]),R=!T&&null!=I&&!1!==I||function(e,t){return r.Children.toArray(e).some((function(e){return r.isValidElement(e)&&e.type===t}))}(T,UM),j=(0,nP.jsx)(DM,St(St({},O),{},{type:"switch"===E?"checkbox":E,ref:t,isValid:h,isInvalid:v,disabled:f,as:N}));return(0,nP.jsx)(NM.Provider,{value:A,children:(0,nP.jsx)("div",{style:w,className:SM()(k,R&&i,s&&"".concat(i,"-inline"),c&&"".concat(i,"-reverse"),"switch"===E&&a),children:T||(0,nP.jsxs)(nP.Fragment,{children:[j,R&&(0,nP.jsx)(UM,{title:_,children:I}),y&&(0,nP.jsx)(CM,{type:b,tooltip:g,children:y})]})})})}));zM.displayName="FormCheck";var VM=Object.assign(zM,{Input:DM,Label:UM}),BM=(n(991),["bsPrefix","type","size","htmlSize","id","className","isValid","isInvalid","plaintext","readOnly","as"]),qM=r.forwardRef((function(e,t){var n,i,a=e.bsPrefix,o=e.type,s=e.size,u=e.htmlSize,c=e.id,l=e.className,f=e.isValid,d=void 0!==f&&f,h=e.isInvalid,p=void 0!==h&&h,v=e.plaintext,m=e.readOnly,g=e.as,y=void 0===g?"input":g,b=xM(e,BM),k=(0,r.useContext)(NM).controlId;(a=AM(a,"form-control"),v)?n=xt({},"".concat(a,"-plaintext"),!0):(xt(i={},a,!0),xt(i,"".concat(a,"-").concat(s),s),n=i);return(0,nP.jsx)(y,St(St({},b),{},{type:o,size:u,ref:t,readOnly:m,id:c||k,className:SM()(l,n,d&&"is-valid",p&&"is-invalid","color"===o&&"".concat(a,"-color"))}))}));qM.displayName="FormControl";var HM=Object.assign(qM,{Feedback:CM}),WM=/-(.)/g;var GM=["className","bsPrefix","as"],KM=function(e){return e[0].toUpperCase()+(t=e,t.replace(WM,(function(e,t){return t.toUpperCase()}))).slice(1);var t};function QM(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.displayName,i=void 0===n?KM(e):n,a=t.Component,o=t.defaultProps,s=r.forwardRef((function(t,n){var r=t.className,i=t.bsPrefix,s=t.as,u=void 0===s?a||"div":s,c=xM(t,GM),l=St(St({},o),c),f=AM(i,e);return(0,nP.jsx)(u,St({ref:n,className:SM()(r,f)},l))}));return s.displayName=i,s}var YM=QM("form-floating"),XM=["controlId","as"],$M=r.forwardRef((function(e,t){var n=e.controlId,i=e.as,a=void 0===i?"div":i,o=xM(e,XM),s=(0,r.useMemo)((function(){return{controlId:n}}),[n]);return(0,nP.jsx)(NM.Provider,{value:s,children:(0,nP.jsx)(a,St(St({},o),{},{ref:t}))})}));$M.displayName="FormGroup";var JM=$M,ZM=["as","bsPrefix","className"],eU=["className"];function tU(e){var t=e.as,n=e.bsPrefix,i=e.className,a=xM(e,ZM);n=AM(n,"col");var o=(0,r.useContext)(PM).breakpoints,s=(0,r.useContext)(PM).minBreakpoint,u=[],c=[];return o.forEach((function(e){var t,r,i,o=a[e];delete a[e],"object"===typeof o&&null!=o?(t=o.span,r=o.offset,i=o.order):t=o;var l=e!==s?"-".concat(e):"";t&&u.push(!0===t?"".concat(n).concat(l):"".concat(n).concat(l,"-").concat(t)),null!=i&&c.push("order".concat(l,"-").concat(i)),null!=r&&c.push("offset".concat(l,"-").concat(r))})),[St(St({},a),{},{className:SM().apply(void 0,[i].concat(u,c))}),{as:t,bsPrefix:n,spans:u}]}var nU=r.forwardRef((function(e,t){var n=l(tU(e),2),r=n[0],i=r.className,a=xM(r,eU),o=n[1],s=o.as,u=void 0===s?"div":s,c=o.bsPrefix,f=o.spans;return(0,nP.jsx)(u,St(St({},a),{},{ref:t,className:SM()(i,!f.length&&c)}))}));nU.displayName="Col";var rU=nU,iU=["as","bsPrefix","column","visuallyHidden","className","htmlFor"],aU=r.forwardRef((function(e,t){var n=e.as,i=void 0===n?"label":n,a=e.bsPrefix,o=e.column,s=void 0!==o&&o,u=e.visuallyHidden,c=void 0!==u&&u,l=e.className,f=e.htmlFor,d=xM(e,iU),h=(0,r.useContext)(NM).controlId;a=AM(a,"form-label");var p="col-form-label";"string"===typeof s&&(p="".concat(p," ").concat(p,"-").concat(s));var v=SM()(l,a,c&&"visually-hidden",s&&p);return f=f||h,s?(0,nP.jsx)(rU,St({ref:t,as:"label",className:v,htmlFor:f},d)):(0,nP.jsx)(i,St({ref:t,className:v,htmlFor:f},d))}));aU.displayName="FormLabel";var oU=aU,sU=["bsPrefix","className","id"],uU=r.forwardRef((function(e,t){var n=e.bsPrefix,i=e.className,a=e.id,o=xM(e,sU),s=(0,r.useContext)(NM).controlId;return n=AM(n,"form-range"),(0,nP.jsx)("input",St(St({},o),{},{type:"range",ref:t,className:SM()(i,n),id:a||s}))}));uU.displayName="FormRange";var cU=uU,lU=["bsPrefix","size","htmlSize","className","isValid","isInvalid","id"],fU=r.forwardRef((function(e,t){var n=e.bsPrefix,i=e.size,a=e.htmlSize,o=e.className,s=e.isValid,u=void 0!==s&&s,c=e.isInvalid,l=void 0!==c&&c,f=e.id,d=xM(e,lU),h=(0,r.useContext)(NM).controlId;return n=AM(n,"form-select"),(0,nP.jsx)("select",St(St({},d),{},{size:a,ref:t,className:SM()(o,n,i&&"".concat(n,"-").concat(i),u&&"is-valid",l&&"is-invalid"),id:f||h}))}));fU.displayName="FormSelect";var dU=fU,hU=["bsPrefix","className","as","muted"],pU=r.forwardRef((function(e,t){var n=e.bsPrefix,r=e.className,i=e.as,a=void 0===i?"small":i,o=e.muted,s=xM(e,hU);return n=AM(n,"form-text"),(0,nP.jsx)(a,St(St({},s),{},{ref:t,className:SM()(r,n,o&&"text-muted")}))}));pU.displayName="FormText";var vU=pU,mU=r.forwardRef((function(e,t){return(0,nP.jsx)(VM,St(St({},e),{},{ref:t,type:"switch"}))}));mU.displayName="Switch";var gU=Object.assign(mU,{Input:VM.Input,Label:VM.Label}),yU=["bsPrefix","className","children","controlId","label"],bU=r.forwardRef((function(e,t){var n=e.bsPrefix,r=e.className,i=e.children,a=e.controlId,o=e.label,s=xM(e,yU);return n=AM(n,"form-floating"),(0,nP.jsxs)(JM,St(St({ref:t,className:SM()(r,n),controlId:a},s),{},{children:[i,(0,nP.jsx)("label",{htmlFor:a,children:o})]}))}));bU.displayName="FloatingLabel";var kU=bU,wU=["className","validated","as"],xU={_ref:Lj().any,validated:Lj().bool,as:Lj().elementType},_U=r.forwardRef((function(e,t){var n=e.className,r=e.validated,i=e.as,a=void 0===i?"form":i,o=xM(e,wU);return(0,nP.jsx)(a,St(St({},o),{},{ref:t,className:SM()(n,r&&"was-validated")}))}));_U.displayName="Form",_U.propTypes=xU;var SU=Object.assign(_U,{Group:JM,Control:HM,Floating:YM,Check:VM,Switch:gU,Label:oU,Text:vU,Range:cU,Select:dU,FloatingLabel:kU}),EU=["as","disabled"];function IU(e){var t=e.tagName,n=e.disabled,r=e.href,i=e.target,a=e.rel,o=e.role,s=e.onClick,u=e.tabIndex,c=void 0===u?0:u,l=e.type;t||(t=null!=r||null!=i||null!=a?"a":"button");var f={tagName:t};if("button"===t)return[{type:l||"button",disabled:n},f];var d=function(e){(n||"a"===t&&function(e){return!e||"#"===e.trim()}(r))&&e.preventDefault(),n?e.stopPropagation():null==s||s(e)};return"a"===t&&(r||(r="#"),n&&(r=void 0)),[{role:null!=o?o:"button",disabled:void 0,tabIndex:n?void 0:c,href:r,target:"a"===t?i:void 0,"aria-disabled":n||void 0,rel:"a"===t?a:void 0,onClick:d,onKeyDown:function(e){" "===e.key&&(e.preventDefault(),d(e))}},f]}var TU=r.forwardRef((function(e,t){var n=e.as,r=e.disabled,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,EU),a=l(IU(Object.assign({tagName:n,disabled:r},i)),2),o=a[0],s=a[1].tagName;return(0,nP.jsx)(s,Object.assign({},i,o,{ref:t}))}));TU.displayName="Button";var CU=["as","bsPrefix","variant","size","active","disabled","className"],NU=r.forwardRef((function(e,t){var n=e.as,r=e.bsPrefix,i=e.variant,a=void 0===i?"primary":i,o=e.size,s=e.active,u=void 0!==s&&s,c=e.disabled,f=void 0!==c&&c,d=e.className,h=xM(e,CU),p=AM(r,"btn"),v=l(IU(St({tagName:n,disabled:f},h)),2),m=v[0],g=v[1].tagName;return(0,nP.jsx)(g,St(St(St({},m),h),{},{ref:t,disabled:f,className:SM()(d,p,u&&"active",a&&"".concat(p,"-").concat(a),o&&"".concat(p,"-").concat(o),h.href&&f&&"disabled")}))}));NU.displayName="Button";var OU=NU,PU=["color","size","title"];function AU(){return AU=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},AU.apply(this,arguments)}function RU(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var jU=(0,r.forwardRef)((function(e,t){var n=e.color,i=e.size,a=e.title,o=RU(e,PU);return r.createElement("svg",AU({ref:t,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",width:i,height:i,fill:n},o),a?r.createElement("title",null,a):null,r.createElement("path",{d:"M5.5 5.5A.5.5 0 0 1 6 6v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm2.5 0a.5.5 0 0 1 .5.5v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm3 .5a.5.5 0 0 0-1 0v6a.5.5 0 0 0 1 0V6z"}),r.createElement("path",{fillRule:"evenodd",d:"M14.5 3a1 1 0 0 1-1 1H13v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V4h-.5a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1H6a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1h3.5a1 1 0 0 1 1 1v1zM4.118 4 4 4.059V13a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1V4.059L11.882 4H4.118zM2.5 3V2h11v1h-11z"}))}));jU.propTypes={color:Lj().string,size:Lj().oneOfType([Lj().string,Lj().number]),title:Lj().string},jU.defaultProps={color:"currentColor",size:"1em",title:null};var DU,LU=jU,MU=new Uint8Array(16);function UU(){if(!DU&&!(DU="undefined"!==typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!==typeof msCrypto&&"function"===typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return DU(MU)}var FU=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;for(var zU=function(e){return"string"===typeof e&&FU.test(e)},VU=[],BU=0;BU<256;++BU)VU.push((BU+256).toString(16).substr(1));var qU=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=(VU[e[t+0]]+VU[e[t+1]]+VU[e[t+2]]+VU[e[t+3]]+"-"+VU[e[t+4]]+VU[e[t+5]]+"-"+VU[e[t+6]]+VU[e[t+7]]+"-"+VU[e[t+8]]+VU[e[t+9]]+"-"+VU[e[t+10]]+VU[e[t+11]]+VU[e[t+12]]+VU[e[t+13]]+VU[e[t+14]]+VU[e[t+15]]).toLowerCase();if(!zU(n))throw TypeError("Stringified UUID is invalid");return n};var HU=function(e,t,n){var r=(e=e||{}).random||(e.rng||UU)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,t){n=n||0;for(var i=0;i<16;++i)t[n+i]=r[i];return t}return qU(r)},WU=function(e){var t=e.userAuth,n=l((0,r.useState)({title:"",description:"",ingredients:[""],instructions:[""],author:(null===t||void 0===t?void 0:t.displayName)||"",authorId:(null===t||void 0===t?void 0:t.uid)||"",creatorPhoto:(null===t||void 0===t?void 0:t.photoURL)||(null===t||void 0===t?void 0:t.imageURL)||"",createdAt:"",recipeImage:"",category:"",rating:""}),2),i=n[0],a=n[1],o=l((0,r.useState)(null),2),s=(o[0],o[1]),u=l((0,r.useState)(!1),2),c=u[0],f=u[1],h=l((0,r.useState)(!1),2),p=(h[0],h[1]),v=l((0,r.useState)(!1),2),m=v[0],g=v[1],y=l((0,r.useState)(!1),2),b=y[0],k=y[1],w=l((0,r.useState)(!1),2),x=(w[0],w[1]),_=l((0,r.useState)(!1),2),S=_[0],E=_[1];(0,r.useEffect)((function(){if(t){var e=t.displayName,n=t.email,r=t.imageURL,i=t.photoURL,o=t.uid;tP(t,{displayName:e||"Unknown",email:n||"",photoURL:i||r||""}),a((function(t){return St(St({},t),{},{author:e||"Unknown",creatorPhoto:i||r||"",authorId:o})}))}}),[t]);var I=function(){var e=Ze($e().mark((function e(n){var r,i,a;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,g(!0),r=t.uid,i=XO.doc(n.recipeId),e.next=6,i.set(n);case 6:return a=KO.collection("users").doc(r),e.next=9,a.update({activity:Nr.firestore.FieldValue.arrayUnion({recipeId:n.recipeId,recipeName:n.title,date:Nr.firestore.Timestamp.fromDate(new Date)})});case 9:g(!1),E(!0),console.log("Recipe added with ID:",n.recipeId),e.next=18;break;case 14:e.prev=14,e.t0=e.catch(0),g(!1),console.error("Error adding recipe:",e.t0);case 18:case"end":return e.stop()}}),e,null,[[0,14]])})));return function(t){return e.apply(this,arguments)}}(),T=function(e,t,n){var r=e.target.value;if("ingredients"===n){var o=d(i.ingredients);o[t]=r,a((function(e){return St(St({},e),{},{ingredients:o})}))}else if("instructions"===n){var s=d(i.instructions);s[t]=r,a((function(e){return St(St({},e),{},{instructions:s})}))}else a((function(e){return St(St({},e),{},xt({},n,r))}))},C=function(e){"ingredients"===e?a((function(e){return St(St({},e),{},{ingredients:[].concat(d(e.ingredients),[""])})})):"instructions"===e&&a((function(e){return St(St({},e),{},{instructions:[].concat(d(e.instructions),[""])})}))},N=function(e,t){if("ingredients"===e){var n=d(i.ingredients);n.splice(t,1),a((function(e){return St(St({},e),{},{ingredients:n})}))}else if("instructions"===e){var r=d(i.instructions);r.splice(t,1),a((function(e){return St(St({},e),{},{instructions:r})}))}},O=function(){var e=Ze($e().mark((function e(t){var n,r,i;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=QO.ref().child("images/".concat(t.name)),e.next=3,n.put(t);case 3:return r=e.sent,e.next=6,r.ref.getDownloadURL();case 6:return i=e.sent,e.abrupt("return",i);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),P=function(){var e=Ze($e().mark((function e(){var t,n;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=QO.ref().child("images/undefined.png"),e.next=4,t.getDownloadURL();case 4:return n=e.sent,e.abrupt("return",n);case 8:return e.prev=8,e.t0=e.catch(0),console.error("Error uploading default image:",e.t0),e.abrupt("return","");case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}(),A=function(){var e=Ze($e().mark((function e(n){var r,o,u,l,f,d,h;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.preventDefault(),t){e.next=4;break}return console.error("User is not authenticated."),e.abrupt("return");case 4:if(!m&&!b){e.next=6;break}return e.abrupt("return");case 6:if(e.prev=6,k(!0),i.title&&i.description&&0!==i.ingredients.length&&0!==i.instructions.length){e.next=12;break}return s("Please fill in all required fields."),k(!1),e.abrupt("return");case 12:if(r=(null===t||void 0===t?void 0:t.displayName)||"Unknown",o=(null===t||void 0===t?void 0:t.photoURL)||(null===t||void 0===t?void 0:t.imageURL)||"Unknown",u=t.uid,l=HU(),f=Nr.firestore.Timestamp.now(),d=i.recipeImage,i.creatorPhoto||a((function(e){return St(St({},e),{},{creatorPhoto:o})})),c){e.next=38;break}if(e.prev=20,d){e.next=27;break}return e.next=24,P();case 24:d=e.sent,e.next=30;break;case 27:return e.next=29,O(d);case 29:d=e.sent;case 30:e.next=38;break;case 32:return e.prev=32,e.t0=e.catch(20),console.error("Error uploading image:",e.t0),p(!0),k(!1),e.abrupt("return");case 38:return h={title:i.title,description:i.description,ingredients:i.ingredients,instructions:i.instructions,author:r,authorId:u,creatorPhoto:o,createdAt:f,recipeImage:d,recipeId:l,category:i.category,rating:i.rating},e.next=41,I(h);case 41:a({title:"",description:"",ingredients:[""],instructions:[""],author:"",authorId:"",creatorPhoto:"",createdAt:"",recipeImage:"",recipeId:"",category:"",rating:""}),p(!0),e.next=49;break;case 45:e.prev=45,e.t1=e.catch(6),console.error("Error adding recipe:",e.t1),x(!0);case 49:return e.prev=49,k(!1),e.finish(49);case 52:case"end":return e.stop()}}),e,null,[[6,45,49,52],[20,32]])})));return function(t){return e.apply(this,arguments)}}();return(0,nP.jsxs)("div",{className:"container mx-auto px-8 py-4 bg-purple-700",children:[(0,nP.jsx)("h2",{className:"text-2xl font-bold mb-4 text-center text-white",children:"FORM RECIPE"}),(0,nP.jsx)("h2",{className:"text-xl font-bold mb-4 text-center text-white",children:"Resep Masakan Indonesia"}),(0,nP.jsxs)(SU,{onSubmit:A,children:[(0,nP.jsxs)(SU.Group,{controlId:"title",children:[(0,nP.jsx)(SU.Label,{className:"text-white",children:"Nama Resep"}),(0,nP.jsx)(HM,{as:"textarea",name:"title",defaultValue:i.title,onChange:function(e){return T(e,null,"title")},placeholder:"Nama Resep",className:"custom-input w-full h-12 md:h-16 rounded resize-none","aria-label":"Nama Resep"})]}),(0,nP.jsxs)(SU.Group,{controlId:"description",children:[(0,nP.jsx)(SU.Label,{className:"text-white",children:"Deskripsi"}),(0,nP.jsx)(HM,{as:"textarea",name:"description",defaultValue:i.description,onChange:function(e){return T(e,null,"description")},placeholder:"Deskripsi",className:"custom-input w-full h-20 md:h-26 rounded resize-vertical","aria-label":"Deskripsi"})]}),(0,nP.jsxs)("div",{className:"mb-4",children:[(0,nP.jsx)("h4",{className:"text-lg font-semibold mb-2 text-white",children:"Bahan-Bahan"}),i.ingredients.map((function(e,t){return(0,nP.jsxs)("div",{className:"flex items-center mb-2",children:[(0,nP.jsxs)("span",{className:"mr-2",children:[t+1,"."]}),(0,nP.jsx)("div",{className:"custom-input-group flex-grow",children:(0,nP.jsx)("textarea",{type:"text",value:e,onChange:function(e){return T(e,t,"ingredients")},placeholder:"Bahan","aria-label":"Bahan",className:"custom-input w-full rounded"})}),(0,nP.jsx)(OU,{onClick:function(){return N("ingredients",t)},variant:"danger",className:"ml-3 btn-icon text-red-500 hover:text-red-700",children:(0,nP.jsx)(LU,{})})]},"ingredient-".concat(t))})),(0,nP.jsx)(OU,{onClick:function(){return C("ingredients")},variant:"primary",className:"btn-icon bg-white rounded-full px-2 text-center text-orange-500 hover:text-secondary-700",children:"Add"})]}),(0,nP.jsxs)("div",{className:"mb-4",children:[(0,nP.jsx)("h4",{className:"text-lg font-semibold mb-2 text-white",children:"Cara Membuat"}),i.instructions.map((function(e,t){return(0,nP.jsxs)("div",{className:"flex items-center mb-2",children:[(0,nP.jsxs)("span",{className:"mr-2",children:[t+1,"."]}),(0,nP.jsx)("div",{className:"custom-input-group flex-grow",children:(0,nP.jsx)("textarea",{type:"text",value:e,onChange:function(e){return T(e,t,"instructions")},placeholder:"Cara Membuat","aria-label":"Cara Membuat",className:"custom-input w-full rounded"})}),(0,nP.jsx)(OU,{onClick:function(){return N("instructions",t)},variant:"danger",className:"ml-3 btn-icon text-red-500 hover:text-red-700",children:(0,nP.jsx)(LU,{})})]},"instruction-".concat(t))})),(0,nP.jsx)(OU,{onClick:function(){return C("instructions")},variant:"primary",className:"btn-icon bg-white rounded-full px-2 text-center text-orange-500 hover:text-secondary-700",children:"Add"})]}),(0,nP.jsxs)(SU.Group,{controlId:"category",children:[(0,nP.jsx)(SU.Label,{className:"text-white mr-2",children:"Kategori"}),(0,nP.jsxs)(SU.Control,{as:"select",name:"category",value:i.category,onChange:function(e){return T(e,null,"category")},className:"custom-select rounded w-54 bg-gray-500",children:[(0,nP.jsx)("option",{value:"",children:"-- Pilih Kategori --"}),["Sarapan","Makan Siang","Makan Malam","Camilan","Seafood","Hidangan Pembuka","Hidangan Utama","Hidangan Penutup","Kue/Roti","Minuman","Hidangan Tradisional","Hidangan Sehat","Hidangan Vegetarian"].map((function(e){return(0,nP.jsx)("option",{value:e,children:e},e)}))]})]}),(0,nP.jsxs)("div",{children:[(0,nP.jsx)("label",{className:"block text-white font-bold mb-2",children:"Gambar"}),(0,nP.jsxs)("div",{className:"flex items-center space-x-4 mb-4",children:[(0,nP.jsxs)("div",{children:[(0,nP.jsx)("input",{type:"radio",id:"imageFromStorage",name:"imageSource",checked:!c,onChange:function(){f(!1),a((function(e){return St(St({},e),{},{recipeImage:""})}))},"aria-label":"Pilih Gambar dari Penyimpanan"}),(0,nP.jsx)("label",{htmlFor:"imageFromStorage",className:"mr-2",children:"Pilih Gambar dari Penyimpanan"})]}),(0,nP.jsxs)("div",{children:[(0,nP.jsx)("input",{type:"radio",id:"imageFromUrl",name:"imageSource",checked:c,onChange:function(){return f(!0)},"aria-label":"Masukkan URL Gambar"}),(0,nP.jsx)("label",{htmlFor:"imageFromUrl",children:"Masukkan URL Gambar"})]})]}),c?(0,nP.jsx)("div",{children:(0,nP.jsx)("input",{type:"text",id:"imageUrl",value:i.recipeImage,onChange:function(e){var t=e.target.value;a((function(e){return St(St({},e),{},{recipeImage:t})})),f(!0)},placeholder:"URL Gambar","aria-label":"URL Gambar",className:"custom-input"})}):(0,nP.jsx)("div",{children:(0,nP.jsx)("input",{type:"file",accept:"image/*",id:"image",onChange:function(e){var t=e.target.files[0];a((function(e){return St(St({},e),{},{recipeImage:t})})),f(!1)},className:"custom-file-input"})})]}),(0,nP.jsx)("div",{className:"text-center mt-4 px-2 py-2 ",children:(0,nP.jsx)(OU,{type:"submit",variant:"primary",style:{display:"inline-block",width:"auto",backgroundColor:"orange",borderRadius:"10px"},children:m||b?(0,nP.jsxs)("div",{className:"flex items-center justify-center p-2",children:[(0,nP.jsx)("div",{className:"spinner-border text-light mr-2",role:"status",children:(0,nP.jsx)("span",{className:"sr-only",children:"Loading..."})}),m?"Loading...":"Submitting..."]}):"Upload Resep"})}),(0,nP.jsx)(Qe,{to:"/profile",className:"text-white mb-2 hover:underline",children:"< Back to Profile"}),(0,nP.jsx)("p",{className:"mt-2 text-secondary-500",children:"Note : Setelah Berhasil Membuat Resep Silahkan Muat Ulang Halaman"})]}),S&&(0,nP.jsxs)("div",{className:"fixed bottom-5 left-5 bg-gray-100 p-4 rounded shadow-md",children:[(0,nP.jsx)("p",{className:"text-center text-gray-800",children:"Resep berhasil ditambahkan!"}),(0,nP.jsx)("button",{className:"mt-2 bg-blue-500 text-white py-2 px-4 rounded",onClick:function(){E(!1)},children:"Tutup"})]})]})},GU=r.createContext(null);GU.displayName="InputGroupContext";var KU=GU,QU=["bsPrefix","size","hasValidation","className","as"],YU=QM("input-group-text",{Component:"span"}),XU=r.forwardRef((function(e,t){var n=e.bsPrefix,i=e.size,a=e.hasValidation,o=e.className,s=e.as,u=void 0===s?"div":s,c=xM(e,QU);n=AM(n,"input-group");var l=(0,r.useMemo)((function(){return{}}),[]);return(0,nP.jsx)(KU.Provider,{value:l,children:(0,nP.jsx)(u,St(St({ref:t},c),{},{className:SM()(o,n,i&&"".concat(n,"-").concat(i),a&&"has-validation")}))})}));XU.displayName="InputGroup";var $U=Object.assign(XU,{Text:YU,Radio:function(e){return(0,nP.jsx)(YU,{children:(0,nP.jsx)(DM,St({type:"radio"},e))})},Checkbox:function(e){return(0,nP.jsx)(YU,{children:(0,nP.jsx)(DM,St({type:"checkbox"},e))})}}),JU=function(e){e.user;var t=xe().id,n=we(),i=l((0,r.useState)({title:"",description:"",ingredients:[],instructions:[],category:""}),2),a=i[0],o=i[1],s=l((0,r.useState)(!1),2),u=s[0],c=s[1];(0,r.useEffect)((function(){var e=function(){var e=Ze($e().mark((function e(){var n,r,i;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=KO.collection("recipes").doc(t),e.next=4,n.get();case 4:(r=e.sent).exists?(i=r.data(),o(i)):console.log("Recipe does not exist."),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.error("Error fetching recipe:",e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}();e()}),[t]);var f=function(e){var t=e.target,n=t.name,r=t.value;o((function(e){return St(St({},e),{},xt({},n,r))}))},h=function(e){"ingredients"===e?o((function(e){return St(St({},e),{},{ingredients:[].concat(d(e.ingredients),[""])})})):"instructions"===e&&o((function(e){return St(St({},e),{},{instructions:[].concat(d(e.instructions),[""])})}))},p=function(e,t){if("ingredients"===e){var n=d(a.ingredients);n.splice(t,1),o((function(e){return St(St({},e),{},{ingredients:n})}))}else if("instructions"===e){var r=d(a.instructions);r.splice(t,1),o((function(e){return St(St({},e),{},{instructions:r})}))}},v=function(){var e=Ze($e().mark((function e(r){var i,o,s,c,l,f;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r.preventDefault(),e.prev=1,!u){e.next=10;break}return i=KO.collection("recipes").doc(t),e.next=6,i.update(a);case 6:console.log("Recipe updated successfully!"),n("/recipes/".concat(t)),e.next=26;break;case 10:if(a.recipeImage){e.next=13;break}return console.error("Recipe image is required."),e.abrupt("return");case 13:return o=QO.ref().child("images/".concat(a.recipeImage.name)),e.next=16,o.put(a.recipeImage);case 16:return s=e.sent,e.next=19,s.ref.getDownloadURL();case 19:return c=e.sent,l=St(St({},a),{},{recipeImage:c}),f=KO.collection("recipes").doc(t),e.next=24,f.update(l);case 24:console.log("Recipe with updated image from storage updated successfully!"),n("/recipes/".concat(t));case 26:e.next=31;break;case 28:e.prev=28,e.t0=e.catch(1),console.error("Error updating recipe:",e.t0);case 31:case"end":return e.stop()}}),e,null,[[1,28]])})));return function(t){return e.apply(this,arguments)}}();return(0,nP.jsxs)("div",{className:"container mx-auto px-8 py-4 bg-purple-700",children:[(0,nP.jsx)(Qe,{to:"/profile",className:"text-orange-300 hover:underline",children:"< Back to Profile"}),(0,nP.jsx)("h2",{className:"text-2xl font-bold mb-4 text-center text-white",children:"Edit Recipe"}),(0,nP.jsxs)(SU,{onSubmit:v,children:[(0,nP.jsxs)(SU.Group,{controlId:"title",children:[(0,nP.jsx)(SU.Label,{className:"text-white",children:"Nama Resep"}),(0,nP.jsx)(HM,{type:"text",name:"title",value:a.title,onChange:f,placeholder:"Masukkan nama resep",className:"w-full border rounded py-2 px-4 mb-4"})]}),(0,nP.jsxs)(SU.Group,{controlId:"description",children:[(0,nP.jsx)(SU.Label,{className:"text-white",children:"Deskripsi"}),(0,nP.jsx)(HM,{as:"textarea",name:"description",value:a.description,onChange:f,placeholder:"Masukkan deskripsi",rows:4,className:"w-full border rounded py-2 px-4 mb-4"})]}),(0,nP.jsxs)(SU.Group,{controlId:"category",children:[(0,nP.jsx)(SU.Label,{className:"text-white",children:"Kategori"}),(0,nP.jsxs)(SU.Control,{as:"select",name:"category",value:a.category,onChange:f,className:"w-auto ml-2 mb-4 mr-2 bg-orange-500 text-white item-center rounded",children:[(0,nP.jsx)("option",{value:"",children:"-- Pilih Kategori --"}),["Sarapan","Makan Siang","Makan Malam","Camilan","Seafood","Hidangan Pembuka","Hidangan Utama","Hidangan Penutup","Kue/Roti","Minuman","Hidangan Tradisional","Hidangan Sehat","Hidangan Vegetarian"].map((function(e){return(0,nP.jsx)("option",{value:e,children:e},e)}))]})]}),(0,nP.jsxs)("div",{children:[(0,nP.jsx)("h4",{className:"text-lg font-semibold mb-2 text-white",children:"Bahan-Bahan:"}),a.ingredients.map((function(e,t){return(0,nP.jsxs)($U,{className:"mb-4",children:[(0,nP.jsx)("textarea",{type:"text",value:e,onChange:function(e){return function(e,t){var n=e.target.value,r=d(a.ingredients);r[t]=n,o((function(e){return St(St({},e),{},{ingredients:r})}))}(e,t)},placeholder:"Masukkan bahan",className:"w-full resize-y border rounded py-2 px-4",rows:2}),(0,nP.jsx)(OU,{onClick:function(){return p("ingredients",t)},variant:"danger",children:(0,nP.jsx)(LU,{})})]},t)})),(0,nP.jsx)(OU,{onClick:function(){return h("ingredients")},variant:"primary",className:"btn-icon bg-white rounded-full px-2 text-center text-orange-500 hover:text-secondary-700",children:"Add"})]}),(0,nP.jsxs)("div",{className:"mt-4",children:[(0,nP.jsx)("h4",{className:"text-lg font-semibold mb-2 text-white",children:"Cara Membuat:"}),a.instructions.map((function(e,t){return(0,nP.jsxs)($U,{className:"mb-4",children:[(0,nP.jsx)("textarea",{type:"text",value:e,onChange:function(e){return function(e,t){var n=e.target.value,r=d(a.instructions);r[t]=n,o((function(e){return St(St({},e),{},{instructions:r})}))}(e,t)},placeholder:"Masukkan instruksi",className:"w-full resize-y border rounded py-2 px-4",rows:2}),(0,nP.jsx)(OU,{onClick:function(){return p("instructions",t)},variant:"danger",children:(0,nP.jsx)(LU,{})})]},t)})),(0,nP.jsx)(OU,{onClick:function(){return h("instructions")},variant:"primary",className:"btn-icon bg-white rounded-full px-2 text-center text-orange-500 hover:text-secondary-700",children:"Add"})]}),(0,nP.jsxs)("div",{className:"flex items-center space-x-4 mb-4",children:[(0,nP.jsxs)("div",{children:[(0,nP.jsx)("input",{type:"radio",id:"imageFromStorageEdit",name:"imageSourceEdit",checked:!u,onChange:function(){return c(!1)},"aria-label":"Pilih Gambar dari Penyimpanan"}),(0,nP.jsx)("label",{htmlFor:"imageFromStorageEdit",className:"mr-2",children:"Pilih Gambar dari Penyimpanan"})]}),(0,nP.jsxs)("div",{children:[(0,nP.jsx)("input",{type:"radio",id:"imageFromUrlEdit",name:"imageSourceEdit",checked:u,onChange:function(){return c(!0)},"aria-label":"Masukkan URL Gambar"}),(0,nP.jsx)("label",{htmlFor:"imageFromUrlEdit",children:"Masukkan URL Gambar"})]})]}),(0,nP.jsxs)("div",{children:[(0,nP.jsx)("label",{className:"block text-white font-bold mb-2",children:"Gambar"}),u?(0,nP.jsx)("div",{children:(0,nP.jsx)("input",{type:"text",id:"imageUrlEdit",value:a.recipeImage,onChange:function(e){var t=e.target.value;o((function(e){return St(St({},e),{},{recipeImage:t})}))},placeholder:"URL Gambar","aria-label":"URL Gambar",className:"custom-input"})}):(0,nP.jsx)("div",{children:(0,nP.jsx)("input",{type:"file",accept:"image/*",id:"imageEdit",onChange:function(e){var t=e.target.files[0];o((function(e){return St(St({},e),{},{recipeImage:t})}))},className:"custom-file-input"})})]}),(0,nP.jsx)("div",{className:"text-center mt-4",children:(0,nP.jsx)(OU,{type:"submit",variant:"primary",style:{display:"inline-block",width:"auto",backgroundColor:"orange",borderRadius:"10px"},children:"Simpan Perubahan"})})]})]})},ZU=function(e){var t=e.recipe,n=t.recipeImage,r=t.id,i=t.title;return(0,nP.jsx)(Qe,{to:"/recipes/".concat(r),className:"block w-full",children:(0,nP.jsxs)("div",{className:"border rounded-lg overflow-hidden shadow-md bg-primary-500 font-logo hover:shadow-lg transition-shadow",children:[(0,nP.jsx)("img",{src:n,alt:"Recipe",className:"w-full h-48 object-cover"}),(0,nP.jsx)("div",{className:"p-2",children:(0,nP.jsx)("h3",{className:"text-lg text-center font-semibold",children:i})})]})})},eF=function(){var e=xe().authorId,t=l((0,r.useState)(null),2),n=t[0],i=t[1],a=l((0,r.useState)([]),2),o=a[0],s=a[1],u=l((0,r.useState)(!1),2),c=u[0],f=u[1];if((0,r.useEffect)((function(){var t=function(){var t=Ze($e().mark((function t(){var n,r,a,o,u;return $e().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,f(!0),n=KO.collection("users").doc(e),t.next=5,n.get();case 5:return(r=t.sent).exists?i(r.data()):console.log("User profile not found for authorId:",e),a=KO.collection("recipes").where("authorId","==",e),t.next=10,a.get();case 10:o=t.sent,u=o.docs.map((function(e){return St(St({id:e.id},e.data()),{},{createdAt:e.data().createdAt.toDate()})})),s(u),f(!1),t.next=20;break;case 16:t.prev=16,t.t0=t.catch(0),console.error("Error fetching author profile:",t.t0),f(!1);case 20:case"end":return t.stop()}}),t,null,[[0,16]])})));return function(){return t.apply(this,arguments)}}();t()}),[e]),c)return(0,nP.jsx)("div",{className:"flex justify-center items-center h-screen",children:(0,nP.jsx)("div",{className:"border-t-4 border-blue-500 rounded-full h-12 w-12 animate-spin"})});if(!n)return(0,nP.jsx)("div",{children:"User profile not found."});var d=n.displayName,h=n.photoURL;return(0,nP.jsx)("div",{className:"container mx-auto p-4 bg-gray-300 min-h-screen",children:(0,nP.jsxs)("div",{className:"bg-white p-4 rounded-md shadow-md mb-4",children:[(0,nP.jsxs)("div",{className:"flex flex-col md:flex-row items-center mb-4",children:[(0,nP.jsx)("img",{src:h||"defaultProfileImage",alt:"Author Profile",className:"w-16 h-16 rounded-full mb-2 md:mb-0 md:mr-4 object-cover"}),(0,nP.jsxs)("div",{children:[(0,nP.jsx)("h2",{className:"text-xl md:text-3xl font-bold mb-1 text-center md:text-left",children:d}),(0,nP.jsxs)("p",{className:"text-base md:text-lg font-medium text-gray-600",children:["Recipes Created by ",d]})]})]}),0===o.length?(0,nP.jsx)("p",{children:"No recipes created by this author."}):(0,nP.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:o.map((function(e){return(0,nP.jsx)(ZU,{recipe:e},e.id)}))})]})})},tF=function(){var e=l((0,r.useState)(null),2),t=e[0],n=e[1],i=l((0,r.useState)(null),2),a=i[0],o=i[1];return(0,r.useEffect)((function(){var e=GO.onAuthStateChanged((function(e){n(e),o(e)}));return function(){return e()}}),[]),(0,nP.jsx)(We,{className:"h-screen w-full bg-gradient-to-tr from-primary-500 via-wavy-purple to-accent-400",children:(0,nP.jsxs)("div",{children:[(0,nP.jsx)(rP,{}),(0,nP.jsxs)(Me,{children:[(0,nP.jsx)(De,{path:"/",element:(0,nP.jsx)(rM,{})}),(0,nP.jsx)(De,{path:"/login",element:(0,nP.jsx)(sP,{})}),(0,nP.jsx)(De,{path:"/signup",element:(0,nP.jsx)(uP,{})}),(0,nP.jsx)(De,{path:"/forget-password",element:(0,nP.jsx)(hM,{})}),(0,nP.jsx)(De,{path:"/profile",element:(0,nP.jsx)(wM,{})}),(0,nP.jsx)(De,{path:"/activity-history",element:(0,nP.jsx)(yM,{})}),(0,nP.jsx)(De,{path:"/add-recipe",element:(0,nP.jsx)(WU,{userAuth:a})}),(0,nP.jsx)(De,{path:"/recipe-list",element:(0,nP.jsx)(lP,{userAuth:a})}),(0,nP.jsx)(De,{path:"/user/:authorId",element:(0,nP.jsx)(kM,{user:t})}),(0,nP.jsx)(De,{path:"/recipes/:id",element:(0,nP.jsx)(dM,{user:t})}),(0,nP.jsx)(De,{path:"/recomen",element:(0,nP.jsx)(yP,{user:t})}),(0,nP.jsx)(De,{path:"/author/:authorId",element:(0,nP.jsx)(eF,{})}),(0,nP.jsx)(De,{path:"/messages-list",element:(0,nP.jsx)(tM,{})}),(0,nP.jsx)(De,{path:"/messages",element:(0,nP.jsx)(nM,{})}),(0,nP.jsx)(De,{path:"/float",element:(0,nP.jsx)(bM,{})}),(0,nP.jsx)(De,{path:"/recipes/edit/:id",element:(0,nP.jsx)(JU,{user:t})})]}),(0,nP.jsx)(iP,{})]})})},nF=document.getElementById("root");(0,a.s)(nF).render((0,nP.jsx)(r.StrictMode,{children:(0,nP.jsx)(tF,{})}))}()}();
//# sourceMappingURL=main.d0f77ef4.js.map